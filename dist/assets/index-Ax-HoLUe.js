(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var $c={exports:{}},Ki={},Dc={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Symbol.for("react.element"),Wf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Kf=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Qf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),su=Symbol.iterator;function Xf(t){return t===null||typeof t!="object"?null:(t=su&&t[su]||t["@@iterator"],typeof t=="function"?t:null)}var Uc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bc=Object.assign,Fc={};function In(t,e,r){this.props=t,this.context=e,this.refs=Fc,this.updater=r||Uc}In.prototype.isReactComponent={};In.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};In.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mc(){}Mc.prototype=In.prototype;function nl(t,e,r){this.props=t,this.context=e,this.refs=Fc,this.updater=r||Uc}var sl=nl.prototype=new Mc;sl.constructor=nl;Bc(sl,In.prototype);sl.isPureReactComponent=!0;var iu=Array.isArray,Wc=Object.prototype.hasOwnProperty,il={current:null},Hc={key:!0,ref:!0,__self:!0,__source:!0};function Vc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Wc.call(e,n)&&!Hc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Cs,type:t,key:i,ref:o,props:s,_owner:il.current}}function ep(t,e){return{$$typeof:Cs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ol(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cs}function tp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ou=/\/+/g;function wo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tp(""+t.key):e.toString(36)}function li(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cs:case Wf:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+wo(o,0):n,iu(s)?(r="",t!=null&&(r=t.replace(ou,"$&/")+"/"),li(s,e,r,"",function(c){return c})):s!=null&&(ol(s)&&(s=ep(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ou,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",iu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+wo(i,a);o+=li(i,e,r,l,s)}else if(l=Xf(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+wo(i,a++),o+=li(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $s(t,e,r){if(t==null)return t;var n=[],s=0;return li(t,n,"","",function(i){return e.call(r,i,s++)}),n}function rp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},ui={transition:null},np={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ui,ReactCurrentOwner:il};function Gc(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:$s,forEach:function(t,e,r){$s(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return $s(t,function(){e++}),e},toArray:function(t){return $s(t,function(e){return e})||[]},only:function(t){if(!ol(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=In;me.Fragment=Hf;me.Profiler=Gf;me.PureComponent=nl;me.StrictMode=Vf;me.Suspense=Jf;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np;me.act=Gc;me.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Bc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=il.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Wc.call(e,l)&&!Hc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Cs,type:t.type,key:s,ref:i,props:n,_owner:o}};me.createContext=function(t){return t={$$typeof:Kf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qf,_context:t},t.Consumer=t};me.createElement=Vc;me.createFactory=function(t){var e=Vc.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:Zf,render:t}};me.isValidElement=ol;me.lazy=function(t){return{$$typeof:Yf,_payload:{_status:-1,_result:t},_init:rp}};me.memo=function(t,e){return{$$typeof:Qf,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=ui.transition;ui.transition={};try{t()}finally{ui.transition=e}};me.unstable_act=Gc;me.useCallback=function(t,e){return Qe.current.useCallback(t,e)};me.useContext=function(t){return Qe.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};me.useEffect=function(t,e){return Qe.current.useEffect(t,e)};me.useId=function(){return Qe.current.useId()};me.useImperativeHandle=function(t,e,r){return Qe.current.useImperativeHandle(t,e,r)};me.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Qe.current.useMemo(t,e)};me.useReducer=function(t,e,r){return Qe.current.useReducer(t,e,r)};me.useRef=function(t){return Qe.current.useRef(t)};me.useState=function(t){return Qe.current.useState(t)};me.useSyncExternalStore=function(t,e,r){return Qe.current.useSyncExternalStore(t,e,r)};me.useTransition=function(){return Qe.current.useTransition()};me.version="18.3.1";Dc.exports=me;var ee=Dc.exports;const qc=Lc(ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=ee,ip=Symbol.for("react.element"),op=Symbol.for("react.fragment"),ap=Object.prototype.hasOwnProperty,lp=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,up={key:!0,ref:!0,__self:!0,__source:!0};function Kc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ap.call(e,n)&&!up.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:ip,type:t,key:i,ref:o,props:s,_owner:lp.current}}Ki.Fragment=op;Ki.jsx=Kc;Ki.jsxs=Kc;$c.exports=Ki;var u=$c.exports,Zc={exports:{}},ft={},Jc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,L){var Q=V.length;V.push(L);e:for(;0<Q;){var j=Q-1>>>1,O=V[j];if(0<s(O,L))V[j]=L,V[Q]=O,Q=j;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var L=V[0],Q=V.pop();if(Q!==L){V[0]=Q;e:for(var j=0,O=V.length,F=O>>>1;j<F;){var G=2*(j+1)-1,Z=V[G],ie=G+1,le=V[ie];if(0>s(Z,Q))ie<O&&0>s(le,Z)?(V[j]=le,V[ie]=Q,j=ie):(V[j]=Z,V[G]=Q,j=G);else if(ie<O&&0>s(le,Q))V[j]=le,V[ie]=Q,j=ie;else break e}}return L}function s(V,L){var Q=V.sortIndex-L.sortIndex;return Q!==0?Q:V.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,y=3,g=!1,x=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=V)n(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=r(c)}}function S(V){if(p=!1,w(V),!x)if(r(l)!==null)x=!0,se(k);else{var L=r(c);L!==null&&M(S,L.startTime-V)}}function k(V,L){x=!1,p&&(p=!1,f(T),T=-1),g=!0;var Q=y;try{for(w(L),h=r(l);h!==null&&(!(h.expirationTime>L)||V&&!re());){var j=h.callback;if(typeof j=="function"){h.callback=null,y=h.priorityLevel;var O=j(h.expirationTime<=L);L=t.unstable_now(),typeof O=="function"?h.callback=O:h===r(l)&&n(l),w(L)}else n(l);h=r(l)}if(h!==null)var F=!0;else{var G=r(c);G!==null&&M(S,G.startTime-L),F=!1}return F}finally{h=null,y=Q,g=!1}}var C=!1,I=null,T=-1,R=5,U=-1;function re(){return!(t.unstable_now()-U<R)}function A(){if(I!==null){var V=t.unstable_now();U=V;var L=!0;try{L=I(!0,V)}finally{L?B():(C=!1,I=null)}}else C=!1}var B;if(typeof m=="function")B=function(){m(A)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,W=b.port2;b.port1.onmessage=A,B=function(){W.postMessage(null)}}else B=function(){_(A,0)};function se(V){I=V,C||(C=!0,B())}function M(V,L){T=_(function(){V(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,se(k))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var Q=y;y=L;try{return V()}finally{y=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,L){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=y;y=V;try{return L()}finally{y=Q}},t.unstable_scheduleCallback=function(V,L,Q){var j=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?j+Q:j):Q=j,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Q+O,V={id:d++,callback:L,priorityLevel:V,startTime:Q,expirationTime:O,sortIndex:-1},Q>j?(V.sortIndex=Q,e(c,V),r(l)===null&&V===r(c)&&(p?(f(T),T=-1):p=!0,M(S,Q-j))):(V.sortIndex=O,e(l,V),x||g||(x=!0,se(k))),V},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(V){var L=y;return function(){var Q=y;y=L;try{return V.apply(this,arguments)}finally{y=Q}}}})(Qc);Jc.exports=Qc;var cp=Jc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=ee,ht=cp;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yc=new Set,cs={};function Vr(t,e){xn(t,e),xn(t+"Capture",e)}function xn(t,e){for(cs[t]=e,t=0;t<e.length;t++)Yc.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=Object.prototype.hasOwnProperty,hp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,au={},lu={};function fp(t){return Qo.call(lu,t)?!0:Qo.call(au,t)?!1:hp.test(t)?lu[t]=!0:(au[t]=!0,!1)}function pp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mp(t,e,r,n){if(e===null||typeof e>"u"||pp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var al=/[\-:]([a-z])/g;function ll(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(al,ll);Me[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(al,ll);Me[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(al,ll);Me[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function ul(t,e,r,n){var s=Me.hasOwnProperty(e)?Me[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mp(e,r,s,n)&&(r=null),n||s===null?fp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qt=dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ds=Symbol.for("react.element"),tn=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),cl=Symbol.for("react.strict_mode"),Yo=Symbol.for("react.profiler"),Xc=Symbol.for("react.provider"),ed=Symbol.for("react.context"),dl=Symbol.for("react.forward_ref"),Xo=Symbol.for("react.suspense"),ea=Symbol.for("react.suspense_list"),hl=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),td=Symbol.for("react.offscreen"),uu=Symbol.iterator;function $n(t){return t===null||typeof t!="object"?null:(t=uu&&t[uu]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,xo;function Gn(t){if(xo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xo=e&&e[1]||""}return`
`+xo+t}var bo=!1;function _o(t,e){if(!t||bo)return"";bo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gn(t):""}function gp(t){switch(t.tag){case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 2:case 15:return t=_o(t.type,!1),t;case 11:return t=_o(t.type.render,!1),t;case 1:return t=_o(t.type,!0),t;default:return""}}function ta(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rn:return"Fragment";case tn:return"Portal";case Yo:return"Profiler";case cl:return"StrictMode";case Xo:return"Suspense";case ea:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ed:return(t.displayName||"Context")+".Consumer";case Xc:return(t._context.displayName||"Context")+".Provider";case dl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hl:return e=t.displayName||null,e!==null?e:ta(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return ta(t(e))}catch{}}return null}function yp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ta(e);case 8:return e===cl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vp(t){var e=rd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Us(t){t._valueTracker||(t._valueTracker=vp(t))}function nd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=rd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ra(t,e){var r=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=vr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sd(t,e){e=e.checked,e!=null&&ul(t,"checked",e,!1)}function na(t,e){sd(t,e);var r=vr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sa(t,e.type,r):e.hasOwnProperty("defaultValue")&&sa(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function du(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function sa(t,e,r){(e!=="number"||xi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var qn=Array.isArray;function pn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+vr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ia(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(qn(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:vr(r)}}function id(t,e){var r=vr(e.value),n=vr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function fu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function od(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?od(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bs,ad=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ds(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wp=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(t){wp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qn[e]=Qn[t]})});function ld(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Qn.hasOwnProperty(t)&&Qn[t]?(""+e).trim():e+"px"}function ud(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ld(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var xp=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(t,e){if(e){if(xp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function la(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=null;function fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ca=null,mn=null,gn=null;function pu(t){if(t=As(t)){if(typeof ca!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Xi(e),ca(t.stateNode,t.type,e))}}function cd(t){mn?gn?gn.push(t):gn=[t]:mn=t}function dd(){if(mn){var t=mn,e=gn;if(gn=mn=null,pu(t),e)for(t=0;t<e.length;t++)pu(e[t])}}function hd(t,e){return t(e)}function fd(){}var ko=!1;function pd(t,e,r){if(ko)return t(e,r);ko=!0;try{return hd(t,e,r)}finally{ko=!1,(mn!==null||gn!==null)&&(fd(),dd())}}function hs(t,e){var r=t.stateNode;if(r===null)return null;var n=Xi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var da=!1;if(qt)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){da=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{da=!1}function bp(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Yn=!1,bi=null,_i=!1,ha=null,_p={onError:function(t){Yn=!0,bi=t}};function kp(t,e,r,n,s,i,o,a,l){Yn=!1,bi=null,bp.apply(_p,arguments)}function Sp(t,e,r,n,s,i,o,a,l){if(kp.apply(this,arguments),Yn){if(Yn){var c=bi;Yn=!1,bi=null}else throw Error(X(198));_i||(_i=!0,ha=c)}}function Gr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function md(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mu(t){if(Gr(t)!==t)throw Error(X(188))}function jp(t){var e=t.alternate;if(!e){if(e=Gr(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return mu(s),t;if(i===n)return mu(s),e;i=i.sibling}throw Error(X(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function gd(t){return t=jp(t),t!==null?yd(t):null}function yd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yd(t);if(e!==null)return e;t=t.sibling}return null}var vd=ht.unstable_scheduleCallback,gu=ht.unstable_cancelCallback,Np=ht.unstable_shouldYield,Ep=ht.unstable_requestPaint,Ae=ht.unstable_now,Cp=ht.unstable_getCurrentPriorityLevel,pl=ht.unstable_ImmediatePriority,wd=ht.unstable_UserBlockingPriority,ki=ht.unstable_NormalPriority,Pp=ht.unstable_LowPriority,xd=ht.unstable_IdlePriority,Zi=null,zt=null;function Ip(t){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Zi,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Tp,Ap=Math.log,Op=Math.LN2;function Tp(t){return t>>>=0,t===0?32:31-(Ap(t)/Op|0)|0}var Fs=64,Ms=4194304;function Kn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Si(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Kn(a):(i&=o,i!==0&&(n=Kn(i)))}else o=r&~s,o!==0?n=Kn(o):i!==0&&(n=Kn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Pt(e),s=1<<r,n|=t[r],e&=~s;return n}function Rp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Pt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Rp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bd(){var t=Fs;return Fs<<=1,!(Fs&4194240)&&(Fs=64),t}function So(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ps(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=r}function Lp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Pt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ml(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var xe=0;function _d(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kd,gl,Sd,jd,Nd,pa=!1,Ws=[],ur=null,cr=null,dr=null,fs=new Map,ps=new Map,nr=[],$p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(e.pointerId)}}function Un(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=As(e),e!==null&&gl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Dp(t,e,r,n,s){switch(e){case"focusin":return ur=Un(ur,t,e,r,n,s),!0;case"dragenter":return cr=Un(cr,t,e,r,n,s),!0;case"mouseover":return dr=Un(dr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return fs.set(i,Un(fs.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ps.set(i,Un(ps.get(i)||null,t,e,r,n,s)),!0}return!1}function Ed(t){var e=Rr(t.target);if(e!==null){var r=Gr(e);if(r!==null){if(e=r.tag,e===13){if(e=md(r),e!==null){t.blockedOn=e,Nd(t.priority,function(){Sd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ci(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ma(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ua=n,r.target.dispatchEvent(n),ua=null}else return e=As(r),e!==null&&gl(e),t.blockedOn=r,!1;e.shift()}return!0}function vu(t,e,r){ci(t)&&r.delete(e)}function Up(){pa=!1,ur!==null&&ci(ur)&&(ur=null),cr!==null&&ci(cr)&&(cr=null),dr!==null&&ci(dr)&&(dr=null),fs.forEach(vu),ps.forEach(vu)}function Bn(t,e){t.blockedOn===e&&(t.blockedOn=null,pa||(pa=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Up)))}function ms(t){function e(s){return Bn(s,t)}if(0<Ws.length){Bn(Ws[0],t);for(var r=1;r<Ws.length;r++){var n=Ws[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ur!==null&&Bn(ur,t),cr!==null&&Bn(cr,t),dr!==null&&Bn(dr,t),fs.forEach(e),ps.forEach(e),r=0;r<nr.length;r++)n=nr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)Ed(r),r.blockedOn===null&&nr.shift()}var yn=Qt.ReactCurrentBatchConfig,ji=!0;function Bp(t,e,r,n){var s=xe,i=yn.transition;yn.transition=null;try{xe=1,yl(t,e,r,n)}finally{xe=s,yn.transition=i}}function Fp(t,e,r,n){var s=xe,i=yn.transition;yn.transition=null;try{xe=4,yl(t,e,r,n)}finally{xe=s,yn.transition=i}}function yl(t,e,r,n){if(ji){var s=ma(t,e,r,n);if(s===null)Ro(t,e,n,Ni,r),yu(t,n);else if(Dp(s,t,e,r,n))n.stopPropagation();else if(yu(t,n),e&4&&-1<$p.indexOf(t)){for(;s!==null;){var i=As(s);if(i!==null&&kd(i),i=ma(t,e,r,n),i===null&&Ro(t,e,n,Ni,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ro(t,e,n,null,r)}}var Ni=null;function ma(t,e,r,n){if(Ni=null,t=fl(n),t=Rr(t),t!==null)if(e=Gr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=md(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ni=t,null}function Cd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cp()){case pl:return 1;case wd:return 4;case ki:case Pp:return 16;case xd:return 536870912;default:return 16}default:return 16}}var or=null,vl=null,di=null;function Pd(){if(di)return di;var t,e=vl,r=e.length,n,s="value"in or?or.value:or.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return di=s.slice(t,1<n?1-n:void 0)}function hi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hs(){return!0}function wu(){return!1}function pt(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hs:wu,this.isPropagationStopped=wu,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),e}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=pt(An),Is=Ce({},An,{view:0,detail:0}),Mp=pt(Is),jo,No,Fn,Ji=Ce({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(jo=t.screenX-Fn.screenX,No=t.screenY-Fn.screenY):No=jo=0,Fn=t),jo)},movementY:function(t){return"movementY"in t?t.movementY:No}}),xu=pt(Ji),Wp=Ce({},Ji,{dataTransfer:0}),Hp=pt(Wp),Vp=Ce({},Is,{relatedTarget:0}),Eo=pt(Vp),Gp=Ce({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=pt(Gp),Kp=Ce({},An,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zp=pt(Kp),Jp=Ce({},An,{data:0}),bu=pt(Jp),Qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xp[t])?!!e[t]:!1}function xl(){return e0}var t0=Ce({},Is,{key:function(t){if(t.key){var e=Qp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(t){return t.type==="keypress"?hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r0=pt(t0),n0=Ce({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=pt(n0),s0=Ce({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),i0=pt(s0),o0=Ce({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),a0=pt(o0),l0=Ce({},Ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u0=pt(l0),c0=[9,13,27,32],bl=qt&&"CompositionEvent"in window,Xn=null;qt&&"documentMode"in document&&(Xn=document.documentMode);var d0=qt&&"TextEvent"in window&&!Xn,Id=qt&&(!bl||Xn&&8<Xn&&11>=Xn),ku=" ",Su=!1;function Ad(t,e){switch(t){case"keyup":return c0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nn=!1;function h0(t,e){switch(t){case"compositionend":return Od(e);case"keypress":return e.which!==32?null:(Su=!0,ku);case"textInput":return t=e.data,t===ku&&Su?null:t;default:return null}}function f0(t,e){if(nn)return t==="compositionend"||!bl&&Ad(t,e)?(t=Pd(),di=vl=or=null,nn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Id&&e.locale!=="ko"?null:e.data;default:return null}}var p0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p0[t.type]:e==="textarea"}function Td(t,e,r,n){cd(n),e=Ei(e,"onChange"),0<e.length&&(r=new wl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var es=null,gs=null;function m0(t){Hd(t,0)}function Qi(t){var e=an(t);if(nd(e))return t}function g0(t,e){if(t==="change")return e}var Rd=!1;if(qt){var Co;if(qt){var Po="oninput"in document;if(!Po){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),Po=typeof Nu.oninput=="function"}Co=Po}else Co=!1;Rd=Co&&(!document.documentMode||9<document.documentMode)}function Eu(){es&&(es.detachEvent("onpropertychange",zd),gs=es=null)}function zd(t){if(t.propertyName==="value"&&Qi(gs)){var e=[];Td(e,gs,t,fl(t)),pd(m0,e)}}function y0(t,e,r){t==="focusin"?(Eu(),es=e,gs=r,es.attachEvent("onpropertychange",zd)):t==="focusout"&&Eu()}function v0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qi(gs)}function w0(t,e){if(t==="click")return Qi(e)}function x0(t,e){if(t==="input"||t==="change")return Qi(e)}function b0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var At=typeof Object.is=="function"?Object.is:b0;function ys(t,e){if(At(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Qo.call(e,s)||!At(t[s],e[s]))return!1}return!0}function Cu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pu(t,e){var r=Cu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cu(r)}}function Ld(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ld(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $d(){for(var t=window,e=xi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xi(t.document)}return e}function _l(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _0(t){var e=$d(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ld(r.ownerDocument.documentElement,r)){if(n!==null&&_l(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Pu(r,i);var o=Pu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k0=qt&&"documentMode"in document&&11>=document.documentMode,sn=null,ga=null,ts=null,ya=!1;function Iu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ya||sn==null||sn!==xi(n)||(n=sn,"selectionStart"in n&&_l(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ts&&ys(ts,n)||(ts=n,n=Ei(ga,"onSelect"),0<n.length&&(e=new wl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sn)))}function Vs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var on={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},Io={},Dd={};qt&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function Yi(t){if(Io[t])return Io[t];if(!on[t])return t;var e=on[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Dd)return Io[t]=e[r];return t}var Ud=Yi("animationend"),Bd=Yi("animationiteration"),Fd=Yi("animationstart"),Md=Yi("transitionend"),Wd=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){Wd.set(t,e),Vr(e,[t])}for(var Ao=0;Ao<Au.length;Ao++){var Oo=Au[Ao],S0=Oo.toLowerCase(),j0=Oo[0].toUpperCase()+Oo.slice(1);_r(S0,"on"+j0)}_r(Ud,"onAnimationEnd");_r(Bd,"onAnimationIteration");_r(Fd,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Md,"onTransitionEnd");xn("onMouseEnter",["mouseout","mouseover"]);xn("onMouseLeave",["mouseout","mouseover"]);xn("onPointerEnter",["pointerout","pointerover"]);xn("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function Ou(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Sp(n,e,void 0,t),t.currentTarget=null}function Hd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ou(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ou(s,a,c),i=l}}}if(_i)throw t=ha,_i=!1,ha=null,t}function ke(t,e){var r=e[_a];r===void 0&&(r=e[_a]=new Set);var n=t+"__bubble";r.has(n)||(Vd(e,t,2,!1),r.add(n))}function To(t,e,r){var n=0;e&&(n|=4),Vd(r,t,n,e)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function vs(t){if(!t[Gs]){t[Gs]=!0,Yc.forEach(function(r){r!=="selectionchange"&&(N0.has(r)||To(r,!1,t),To(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gs]||(e[Gs]=!0,To("selectionchange",!1,e))}}function Vd(t,e,r,n){switch(Cd(e)){case 1:var s=Bp;break;case 4:s=Fp;break;default:s=yl}r=s.bind(null,e,r,t),s=void 0,!da||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ro(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Rr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}pd(function(){var c=i,d=fl(r),h=[];e:{var y=Wd.get(t);if(y!==void 0){var g=wl,x=t;switch(t){case"keypress":if(hi(r)===0)break e;case"keydown":case"keyup":g=r0;break;case"focusin":x="focus",g=Eo;break;case"focusout":x="blur",g=Eo;break;case"beforeblur":case"afterblur":g=Eo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=i0;break;case Ud:case Bd:case Fd:g=qp;break;case Md:g=a0;break;case"scroll":g=Mp;break;case"wheel":g=u0;break;case"copy":case"cut":case"paste":g=Zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_u}var p=(e&4)!==0,_=!p&&t==="scroll",f=p?y!==null?y+"Capture":null:y;p=[];for(var m=c,w;m!==null;){w=m;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,f!==null&&(S=hs(m,f),S!=null&&p.push(ws(m,S,w)))),_)break;m=m.return}0<p.length&&(y=new g(y,x,null,r,d),h.push({event:y,listeners:p}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",y&&r!==ua&&(x=r.relatedTarget||r.fromElement)&&(Rr(x)||x[Kt]))break e;if((g||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=c,x=x?Rr(x):null,x!==null&&(_=Gr(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(p=xu,S="onMouseLeave",f="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=_u,S="onPointerLeave",f="onPointerEnter",m="pointer"),_=g==null?y:an(g),w=x==null?y:an(x),y=new p(S,m+"leave",g,r,d),y.target=_,y.relatedTarget=w,S=null,Rr(d)===c&&(p=new p(f,m+"enter",x,r,d),p.target=w,p.relatedTarget=_,S=p),_=S,g&&x)t:{for(p=g,f=x,m=0,w=p;w;w=Kr(w))m++;for(w=0,S=f;S;S=Kr(S))w++;for(;0<m-w;)p=Kr(p),m--;for(;0<w-m;)f=Kr(f),w--;for(;m--;){if(p===f||f!==null&&p===f.alternate)break t;p=Kr(p),f=Kr(f)}p=null}else p=null;g!==null&&Tu(h,y,g,p,!1),x!==null&&_!==null&&Tu(h,_,x,p,!0)}}e:{if(y=c?an(c):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var k=g0;else if(ju(y))if(Rd)k=x0;else{k=v0;var C=y0}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(k=w0);if(k&&(k=k(t,c))){Td(h,k,r,d);break e}C&&C(t,y,c),t==="focusout"&&(C=y._wrapperState)&&C.controlled&&y.type==="number"&&sa(y,"number",y.value)}switch(C=c?an(c):window,t){case"focusin":(ju(C)||C.contentEditable==="true")&&(sn=C,ga=c,ts=null);break;case"focusout":ts=ga=sn=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,Iu(h,r,d);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":Iu(h,r,d)}var I;if(bl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else nn?Ad(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Id&&r.locale!=="ko"&&(nn||T!=="onCompositionStart"?T==="onCompositionEnd"&&nn&&(I=Pd()):(or=d,vl="value"in or?or.value:or.textContent,nn=!0)),C=Ei(c,T),0<C.length&&(T=new bu(T,t,null,r,d),h.push({event:T,listeners:C}),I?T.data=I:(I=Od(r),I!==null&&(T.data=I)))),(I=d0?h0(t,r):f0(t,r))&&(c=Ei(c,"onBeforeInput"),0<c.length&&(d=new bu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=I))}Hd(h,e)})}function ws(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ei(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hs(t,r),i!=null&&n.unshift(ws(t,i,s)),i=hs(t,e),i!=null&&n.push(ws(t,i,s))),t=t.return}return n}function Kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=hs(r,i),l!=null&&o.unshift(ws(r,l,a))):s||(l=hs(r,i),l!=null&&o.push(ws(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var E0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function Ru(t){return(typeof t=="string"?t:""+t).replace(E0,`
`).replace(C0,"")}function qs(t,e,r){if(e=Ru(e),Ru(t)!==e&&r)throw Error(X(425))}function Ci(){}var va=null,wa=null;function xa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ba=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,zu=typeof Promise=="function"?Promise:void 0,I0=typeof queueMicrotask=="function"?queueMicrotask:typeof zu<"u"?function(t){return zu.resolve(null).then(t).catch(A0)}:ba;function A0(t){setTimeout(function(){throw t})}function zo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ms(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ms(e)}function hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var On=Math.random().toString(36).slice(2),Rt="__reactFiber$"+On,xs="__reactProps$"+On,Kt="__reactContainer$"+On,_a="__reactEvents$"+On,O0="__reactListeners$"+On,T0="__reactHandles$"+On;function Rr(t){var e=t[Rt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Kt]||r[Rt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Lu(t);t!==null;){if(r=t[Rt])return r;t=Lu(t)}return e}t=r,r=t.parentNode}return null}function As(t){return t=t[Rt]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function an(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Xi(t){return t[xs]||null}var ka=[],ln=-1;function kr(t){return{current:t}}function Se(t){0>ln||(t.current=ka[ln],ka[ln]=null,ln--)}function _e(t,e){ln++,ka[ln]=t.current,t.current=e}var wr={},Ke=kr(wr),it=kr(!1),Ur=wr;function bn(t,e){var r=t.type.contextTypes;if(!r)return wr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ot(t){return t=t.childContextTypes,t!=null}function Pi(){Se(it),Se(Ke)}function $u(t,e,r){if(Ke.current!==wr)throw Error(X(168));_e(Ke,e),_e(it,r)}function Gd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(X(108,yp(t)||"Unknown",s));return Ce({},r,n)}function Ii(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wr,Ur=Ke.current,_e(Ke,t),_e(it,it.current),!0}function Du(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=Gd(t,e,Ur),n.__reactInternalMemoizedMergedChildContext=t,Se(it),Se(Ke),_e(Ke,t)):Se(it),_e(it,r)}var Ft=null,eo=!1,Lo=!1;function qd(t){Ft===null?Ft=[t]:Ft.push(t)}function R0(t){eo=!0,qd(t)}function Sr(){if(!Lo&&Ft!==null){Lo=!0;var t=0,e=xe;try{var r=Ft;for(xe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ft=null,eo=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(t+1)),vd(pl,Sr),s}finally{xe=e,Lo=!1}}return null}var un=[],cn=0,Ai=null,Oi=0,gt=[],yt=0,Br=null,Ht=1,Vt="";function Ir(t,e){un[cn++]=Oi,un[cn++]=Ai,Ai=t,Oi=e}function Kd(t,e,r){gt[yt++]=Ht,gt[yt++]=Vt,gt[yt++]=Br,Br=t;var n=Ht;t=Vt;var s=32-Pt(n)-1;n&=~(1<<s),r+=1;var i=32-Pt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ht=1<<32-Pt(e)+s|r<<s|n,Vt=i+t}else Ht=1<<i|r<<s|n,Vt=t}function kl(t){t.return!==null&&(Ir(t,1),Kd(t,1,0))}function Sl(t){for(;t===Ai;)Ai=un[--cn],un[cn]=null,Oi=un[--cn],un[cn]=null;for(;t===Br;)Br=gt[--yt],gt[yt]=null,Vt=gt[--yt],gt[yt]=null,Ht=gt[--yt],gt[yt]=null}var dt=null,ct=null,je=!1,Ct=null;function Zd(t,e){var r=vt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Uu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dt=t,ct=hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dt=t,ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Br!==null?{id:Ht,overflow:Vt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=vt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,dt=t,ct=null,!0):!1;default:return!1}}function Sa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ja(t){if(je){var e=ct;if(e){var r=e;if(!Uu(t,e)){if(Sa(t))throw Error(X(418));e=hr(r.nextSibling);var n=dt;e&&Uu(t,e)?Zd(n,r):(t.flags=t.flags&-4097|2,je=!1,dt=t)}}else{if(Sa(t))throw Error(X(418));t.flags=t.flags&-4097|2,je=!1,dt=t}}}function Bu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dt=t}function Ks(t){if(t!==dt)return!1;if(!je)return Bu(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xa(t.type,t.memoizedProps)),e&&(e=ct)){if(Sa(t))throw Jd(),Error(X(418));for(;e;)Zd(t,e),e=hr(e.nextSibling)}if(Bu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ct=hr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ct=null}}else ct=dt?hr(t.stateNode.nextSibling):null;return!0}function Jd(){for(var t=ct;t;)t=hr(t.nextSibling)}function _n(){ct=dt=null,je=!1}function jl(t){Ct===null?Ct=[t]:Ct.push(t)}var z0=Qt.ReactCurrentBatchConfig;function Mn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function Zs(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fu(t){var e=t._init;return e(t._payload)}function Qd(t){function e(f,m){if(t){var w=f.deletions;w===null?(f.deletions=[m],f.flags|=16):w.push(m)}}function r(f,m){if(!t)return null;for(;m!==null;)e(f,m),m=m.sibling;return null}function n(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function s(f,m){return f=gr(f,m),f.index=0,f.sibling=null,f}function i(f,m,w){return f.index=w,t?(w=f.alternate,w!==null?(w=w.index,w<m?(f.flags|=2,m):w):(f.flags|=2,m)):(f.flags|=1048576,m)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,m,w,S){return m===null||m.tag!==6?(m=Wo(w,f.mode,S),m.return=f,m):(m=s(m,w),m.return=f,m)}function l(f,m,w,S){var k=w.type;return k===rn?d(f,m,w.props.children,S,w.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===er&&Fu(k)===m.type)?(S=s(m,w.props),S.ref=Mn(f,m,w),S.return=f,S):(S=wi(w.type,w.key,w.props,null,f.mode,S),S.ref=Mn(f,m,w),S.return=f,S)}function c(f,m,w,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Ho(w,f.mode,S),m.return=f,m):(m=s(m,w.children||[]),m.return=f,m)}function d(f,m,w,S,k){return m===null||m.tag!==7?(m=Dr(w,f.mode,S,k),m.return=f,m):(m=s(m,w),m.return=f,m)}function h(f,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wo(""+m,f.mode,w),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ds:return w=wi(m.type,m.key,m.props,null,f.mode,w),w.ref=Mn(f,null,m),w.return=f,w;case tn:return m=Ho(m,f.mode,w),m.return=f,m;case er:var S=m._init;return h(f,S(m._payload),w)}if(qn(m)||$n(m))return m=Dr(m,f.mode,w,null),m.return=f,m;Zs(f,m)}return null}function y(f,m,w,S){var k=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(f,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ds:return w.key===k?l(f,m,w,S):null;case tn:return w.key===k?c(f,m,w,S):null;case er:return k=w._init,y(f,m,k(w._payload),S)}if(qn(w)||$n(w))return k!==null?null:d(f,m,w,S,null);Zs(f,w)}return null}function g(f,m,w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(w)||null,a(m,f,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ds:return f=f.get(S.key===null?w:S.key)||null,l(m,f,S,k);case tn:return f=f.get(S.key===null?w:S.key)||null,c(m,f,S,k);case er:var C=S._init;return g(f,m,w,C(S._payload),k)}if(qn(S)||$n(S))return f=f.get(w)||null,d(m,f,S,k,null);Zs(m,S)}return null}function x(f,m,w,S){for(var k=null,C=null,I=m,T=m=0,R=null;I!==null&&T<w.length;T++){I.index>T?(R=I,I=null):R=I.sibling;var U=y(f,I,w[T],S);if(U===null){I===null&&(I=R);break}t&&I&&U.alternate===null&&e(f,I),m=i(U,m,T),C===null?k=U:C.sibling=U,C=U,I=R}if(T===w.length)return r(f,I),je&&Ir(f,T),k;if(I===null){for(;T<w.length;T++)I=h(f,w[T],S),I!==null&&(m=i(I,m,T),C===null?k=I:C.sibling=I,C=I);return je&&Ir(f,T),k}for(I=n(f,I);T<w.length;T++)R=g(I,f,T,w[T],S),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?T:R.key),m=i(R,m,T),C===null?k=R:C.sibling=R,C=R);return t&&I.forEach(function(re){return e(f,re)}),je&&Ir(f,T),k}function p(f,m,w,S){var k=$n(w);if(typeof k!="function")throw Error(X(150));if(w=k.call(w),w==null)throw Error(X(151));for(var C=k=null,I=m,T=m=0,R=null,U=w.next();I!==null&&!U.done;T++,U=w.next()){I.index>T?(R=I,I=null):R=I.sibling;var re=y(f,I,U.value,S);if(re===null){I===null&&(I=R);break}t&&I&&re.alternate===null&&e(f,I),m=i(re,m,T),C===null?k=re:C.sibling=re,C=re,I=R}if(U.done)return r(f,I),je&&Ir(f,T),k;if(I===null){for(;!U.done;T++,U=w.next())U=h(f,U.value,S),U!==null&&(m=i(U,m,T),C===null?k=U:C.sibling=U,C=U);return je&&Ir(f,T),k}for(I=n(f,I);!U.done;T++,U=w.next())U=g(I,f,T,U.value,S),U!==null&&(t&&U.alternate!==null&&I.delete(U.key===null?T:U.key),m=i(U,m,T),C===null?k=U:C.sibling=U,C=U);return t&&I.forEach(function(A){return e(f,A)}),je&&Ir(f,T),k}function _(f,m,w,S){if(typeof w=="object"&&w!==null&&w.type===rn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ds:e:{for(var k=w.key,C=m;C!==null;){if(C.key===k){if(k=w.type,k===rn){if(C.tag===7){r(f,C.sibling),m=s(C,w.props.children),m.return=f,f=m;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===er&&Fu(k)===C.type){r(f,C.sibling),m=s(C,w.props),m.ref=Mn(f,C,w),m.return=f,f=m;break e}r(f,C);break}else e(f,C);C=C.sibling}w.type===rn?(m=Dr(w.props.children,f.mode,S,w.key),m.return=f,f=m):(S=wi(w.type,w.key,w.props,null,f.mode,S),S.ref=Mn(f,m,w),S.return=f,f=S)}return o(f);case tn:e:{for(C=w.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(f,m.sibling),m=s(m,w.children||[]),m.return=f,f=m;break e}else{r(f,m);break}else e(f,m);m=m.sibling}m=Ho(w,f.mode,S),m.return=f,f=m}return o(f);case er:return C=w._init,_(f,m,C(w._payload),S)}if(qn(w))return x(f,m,w,S);if($n(w))return p(f,m,w,S);Zs(f,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(f,m.sibling),m=s(m,w),m.return=f,f=m):(r(f,m),m=Wo(w,f.mode,S),m.return=f,f=m),o(f)):r(f,m)}return _}var kn=Qd(!0),Yd=Qd(!1),Ti=kr(null),Ri=null,dn=null,Nl=null;function El(){Nl=dn=Ri=null}function Cl(t){var e=Ti.current;Se(Ti),t._currentValue=e}function Na(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vn(t,e){Ri=t,Nl=dn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(Nl!==t)if(t={context:t,memoizedValue:e,next:null},dn===null){if(Ri===null)throw Error(X(308));dn=t,Ri.dependencies={lanes:0,firstContext:t}}else dn=dn.next=t;return e}var zr=null;function Pl(t){zr===null?zr=[t]:zr.push(t)}function Xd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Pl(e)):(r.next=s.next,s.next=r),e.interleaved=r,Zt(t,n)}function Zt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var tr=!1;function Il(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Zt(t,r)}return s=n.interleaved,s===null?(e.next=e,Pl(n)):(e.next=s.next,s.next=e),n.interleaved=e,Zt(t,r)}function fi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ml(t,r)}}function Mu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zi(t,e,r,n){var s=t.updateQueue;tr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var y=a.lane,g=a.eventTime;if((n&y)===y){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,p=a;switch(y=e,g=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){h=x.call(g,h,y);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,y=typeof x=="function"?x.call(g,h,y):x,y==null)break e;h=Ce({},h,y);break e;case 2:tr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else g={eventTime:g,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mr|=o,t.lanes=o,t.memoizedState=h}}function Wu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(X(191,s));s.call(n)}}}var Os={},Lt=kr(Os),bs=kr(Os),_s=kr(Os);function Lr(t){if(t===Os)throw Error(X(174));return t}function Al(t,e){switch(_e(_s,e),_e(bs,t),_e(Lt,Os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oa(e,t)}Se(Lt),_e(Lt,e)}function Sn(){Se(Lt),Se(bs),Se(_s)}function th(t){Lr(_s.current);var e=Lr(Lt.current),r=oa(e,t.type);e!==r&&(_e(bs,t),_e(Lt,r))}function Ol(t){bs.current===t&&(Se(Lt),Se(bs))}var Ne=kr(0);function Li(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $o=[];function Tl(){for(var t=0;t<$o.length;t++)$o[t]._workInProgressVersionPrimary=null;$o.length=0}var pi=Qt.ReactCurrentDispatcher,Do=Qt.ReactCurrentBatchConfig,Fr=0,Ee=null,ze=null,De=null,$i=!1,rs=!1,ks=0,L0=0;function We(){throw Error(X(321))}function Rl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!At(t[r],e[r]))return!1;return!0}function zl(t,e,r,n,s,i){if(Fr=i,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pi.current=t===null||t.memoizedState===null?B0:F0,t=r(n,s),rs){i=0;do{if(rs=!1,ks=0,25<=i)throw Error(X(301));i+=1,De=ze=null,e.updateQueue=null,pi.current=M0,t=r(n,s)}while(rs)}if(pi.current=Di,e=ze!==null&&ze.next!==null,Fr=0,De=ze=Ee=null,$i=!1,e)throw Error(X(300));return t}function Ll(){var t=ks!==0;return ks=0,t}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ee.memoizedState=De=t:De=De.next=t,De}function bt(){if(ze===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=De===null?Ee.memoizedState:De.next;if(e!==null)De=e,ze=t;else{if(t===null)throw Error(X(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},De===null?Ee.memoizedState=De=t:De=De.next=t}return De}function Ss(t,e){return typeof e=="function"?e(t):e}function Uo(t){var e=bt(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=ze,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Fr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Ee.lanes|=d,Mr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,At(n,e.memoizedState)||(st=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Ee.lanes|=i,Mr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Bo(t){var e=bt(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);At(i,e.memoizedState)||(st=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function rh(){}function nh(t,e){var r=Ee,n=bt(),s=e(),i=!At(n.memoizedState,s);if(i&&(n.memoizedState=s,st=!0),n=n.queue,$l(oh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||De!==null&&De.memoizedState.tag&1){if(r.flags|=2048,js(9,ih.bind(null,r,n,s,e),void 0,null),Ue===null)throw Error(X(349));Fr&30||sh(r,e,s)}return s}function sh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ih(t,e,r,n){e.value=r,e.getSnapshot=n,ah(e)&&lh(t)}function oh(t,e,r){return r(function(){ah(e)&&lh(t)})}function ah(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!At(t,r)}catch{return!0}}function lh(t){var e=Zt(t,1);e!==null&&It(e,t,1,-1)}function Hu(t){var e=Tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:t},e.queue=t,t=t.dispatch=U0.bind(null,Ee,t),[e.memoizedState,t]}function js(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function uh(){return bt().memoizedState}function mi(t,e,r,n){var s=Tt();Ee.flags|=t,s.memoizedState=js(1|e,r,void 0,n===void 0?null:n)}function to(t,e,r,n){var s=bt();n=n===void 0?null:n;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,n!==null&&Rl(n,o.deps)){s.memoizedState=js(e,r,i,n);return}}Ee.flags|=t,s.memoizedState=js(1|e,r,i,n)}function Vu(t,e){return mi(8390656,8,t,e)}function $l(t,e){return to(2048,8,t,e)}function ch(t,e){return to(4,2,t,e)}function dh(t,e){return to(4,4,t,e)}function hh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fh(t,e,r){return r=r!=null?r.concat([t]):null,to(4,4,hh.bind(null,e,t),r)}function Dl(){}function ph(t,e){var r=bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Rl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function mh(t,e){var r=bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Rl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function gh(t,e,r){return Fr&21?(At(r,e)||(r=bd(),Ee.lanes|=r,Mr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=r)}function $0(t,e){var r=xe;xe=r!==0&&4>r?r:4,t(!0);var n=Do.transition;Do.transition={};try{t(!1),e()}finally{xe=r,Do.transition=n}}function yh(){return bt().memoizedState}function D0(t,e,r){var n=mr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},vh(t))wh(e,r);else if(r=Xd(t,e,r,n),r!==null){var s=Je();It(r,t,n,s),xh(r,e,n)}}function U0(t,e,r){var n=mr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(vh(t))wh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,At(a,o)){var l=e.interleaved;l===null?(s.next=s,Pl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Xd(t,e,s,n),r!==null&&(s=Je(),It(r,t,n,s),xh(r,e,n))}}function vh(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function wh(t,e){rs=$i=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function xh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ml(t,r)}}var Di={readContext:xt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},B0={readContext:xt,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:Vu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,mi(4194308,4,hh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return mi(4194308,4,t,e)},useInsertionEffect:function(t,e){return mi(4,2,t,e)},useMemo:function(t,e){var r=Tt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Tt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=D0.bind(null,Ee,t),[n.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:Hu,useDebugValue:Dl,useDeferredValue:function(t){return Tt().memoizedState=t},useTransition:function(){var t=Hu(!1),e=t[0];return t=$0.bind(null,t[1]),Tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ee,s=Tt();if(je){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),Ue===null)throw Error(X(349));Fr&30||sh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Vu(oh.bind(null,n,i,t),[t]),n.flags|=2048,js(9,ih.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Tt(),e=Ue.identifierPrefix;if(je){var r=Vt,n=Ht;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ks++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=L0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},F0={readContext:xt,useCallback:ph,useContext:xt,useEffect:$l,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:mh,useReducer:Uo,useRef:uh,useState:function(){return Uo(Ss)},useDebugValue:Dl,useDeferredValue:function(t){var e=bt();return gh(e,ze.memoizedState,t)},useTransition:function(){var t=Uo(Ss)[0],e=bt().memoizedState;return[t,e]},useMutableSource:rh,useSyncExternalStore:nh,useId:yh,unstable_isNewReconciler:!1},M0={readContext:xt,useCallback:ph,useContext:xt,useEffect:$l,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:mh,useReducer:Bo,useRef:uh,useState:function(){return Bo(Ss)},useDebugValue:Dl,useDeferredValue:function(t){var e=bt();return ze===null?e.memoizedState=t:gh(e,ze.memoizedState,t)},useTransition:function(){var t=Bo(Ss)[0],e=bt().memoizedState;return[t,e]},useMutableSource:rh,useSyncExternalStore:nh,useId:yh,unstable_isNewReconciler:!1};function jt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ea(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ce({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ro={isMounted:function(t){return(t=t._reactInternals)?Gr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Je(),s=mr(t),i=Gt(n,s);i.payload=e,r!=null&&(i.callback=r),e=fr(t,i,s),e!==null&&(It(e,t,s,n),fi(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Je(),s=mr(t),i=Gt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=fr(t,i,s),e!==null&&(It(e,t,s,n),fi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Je(),n=mr(t),s=Gt(r,n);s.tag=2,e!=null&&(s.callback=e),e=fr(t,s,n),e!==null&&(It(e,t,n,r),fi(e,t,n))}};function Gu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ys(r,n)||!ys(s,i):!0}function bh(t,e,r){var n=!1,s=wr,i=e.contextType;return typeof i=="object"&&i!==null?i=xt(i):(s=ot(e)?Ur:Ke.current,n=e.contextTypes,i=(n=n!=null)?bn(t,s):wr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ro,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function qu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ro.enqueueReplaceState(e,e.state,null)}function Ca(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Il(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xt(i):(i=ot(e)?Ur:Ke.current,s.context=bn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ea(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ro.enqueueReplaceState(s,s.state,null),zi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function jn(t,e){try{var r="",n=e;do r+=gp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Pa(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var W0=typeof WeakMap=="function"?WeakMap:Map;function _h(t,e,r){r=Gt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Bi||(Bi=!0,Ua=n),Pa(t,e)},r}function kh(t,e,r){r=Gt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Pa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Pa(t,e),typeof n!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ku(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new W0;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=nm.bind(null,t,e,r),e.then(t,t))}function Zu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ju(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Gt(-1,1),e.tag=2,fr(r,e,1))),r.lanes|=1),t)}var H0=Qt.ReactCurrentOwner,st=!1;function Ze(t,e,r,n){e.child=t===null?Yd(e,null,r,n):kn(e,t.child,r,n)}function Qu(t,e,r,n,s){r=r.render;var i=e.ref;return vn(e,s),n=zl(t,e,r,n,i,s),r=Ll(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(je&&r&&kl(e),e.flags|=1,Ze(t,e,n,s),e.child)}function Yu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Gl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Sh(t,e,i,n,s)):(t=wi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ys,r(o,n)&&t.ref===e.ref)return Jt(t,e,s)}return e.flags|=1,t=gr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Sh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ys(i,n)&&t.ref===e.ref)if(st=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,Jt(t,e,s)}return Ia(t,e,r,n,s)}function jh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(fn,ut),ut|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(fn,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,_e(fn,ut),ut|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,_e(fn,ut),ut|=n;return Ze(t,e,s,r),e.child}function Nh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ia(t,e,r,n,s){var i=ot(r)?Ur:Ke.current;return i=bn(e,i),vn(e,s),r=zl(t,e,r,n,i,s),n=Ll(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(je&&n&&kl(e),e.flags|=1,Ze(t,e,r,s),e.child)}function Xu(t,e,r,n,s){if(ot(r)){var i=!0;Ii(e)}else i=!1;if(vn(e,s),e.stateNode===null)gi(t,e),bh(e,r,n),Ca(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=xt(c):(c=ot(r)?Ur:Ke.current,c=bn(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&qu(e,o,n,c),tr=!1;var y=e.memoizedState;o.state=y,zi(e,n,o,s),l=e.memoizedState,a!==n||y!==l||it.current||tr?(typeof d=="function"&&(Ea(e,r,d,n),l=e.memoizedState),(a=tr||Gu(e,r,a,n,y,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,eh(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:jt(e.type,a),o.props=c,h=e.pendingProps,y=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=xt(l):(l=ot(r)?Ur:Ke.current,l=bn(e,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||y!==l)&&qu(e,o,n,l),tr=!1,y=e.memoizedState,o.state=y,zi(e,n,o,s);var x=e.memoizedState;a!==h||y!==x||it.current||tr?(typeof g=="function"&&(Ea(e,r,g,n),x=e.memoizedState),(c=tr||Gu(e,r,c,n,y,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return Aa(t,e,r,n,i,s)}function Aa(t,e,r,n,s,i){Nh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Du(e,r,!1),Jt(t,e,i);n=e.stateNode,H0.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=kn(e,t.child,null,i),e.child=kn(e,null,a,i)):Ze(t,e,a,i),e.memoizedState=n.state,s&&Du(e,r,!0),e.child}function Eh(t){var e=t.stateNode;e.pendingContext?$u(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$u(t,e.context,!1),Al(t,e.containerInfo)}function ec(t,e,r,n,s){return _n(),jl(s),e.flags|=256,Ze(t,e,r,n),e.child}var Oa={dehydrated:null,treeContext:null,retryLane:0};function Ta(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ch(t,e,r){var n=e.pendingProps,s=Ne.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_e(Ne,s&1),t===null)return ja(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=io(o,n,0,null),t=Dr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ta(r),e.memoizedState=Oa,t):Ul(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return V0(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=gr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=gr(a,i):(i=Dr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ta(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Oa,n}return i=t.child,t=i.sibling,n=gr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ul(t,e){return e=io({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Js(t,e,r,n){return n!==null&&jl(n),kn(e,t.child,null,r),t=Ul(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V0(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Fo(Error(X(422))),Js(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=io({mode:"visible",children:n.children},s,0,null),i=Dr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&kn(e,t.child,null,o),e.child.memoizedState=Ta(o),e.memoizedState=Oa,i);if(!(e.mode&1))return Js(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(X(419)),n=Fo(i,n,void 0),Js(t,e,o,n)}if(a=(o&t.childLanes)!==0,st||a){if(n=Ue,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zt(t,s),It(n,t,s,-1))}return Vl(),n=Fo(Error(X(421))),Js(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ct=hr(s.nextSibling),dt=e,je=!0,Ct=null,t!==null&&(gt[yt++]=Ht,gt[yt++]=Vt,gt[yt++]=Br,Ht=t.id,Vt=t.overflow,Br=e),e=Ul(e,n.children),e.flags|=4096,e)}function tc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Na(t.return,e,r)}function Mo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ph(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ze(t,e,n.children,r),n=Ne.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tc(t,r,e);else if(t.tag===19)tc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(_e(Ne,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Li(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Mo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Li(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Mo(e,!0,r,null,i);break;case"together":Mo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=gr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=gr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function G0(t,e,r){switch(e.tag){case 3:Eh(e),_n();break;case 5:th(e);break;case 1:ot(e.type)&&Ii(e);break;case 4:Al(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;_e(Ti,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(_e(Ne,Ne.current&1),e.flags|=128,null):r&e.child.childLanes?Ch(t,e,r):(_e(Ne,Ne.current&1),t=Jt(t,e,r),t!==null?t.sibling:null);_e(Ne,Ne.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ph(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Ne,Ne.current),n)break;return null;case 22:case 23:return e.lanes=0,jh(t,e,r)}return Jt(t,e,r)}var Ih,Ra,Ah,Oh;Ih=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ra=function(){};Ah=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Lr(Lt.current);var i=null;switch(r){case"input":s=ra(t,s),n=ra(t,n),i=[];break;case"select":s=Ce({},s,{value:void 0}),n=Ce({},n,{value:void 0}),i=[];break;case"textarea":s=ia(t,s),n=ia(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ci)}aa(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cs.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ke("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Oh=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wn(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function q0(t,e,r){var n=e.pendingProps;switch(Sl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return ot(e.type)&&Pi(),He(e),null;case 3:return n=e.stateNode,Sn(),Se(it),Se(Ke),Tl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ks(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ct!==null&&(Ma(Ct),Ct=null))),Ra(t,e),He(e),null;case 5:Ol(e);var s=Lr(_s.current);if(r=e.type,t!==null&&e.stateNode!=null)Ah(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return He(e),null}if(t=Lr(Lt.current),Ks(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Rt]=e,n[xs]=i,t=(e.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<Zn.length;s++)ke(Zn[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":cu(n,i),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ke("invalid",n);break;case"textarea":hu(n,i),ke("invalid",n)}aa(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&qs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&qs(n.textContent,a,t),s=["children",""+a]):cs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",n)}switch(r){case"input":Us(n),du(n,i,!0);break;case"textarea":Us(n),fu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ci)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=od(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Rt]=e,t[xs]=n,Ih(t,e,!1,!1),e.stateNode=t;e:{switch(o=la(r,n),r){case"dialog":ke("cancel",t),ke("close",t),s=n;break;case"iframe":case"object":case"embed":ke("load",t),s=n;break;case"video":case"audio":for(s=0;s<Zn.length;s++)ke(Zn[s],t);s=n;break;case"source":ke("error",t),s=n;break;case"img":case"image":case"link":ke("error",t),ke("load",t),s=n;break;case"details":ke("toggle",t),s=n;break;case"input":cu(t,n),s=ra(t,n),ke("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ce({},n,{value:void 0}),ke("invalid",t);break;case"textarea":hu(t,n),s=ia(t,n),ke("invalid",t);break;default:s=n}aa(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ud(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ad(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ds(t,l):typeof l=="number"&&ds(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ke("scroll",t):l!=null&&ul(t,i,l,o))}switch(r){case"input":Us(t),du(t,n,!1);break;case"textarea":Us(t),fu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+vr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?pn(t,!!n.multiple,i,!1):n.defaultValue!=null&&pn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ci)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Oh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=Lr(_s.current),Lr(Lt.current),Ks(e)){if(n=e.stateNode,r=e.memoizedProps,n[Rt]=e,(i=n.nodeValue!==r)&&(t=dt,t!==null))switch(t.tag){case 3:qs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rt]=e,e.stateNode=n}return He(e),null;case 13:if(Se(Ne),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&ct!==null&&e.mode&1&&!(e.flags&128))Jd(),_n(),e.flags|=98560,i=!1;else if(i=Ks(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Rt]=e}else _n(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),i=!1}else Ct!==null&&(Ma(Ct),Ct=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Le===0&&(Le=3):Vl())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Sn(),Ra(t,e),t===null&&vs(e.stateNode.containerInfo),He(e),null;case 10:return Cl(e.type._context),He(e),null;case 17:return ot(e.type)&&Pi(),He(e),null;case 19:if(Se(Ne),i=e.memoizedState,i===null)return He(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Wn(i,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Li(t),o!==null){for(e.flags|=128,Wn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return _e(Ne,Ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ae()>Nn&&(e.flags|=128,n=!0,Wn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Li(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return He(e),null}else 2*Ae()-i.renderingStartTime>Nn&&r!==1073741824&&(e.flags|=128,n=!0,Wn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ae(),e.sibling=null,r=Ne.current,_e(Ne,n?r&1|2:r&1),e):(He(e),null);case 22:case 23:return Hl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ut&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function K0(t,e){switch(Sl(e),e.tag){case 1:return ot(e.type)&&Pi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sn(),Se(it),Se(Ke),Tl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ol(e),null;case 13:if(Se(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));_n()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(Ne),null;case 4:return Sn(),null;case 10:return Cl(e.type._context),null;case 22:case 23:return Hl(),null;case 24:return null;default:return null}}var Qs=!1,Ge=!1,Z0=typeof WeakSet=="function"?WeakSet:Set,te=null;function hn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pe(t,e,n)}else r.current=null}function za(t,e,r){try{r()}catch(n){Pe(t,e,n)}}var rc=!1;function J0(t,e){if(va=ji,t=$d(),_l(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,y=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)y=h,h=g;for(;;){if(h===t)break t;if(y===r&&++c===s&&(a=o),y===i&&++d===n&&(l=o),(g=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(wa={focusedElem:t,selectionRange:r},ji=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,_=x.memoizedState,f=e.stateNode,m=f.getSnapshotBeforeUpdate(e.elementType===e.type?p:jt(e.type,p),_);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){Pe(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return x=rc,rc=!1,x}function ns(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&za(e,r,i)}s=s.next}while(s!==n)}}function no(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function La(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Th(t){var e=t.alternate;e!==null&&(t.alternate=null,Th(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rt],delete e[xs],delete e[_a],delete e[O0],delete e[T0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rh(t){return t.tag===5||t.tag===3||t.tag===4}function nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $a(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ci));else if(n!==4&&(t=t.child,t!==null))for($a(t,e,r),t=t.sibling;t!==null;)$a(t,e,r),t=t.sibling}function Da(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Da(t,e,r),t=t.sibling;t!==null;)Da(t,e,r),t=t.sibling}var Be=null,Nt=!1;function Yt(t,e,r){for(r=r.child;r!==null;)zh(t,e,r),r=r.sibling}function zh(t,e,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Zi,r)}catch{}switch(r.tag){case 5:Ge||hn(r,e);case 6:var n=Be,s=Nt;Be=null,Yt(t,e,r),Be=n,Nt=s,Be!==null&&(Nt?(t=Be,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&(Nt?(t=Be,r=r.stateNode,t.nodeType===8?zo(t.parentNode,r):t.nodeType===1&&zo(t,r),ms(t)):zo(Be,r.stateNode));break;case 4:n=Be,s=Nt,Be=r.stateNode.containerInfo,Nt=!0,Yt(t,e,r),Be=n,Nt=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&za(r,e,o),s=s.next}while(s!==n)}Yt(t,e,r);break;case 1:if(!Ge&&(hn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Pe(r,e,a)}Yt(t,e,r);break;case 21:Yt(t,e,r);break;case 22:r.mode&1?(Ge=(n=Ge)||r.memoizedState!==null,Yt(t,e,r),Ge=n):Yt(t,e,r);break;default:Yt(t,e,r)}}function sc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Z0),e.forEach(function(n){var s=im.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function kt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,Nt=!1;break e;case 3:Be=a.stateNode.containerInfo,Nt=!0;break e;case 4:Be=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Be===null)throw Error(X(160));zh(i,o,s),Be=null,Nt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Pe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lh(e,t),e=e.sibling}function Lh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kt(e,t),Ot(t),n&4){try{ns(3,t,t.return),no(3,t)}catch(p){Pe(t,t.return,p)}try{ns(5,t,t.return)}catch(p){Pe(t,t.return,p)}}break;case 1:kt(e,t),Ot(t),n&512&&r!==null&&hn(r,r.return);break;case 5:if(kt(e,t),Ot(t),n&512&&r!==null&&hn(r,r.return),t.flags&32){var s=t.stateNode;try{ds(s,"")}catch(p){Pe(t,t.return,p)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&sd(s,i),la(a,o);var c=la(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ud(s,h):d==="dangerouslySetInnerHTML"?ad(s,h):d==="children"?ds(s,h):ul(s,d,h,c)}switch(a){case"input":na(s,i);break;case"textarea":id(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?pn(s,!!i.multiple,g,!1):y!==!!i.multiple&&(i.defaultValue!=null?pn(s,!!i.multiple,i.defaultValue,!0):pn(s,!!i.multiple,i.multiple?[]:"",!1))}s[xs]=i}catch(p){Pe(t,t.return,p)}}break;case 6:if(kt(e,t),Ot(t),n&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){Pe(t,t.return,p)}}break;case 3:if(kt(e,t),Ot(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ms(e.containerInfo)}catch(p){Pe(t,t.return,p)}break;case 4:kt(e,t),Ot(t);break;case 13:kt(e,t),Ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ml=Ae())),n&4&&sc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ge=(c=Ge)||d,kt(e,t),Ge=c):kt(e,t),Ot(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(h=te=d;te!==null;){switch(y=te,g=y.child,y.tag){case 0:case 11:case 14:case 15:ns(4,y,y.return);break;case 1:hn(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(p){Pe(n,r,p)}}break;case 5:hn(y,y.return);break;case 22:if(y.memoizedState!==null){oc(h);continue}}g!==null?(g.return=y,te=g):oc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ld("display",o))}catch(p){Pe(t,t.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(p){Pe(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kt(e,t),Ot(t),n&4&&sc(t);break;case 21:break;default:kt(e,t),Ot(t)}}function Ot(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Rh(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ds(s,""),n.flags&=-33);var i=nc(t);Da(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=nc(t);$a(t,a,o);break;default:throw Error(X(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Q0(t,e,r){te=t,$h(t)}function $h(t,e,r){for(var n=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Qs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ge;a=Qs;var c=Ge;if(Qs=o,(Ge=l)&&!c)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?ac(s):l!==null?(l.return=o,te=l):ac(s);for(;i!==null;)te=i,$h(i),i=i.sibling;te=s,Qs=a,Ge=c}ic(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):ic(t)}}function ic(t){for(;te!==null;){var e=te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ge||no(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ge)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:jt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Wu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Wu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ms(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Ge||e.flags&512&&La(e)}catch(y){Pe(e,e.return,y)}}if(e===t){te=null;break}if(r=e.sibling,r!==null){r.return=e.return,te=r;break}te=e.return}}function oc(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,te=r;break}te=e.return}}function ac(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{no(4,e)}catch(l){Pe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Pe(e,s,l)}}var i=e.return;try{La(e)}catch(l){Pe(e,i,l)}break;case 5:var o=e.return;try{La(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var Y0=Math.ceil,Ui=Qt.ReactCurrentDispatcher,Bl=Qt.ReactCurrentOwner,wt=Qt.ReactCurrentBatchConfig,ye=0,Ue=null,Te=null,Fe=0,ut=0,fn=kr(0),Le=0,Ns=null,Mr=0,so=0,Fl=0,ss=null,tt=null,Ml=0,Nn=1/0,Ut=null,Bi=!1,Ua=null,pr=null,Ys=!1,ar=null,Fi=0,is=0,Ba=null,yi=-1,vi=0;function Je(){return ye&6?Ae():yi!==-1?yi:yi=Ae()}function mr(t){return t.mode&1?ye&2&&Fe!==0?Fe&-Fe:z0.transition!==null?(vi===0&&(vi=bd()),vi):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Cd(t.type)),t):1}function It(t,e,r,n){if(50<is)throw is=0,Ba=null,Error(X(185));Ps(t,r,n),(!(ye&2)||t!==Ue)&&(t===Ue&&(!(ye&2)&&(so|=r),Le===4&&sr(t,Fe)),at(t,n),r===1&&ye===0&&!(e.mode&1)&&(Nn=Ae()+500,eo&&Sr()))}function at(t,e){var r=t.callbackNode;zp(t,e);var n=Si(t,t===Ue?Fe:0);if(n===0)r!==null&&gu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&gu(r),e===1)t.tag===0?R0(lc.bind(null,t)):qd(lc.bind(null,t)),I0(function(){!(ye&6)&&Sr()}),r=null;else{switch(_d(n)){case 1:r=pl;break;case 4:r=wd;break;case 16:r=ki;break;case 536870912:r=xd;break;default:r=ki}r=Vh(r,Dh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Dh(t,e){if(yi=-1,vi=0,ye&6)throw Error(X(327));var r=t.callbackNode;if(wn()&&t.callbackNode!==r)return null;var n=Si(t,t===Ue?Fe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mi(t,n);else{e=n;var s=ye;ye|=2;var i=Bh();(Ue!==t||Fe!==e)&&(Ut=null,Nn=Ae()+500,$r(t,e));do try{tm();break}catch(a){Uh(t,a)}while(!0);El(),Ui.current=i,ye=s,Te!==null?e=0:(Ue=null,Fe=0,e=Le)}if(e!==0){if(e===2&&(s=fa(t),s!==0&&(n=s,e=Fa(t,s))),e===1)throw r=Ns,$r(t,0),sr(t,n),at(t,Ae()),r;if(e===6)sr(t,n);else{if(s=t.current.alternate,!(n&30)&&!X0(s)&&(e=Mi(t,n),e===2&&(i=fa(t),i!==0&&(n=i,e=Fa(t,i))),e===1))throw r=Ns,$r(t,0),sr(t,n),at(t,Ae()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:Ar(t,tt,Ut);break;case 3:if(sr(t,n),(n&130023424)===n&&(e=Ml+500-Ae(),10<e)){if(Si(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ba(Ar.bind(null,t,tt,Ut),e);break}Ar(t,tt,Ut);break;case 4:if(sr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Pt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Y0(n/1960))-n,10<n){t.timeoutHandle=ba(Ar.bind(null,t,tt,Ut),n);break}Ar(t,tt,Ut);break;case 5:Ar(t,tt,Ut);break;default:throw Error(X(329))}}}return at(t,Ae()),t.callbackNode===r?Dh.bind(null,t):null}function Fa(t,e){var r=ss;return t.current.memoizedState.isDehydrated&&($r(t,e).flags|=256),t=Mi(t,e),t!==2&&(e=tt,tt=r,e!==null&&Ma(e)),t}function Ma(t){tt===null?tt=t:tt.push.apply(tt,t)}function X0(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(t,e){for(e&=~Fl,e&=~so,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Pt(e),n=1<<r;t[r]=-1,e&=~n}}function lc(t){if(ye&6)throw Error(X(327));wn();var e=Si(t,0);if(!(e&1))return at(t,Ae()),null;var r=Mi(t,e);if(t.tag!==0&&r===2){var n=fa(t);n!==0&&(e=n,r=Fa(t,n))}if(r===1)throw r=Ns,$r(t,0),sr(t,e),at(t,Ae()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ar(t,tt,Ut),at(t,Ae()),null}function Wl(t,e){var r=ye;ye|=1;try{return t(e)}finally{ye=r,ye===0&&(Nn=Ae()+500,eo&&Sr())}}function Wr(t){ar!==null&&ar.tag===0&&!(ye&6)&&wn();var e=ye;ye|=1;var r=wt.transition,n=xe;try{if(wt.transition=null,xe=1,t)return t()}finally{xe=n,wt.transition=r,ye=e,!(ye&6)&&Sr()}}function Hl(){ut=fn.current,Se(fn)}function $r(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,P0(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(Sl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pi();break;case 3:Sn(),Se(it),Se(Ke),Tl();break;case 5:Ol(n);break;case 4:Sn();break;case 13:Se(Ne);break;case 19:Se(Ne);break;case 10:Cl(n.type._context);break;case 22:case 23:Hl()}r=r.return}if(Ue=t,Te=t=gr(t.current,null),Fe=ut=e,Le=0,Ns=null,Fl=so=Mr=0,tt=ss=null,zr!==null){for(e=0;e<zr.length;e++)if(r=zr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}zr=null}return t}function Uh(t,e){do{var r=Te;try{if(El(),pi.current=Di,$i){for(var n=Ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$i=!1}if(Fr=0,De=ze=Ee=null,rs=!1,ks=0,Bl.current=null,r===null||r.return===null){Le=1,Ns=e,Te=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Zu(o);if(g!==null){g.flags&=-257,Ju(g,o,a,i,e),g.mode&1&&Ku(i,c,e),e=g,l=c;var x=e.updateQueue;if(x===null){var p=new Set;p.add(l),e.updateQueue=p}else x.add(l);break e}else{if(!(e&1)){Ku(i,c,e),Vl();break e}l=Error(X(426))}}else if(je&&a.mode&1){var _=Zu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ju(_,o,a,i,e),jl(jn(l,a));break e}}i=l=jn(l,a),Le!==4&&(Le=2),ss===null?ss=[i]:ss.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=_h(i,l,e);Mu(i,f);break e;case 1:a=l;var m=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pr===null||!pr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=kh(i,a,e);Mu(i,S);break e}}i=i.return}while(i!==null)}Mh(r)}catch(k){e=k,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function Bh(){var t=Ui.current;return Ui.current=Di,t===null?Di:t}function Vl(){(Le===0||Le===3||Le===2)&&(Le=4),Ue===null||!(Mr&268435455)&&!(so&268435455)||sr(Ue,Fe)}function Mi(t,e){var r=ye;ye|=2;var n=Bh();(Ue!==t||Fe!==e)&&(Ut=null,$r(t,e));do try{em();break}catch(s){Uh(t,s)}while(!0);if(El(),ye=r,Ui.current=n,Te!==null)throw Error(X(261));return Ue=null,Fe=0,Le}function em(){for(;Te!==null;)Fh(Te)}function tm(){for(;Te!==null&&!Np();)Fh(Te)}function Fh(t){var e=Hh(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?Mh(t):Te=e,Bl.current=null}function Mh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=K0(r,e),r!==null){r.flags&=32767,Te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Te=null;return}}else if(r=q0(r,e,ut),r!==null){Te=r;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Le===0&&(Le=5)}function Ar(t,e,r){var n=xe,s=wt.transition;try{wt.transition=null,xe=1,rm(t,e,r,n)}finally{wt.transition=s,xe=n}return null}function rm(t,e,r,n){do wn();while(ar!==null);if(ye&6)throw Error(X(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Lp(t,i),t===Ue&&(Te=Ue=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ys||(Ys=!0,Vh(ki,function(){return wn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var o=xe;xe=1;var a=ye;ye|=4,Bl.current=null,J0(t,r),Lh(r,t),_0(wa),ji=!!va,wa=va=null,t.current=r,Q0(r),Ep(),ye=a,xe=o,wt.transition=i}else t.current=r;if(Ys&&(Ys=!1,ar=t,Fi=s),i=t.pendingLanes,i===0&&(pr=null),Ip(r.stateNode),at(t,Ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Bi)throw Bi=!1,t=Ua,Ua=null,t;return Fi&1&&t.tag!==0&&wn(),i=t.pendingLanes,i&1?t===Ba?is++:(is=0,Ba=t):is=0,Sr(),null}function wn(){if(ar!==null){var t=_d(Fi),e=wt.transition,r=xe;try{if(wt.transition=null,xe=16>t?16:t,ar===null)var n=!1;else{if(t=ar,ar=null,Fi=0,ye&6)throw Error(X(331));var s=ye;for(ye|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:ns(8,d,i)}var h=d.child;if(h!==null)h.return=d,te=h;else for(;te!==null;){d=te;var y=d.sibling,g=d.return;if(Th(d),d===c){te=null;break}if(y!==null){y.return=g,te=y;break}te=g}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ns(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,te=f;break e}te=i.return}}var m=t.current;for(te=m;te!==null;){o=te;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,te=w;else e:for(o=m;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:no(9,a)}}catch(k){Pe(a,a.return,k)}if(a===o){te=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,te=S;break e}te=a.return}}if(ye=s,Sr(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Zi,t)}catch{}n=!0}return n}finally{xe=r,wt.transition=e}}return!1}function uc(t,e,r){e=jn(r,e),e=_h(t,e,1),t=fr(t,e,1),e=Je(),t!==null&&(Ps(t,1,e),at(t,e))}function Pe(t,e,r){if(t.tag===3)uc(t,t,r);else for(;e!==null;){if(e.tag===3){uc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pr===null||!pr.has(n))){t=jn(r,t),t=kh(e,t,1),e=fr(e,t,1),t=Je(),e!==null&&(Ps(e,1,t),at(e,t));break}}e=e.return}}function nm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&r,Ue===t&&(Fe&r)===r&&(Le===4||Le===3&&(Fe&130023424)===Fe&&500>Ae()-Ml?$r(t,0):Fl|=r),at(t,e)}function Wh(t,e){e===0&&(t.mode&1?(e=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):e=1);var r=Je();t=Zt(t,e),t!==null&&(Ps(t,e,r),at(t,r))}function sm(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Wh(t,r)}function im(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),Wh(t,r)}var Hh;Hh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)st=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return st=!1,G0(t,e,r);st=!!(t.flags&131072)}else st=!1,je&&e.flags&1048576&&Kd(e,Oi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gi(t,e),t=e.pendingProps;var s=bn(e,Ke.current);vn(e,r),s=zl(null,e,n,t,s,r);var i=Ll();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(n)?(i=!0,Ii(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Il(e),s.updater=ro,e.stateNode=s,s._reactInternals=e,Ca(e,n,t,r),e=Aa(null,e,n,!0,i,r)):(e.tag=0,je&&i&&kl(e),Ze(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=am(n),t=jt(n,t),s){case 0:e=Ia(null,e,n,t,r);break e;case 1:e=Xu(null,e,n,t,r);break e;case 11:e=Qu(null,e,n,t,r);break e;case 14:e=Yu(null,e,n,jt(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:jt(n,s),Ia(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:jt(n,s),Xu(t,e,n,s,r);case 3:e:{if(Eh(e),t===null)throw Error(X(387));n=e.pendingProps,i=e.memoizedState,s=i.element,eh(t,e),zi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=jn(Error(X(423)),e),e=ec(t,e,n,r,s);break e}else if(n!==s){s=jn(Error(X(424)),e),e=ec(t,e,n,r,s);break e}else for(ct=hr(e.stateNode.containerInfo.firstChild),dt=e,je=!0,Ct=null,r=Yd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_n(),n===s){e=Jt(t,e,r);break e}Ze(t,e,n,r)}e=e.child}return e;case 5:return th(e),t===null&&ja(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xa(n,s)?o=null:i!==null&&xa(n,i)&&(e.flags|=32),Nh(t,e),Ze(t,e,o,r),e.child;case 6:return t===null&&ja(e),null;case 13:return Ch(t,e,r);case 4:return Al(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=kn(e,null,n,r):Ze(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:jt(n,s),Qu(t,e,n,s,r);case 7:return Ze(t,e,e.pendingProps,r),e.child;case 8:return Ze(t,e,e.pendingProps.children,r),e.child;case 12:return Ze(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,_e(Ti,n._currentValue),n._currentValue=o,i!==null)if(At(i.value,o)){if(i.children===s.children&&!it.current){e=Jt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Gt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Na(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Na(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,vn(e,r),s=xt(s),n=n(s),e.flags|=1,Ze(t,e,n,r),e.child;case 14:return n=e.type,s=jt(n,e.pendingProps),s=jt(n.type,s),Yu(t,e,n,s,r);case 15:return Sh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:jt(n,s),gi(t,e),e.tag=1,ot(n)?(t=!0,Ii(e)):t=!1,vn(e,r),bh(e,n,s),Ca(e,n,s,r),Aa(null,e,n,!0,t,r);case 19:return Ph(t,e,r);case 22:return jh(t,e,r)}throw Error(X(156,e.tag))};function Vh(t,e){return vd(t,e)}function om(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,e,r,n){return new om(t,e,r,n)}function Gl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function am(t){if(typeof t=="function")return Gl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dl)return 11;if(t===hl)return 14}return 2}function gr(t,e){var r=t.alternate;return r===null?(r=vt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function wi(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Gl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rn:return Dr(r.children,s,i,e);case cl:o=8,s|=8;break;case Yo:return t=vt(12,r,e,s|2),t.elementType=Yo,t.lanes=i,t;case Xo:return t=vt(13,r,e,s),t.elementType=Xo,t.lanes=i,t;case ea:return t=vt(19,r,e,s),t.elementType=ea,t.lanes=i,t;case td:return io(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xc:o=10;break e;case ed:o=9;break e;case dl:o=11;break e;case hl:o=14;break e;case er:o=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=vt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Dr(t,e,r,n){return t=vt(7,t,n,e),t.lanes=r,t}function io(t,e,r,n){return t=vt(22,t,n,e),t.elementType=td,t.lanes=r,t.stateNode={isHidden:!1},t}function Wo(t,e,r){return t=vt(6,t,null,e),t.lanes=r,t}function Ho(t,e,r){return e=vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=So(0),this.expirationTimes=So(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ql(t,e,r,n,s,i,o,a,l){return t=new lm(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(i),t}function um(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Gh(t){if(!t)return wr;t=t._reactInternals;e:{if(Gr(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(ot(r))return Gd(t,r,e)}return e}function qh(t,e,r,n,s,i,o,a,l){return t=ql(r,n,!0,t,s,i,o,a,l),t.context=Gh(null),r=t.current,n=Je(),s=mr(r),i=Gt(n,s),i.callback=e??null,fr(r,i,s),t.current.lanes=s,Ps(t,s,n),at(t,n),t}function oo(t,e,r,n){var s=e.current,i=Je(),o=mr(s);return r=Gh(r),e.context===null?e.context=r:e.pendingContext=r,e=Gt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=fr(s,e,o),t!==null&&(It(t,s,o,i),fi(t,s,o)),o}function Wi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Kl(t,e){cc(t,e),(t=t.alternate)&&cc(t,e)}function cm(){return null}var Kh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zl(t){this._internalRoot=t}ao.prototype.render=Zl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));oo(t,e,null,null)};ao.prototype.unmount=Zl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wr(function(){oo(null,t,null,null)}),e[Kt]=null}};function ao(t){this._internalRoot=t}ao.prototype.unstable_scheduleHydration=function(t){if(t){var e=jd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<nr.length&&e!==0&&e<nr[r].priority;r++);nr.splice(r,0,t),r===0&&Ed(t)}};function Jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dc(){}function dm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Wi(o);i.call(c)}}var o=qh(e,n,t,0,null,!1,!1,"",dc);return t._reactRootContainer=o,t[Kt]=o.current,vs(t.nodeType===8?t.parentNode:t),Wr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Wi(l);a.call(c)}}var l=ql(t,0,!1,null,null,!1,!1,"",dc);return t._reactRootContainer=l,t[Kt]=l.current,vs(t.nodeType===8?t.parentNode:t),Wr(function(){oo(e,l,r,n)}),l}function uo(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wi(o);a.call(l)}}oo(e,o,t,s)}else o=dm(r,e,t,s,n);return Wi(o)}kd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Kn(e.pendingLanes);r!==0&&(ml(e,r|1),at(e,Ae()),!(ye&6)&&(Nn=Ae()+500,Sr()))}break;case 13:Wr(function(){var n=Zt(t,1);if(n!==null){var s=Je();It(n,t,1,s)}}),Kl(t,1)}};gl=function(t){if(t.tag===13){var e=Zt(t,134217728);if(e!==null){var r=Je();It(e,t,134217728,r)}Kl(t,134217728)}};Sd=function(t){if(t.tag===13){var e=mr(t),r=Zt(t,e);if(r!==null){var n=Je();It(r,t,e,n)}Kl(t,e)}};jd=function(){return xe};Nd=function(t,e){var r=xe;try{return xe=t,e()}finally{xe=r}};ca=function(t,e,r){switch(e){case"input":if(na(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Xi(n);if(!s)throw Error(X(90));nd(n),na(n,s)}}}break;case"textarea":id(t,r);break;case"select":e=r.value,e!=null&&pn(t,!!r.multiple,e,!1)}};hd=Wl;fd=Wr;var hm={usingClientEntryPoint:!1,Events:[As,an,Xi,cd,dd,Wl]},Hn={findFiberByHostInstance:Rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:Hn.bundleType,version:Hn.version,rendererPackageName:Hn.rendererPackageName,rendererConfig:Hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gd(t),t===null?null:t.stateNode},findFiberByHostInstance:Hn.findFiberByHostInstance||cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Zi=Xs.inject(fm),zt=Xs}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hm;ft.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(e))throw Error(X(200));return um(t,e,null,r)};ft.createRoot=function(t,e){if(!Jl(t))throw Error(X(299));var r=!1,n="",s=Kh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ql(t,1,!1,null,null,r,!1,n,s),t[Kt]=e.current,vs(t.nodeType===8?t.parentNode:t),new Zl(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=gd(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return Wr(t)};ft.hydrate=function(t,e,r){if(!lo(e))throw Error(X(200));return uo(null,t,e,!0,r)};ft.hydrateRoot=function(t,e,r){if(!Jl(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Kh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=qh(e,null,t,1,r??null,s,!1,i,o),t[Kt]=e.current,vs(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ao(e)};ft.render=function(t,e,r){if(!lo(e))throw Error(X(200));return uo(null,t,e,!1,r)};ft.unmountComponentAtNode=function(t){if(!lo(t))throw Error(X(40));return t._reactRootContainer?(Wr(function(){uo(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};ft.unstable_batchedUpdates=Wl;ft.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!lo(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return uo(t,e,r,!1,n)};ft.version="18.3.1-next-f1338f8080-20240426";function Zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zh)}catch(t){console.error(t)}}Zh(),Zc.exports=ft;var pm=Zc.exports,Jh,hc=pm;Jh=hc.createRoot,hc.hydrateRoot;const mm="modulepreload",gm=function(t){return"/"+t},fc={},nt=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=gm(l),l in fc)return;fc[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":mm,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((y,g)=>{h.addEventListener("load",y),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ym={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(t,e)=>{const r=ee.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>ee.createElement("svg",{ref:d,...ym,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${vm(t)}`,a].join(" "),...c},[...e.map(([h,y])=>ee.createElement(h,y)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=fe("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=fe("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=fe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=fe("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=fe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Pm=({selectedType:t,onTypeSelect:e,disabled:r=!1})=>u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Image Type"}),u.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Select the type of image you want to generate and let AI create stunning visuals for your content"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:`group relative overflow-hidden rounded-3xl p-8 cursor-pointer transition-all duration-500 transform hover:scale-[1.02] ${t==="blog"?"bg-gradient-to-br from-blue-50 to-indigo-100 border-2 border-blue-300 shadow-xl":"bg-white border-2 border-gray-200 hover:border-blue-200 hover:shadow-lg"} ${r?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!r&&e("blog"),children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 to-indigo-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 mb-6 mx-auto shadow-lg",children:u.jsx(ef,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"Blog Featured Image"}),u.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:"Create eye-catching featured images for your blog posts with custom titles and engaging visuals"}),u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Oe,{className:"w-4 h-4 mr-3 text-blue-500"}),"Blog title and content"]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Oe,{className:"w-4 h-4 mr-3 text-blue-500"}),"Professional layouts"]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Oe,{className:"w-4 h-4 mr-3 text-blue-500"}),"Social media ready"]})]}),u.jsxs("div",{className:`flex items-center justify-center text-blue-600 font-medium transition-transform duration-300 ${r?"":"group-hover:translate-x-1"}`,children:["Get Started ",u.jsx(Hi,{className:"w-4 h-4 ml-2"})]})]})]}),u.jsxs("div",{className:`group relative overflow-hidden rounded-3xl p-8 cursor-pointer transition-all duration-500 transform hover:scale-[1.02] ${t==="infographic"?"bg-gradient-to-br from-purple-50 to-pink-100 border-2 border-purple-300 shadow-xl":"bg-white border-2 border-gray-200 hover:border-purple-200 hover:shadow-lg"} ${r?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!r&&e("infographic"),children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/5 to-pink-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 mb-6 mx-auto shadow-lg",children:u.jsx(xr,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"Infographic Image"}),u.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:"Transform your data and content into visually appealing infographics that tell your story"}),u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Oe,{className:"w-4 h-4 mr-3 text-purple-500"}),"Data visualization"]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Oe,{className:"w-4 h-4 mr-3 text-purple-500"}),"Custom graphics"]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Oe,{className:"w-4 h-4 mr-3 text-purple-500"}),"Engaging layouts"]})]}),u.jsxs("div",{className:`flex items-center justify-center text-purple-600 font-medium transition-transform duration-300 ${r?"":"group-hover:translate-x-1"}`,children:["Get Started ",u.jsx(Hi,{className:"w-4 h-4 ml-2"})]})]})]})]})]}),Im=t=>t?t.replace(/"/g,"'").replace(/\\/g,"").replace(/\n/g," ").replace(/\r/g," ").replace(/\t/g," ").replace(/\s+/g," ").trim():"",Cn=t=>{if(typeof t=="string")return Im(t);if(Array.isArray(t))return t.map(Cn);if(t&&typeof t=="object"){const e={};for(const[r,n]of Object.entries(t))e[r]=Cn(n);return e}return t},ei=(t,e=50)=>t.replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/\s+/g,"-").toLowerCase().substring(0,e).replace(/-+$/,""),Am=[{value:"",label:"Default"},{value:"very simple",label:"Very Simple"},{value:"minimalist",label:"Minimalist"},{value:"modern",label:"Modern"},{value:"professional",label:"Professional"},{value:"creative",label:"Creative"},{value:"elegant",label:"Elegant"},{value:"bold",label:"Bold"},{value:"vintage",label:"Vintage"},{value:"custom",label:"Custom (specify below)"}],Om=[{value:"",label:"Default"},{value:"red",label:"Red"},{value:"blue",label:"Blue"},{value:"green",label:"Green"},{value:"purple",label:"Purple"},{value:"orange",label:"Orange"},{value:"yellow",label:"Yellow"},{value:"pink",label:"Pink"},{value:"teal",label:"Teal"},{value:"black",label:"Black"},{value:"white",label:"White"},{value:"gray",label:"Gray"},{value:"multicolor",label:"Multicolor"},{value:"custom",label:"Custom (specify below)"}],Tm=({onSubmit:t,isLoading:e,disabled:r=!1,onOpenBulkModal:n})=>{const[s,i]=ee.useState(""),[o,a]=ee.useState(""),[l,c]=ee.useState(""),[d,h]=ee.useState(""),[y,g]=ee.useState(""),[x,p]=ee.useState(""),_=f=>{if(f.preventDefault(),s.trim()&&o.trim()){const m=l==="custom"?d.trim():l,w=y==="custom"?x.trim():y,S=Cn({title:s.trim(),intro:o.trim(),...m&&{style:m},...w&&{colour:w}});t(S)}};return u.jsxs("form",{onSubmit:_,className:"space-y-6 h-full flex flex-col",children:[u.jsxs("div",{className:"space-y-6 flex-1",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Blog Title *"}),u.jsx("input",{type:"text",id:"title",value:s,onChange:f=>i(f.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your blog title...",required:!0})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx("label",{htmlFor:"intro",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Blog Content / Keywords *"}),u.jsx("textarea",{id:"intro",value:o,onChange:f=>a(f.target.value),disabled:r,className:"w-full flex-1 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 resize-none min-h-[200px] disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your blog content, summary, or keywords that should influence the visual design...",required:!0}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Provide blog content, theme, keywords, or any details that should influence the featured image design."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"style",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Style ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{id:"style",value:l,onChange:f=>c(f.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:Am.map(f=>u.jsx("option",{value:f.value,children:f.label},f.value))}),u.jsx(lr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),l==="custom"&&u.jsx("input",{type:"text",value:d,onChange:f=>h(f.target.value),disabled:r,className:"w-full mt-2 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Specify custom style..."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"colour",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Colour ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{id:"colour",value:y,onChange:f=>g(f.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:Om.map(f=>u.jsx("option",{value:f.value,children:f.label},f.value))}),u.jsx(lr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),y==="custom"&&u.jsx("input",{type:"text",value:x,onChange:f=>p(f.target.value),disabled:r,className:"w-full mt-2 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Specify custom colour..."})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{type:"submit",disabled:!s.trim()||!o.trim()||e||r,className:"w-full py-4 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100 shadow-lg",children:e?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Generating Image..."]}):u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(af,{className:"w-5 h-5 mr-2"}),"Generate Featured Image"]})}),n&&u.jsx("button",{type:"button",onClick:n,disabled:e||r,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(En,{className:"w-5 h-5 mr-2"}),"Bulk Process Multiple Blogs"]})})]})]})},Rm=[{value:"",label:"Default"},{value:"very simple",label:"Very Simple"},{value:"minimalist",label:"Minimalist"},{value:"modern",label:"Modern"},{value:"professional",label:"Professional"},{value:"creative",label:"Creative"},{value:"elegant",label:"Elegant"},{value:"bold",label:"Bold"},{value:"vintage",label:"Vintage"},{value:"custom",label:"Custom (specify below)"}],zm=[{value:"",label:"Default"},{value:"red",label:"Red"},{value:"blue",label:"Blue"},{value:"green",label:"Green"},{value:"purple",label:"Purple"},{value:"orange",label:"Orange"},{value:"yellow",label:"Yellow"},{value:"pink",label:"Pink"},{value:"teal",label:"Teal"},{value:"black",label:"Black"},{value:"white",label:"White"},{value:"gray",label:"Gray"},{value:"multicolor",label:"Multicolor"},{value:"custom",label:"Custom (specify below)"}],Lm=({onSubmit:t,isLoading:e,disabled:r=!1,onOpenBulkModal:n})=>{const[s,i]=ee.useState(""),[o,a]=ee.useState(""),[l,c]=ee.useState(""),[d,h]=ee.useState(""),[y,g]=ee.useState(""),x=p=>{if(p.preventDefault(),s.trim()){const _=o==="custom"?l.trim():o,f=d==="custom"?y.trim():d,m=Cn({content:s.trim(),..._&&{style:_},...f&&{colour:f}});t(m)}};return u.jsxs("form",{onSubmit:x,className:"space-y-6 h-full flex flex-col",children:[u.jsxs("div",{className:"flex-1 flex flex-col space-y-6",children:[u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Content to Visualize *"}),u.jsx("textarea",{id:"content",value:s,onChange:p=>i(p.target.value),disabled:r,className:"w-full flex-1 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 resize-none min-h-[250px] disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter the content, data points, statistics, or blog section you want to visualize as an infographic...",required:!0}),u.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Include data points, statistics, key points, processes, or any content you want to transform into a visual infographic."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"style",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Style ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{id:"style",value:o,onChange:p=>a(p.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:Rm.map(p=>u.jsx("option",{value:p.value,children:p.label},p.value))}),u.jsx(lr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),o==="custom"&&u.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),disabled:r,className:"w-full mt-2 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Specify custom style..."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"colour",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Colour ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{id:"colour",value:d,onChange:p=>h(p.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:zm.map(p=>u.jsx("option",{value:p.value,children:p.label},p.value))}),u.jsx(lr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),d==="custom"&&u.jsx("input",{type:"text",value:y,onChange:p=>g(p.target.value),disabled:r,className:"w-full mt-2 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Specify custom colour..."})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{type:"submit",disabled:!s.trim()||e||r,className:"w-full py-4 px-6 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100 shadow-lg",children:e?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Generating Infographic..."]}):u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(af,{className:"w-5 h-5 mr-2"}),"Generate Infographic"]})}),n&&u.jsx("button",{type:"button",onClick:n,disabled:e||r,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(En,{className:"w-5 h-5 mr-2"}),"Bulk Process Multiple Infographics"]})})]})]})},$m=({imageBase64:t,imageType:e,onClose:r})=>{const[n,s]=ee.useState("png"),[i,o]=ee.useState(!1),a=[{value:"png",label:"PNG",description:"Best quality, larger file size"},{value:"jpeg",label:"JPEG",description:"Good quality, smaller file size"},{value:"webp",label:"WebP",description:"Modern format, excellent compression"}],l=async c=>{o(!0);try{const d=atob(t),h=new Array(d.length);for(let _=0;_<d.length;_++)h[_]=d.charCodeAt(_);const y=new Uint8Array(h),g=document.createElement("canvas"),x=g.getContext("2d"),p=new Image;p.onload=()=>{g.width=p.width,g.height=p.height,x==null||x.drawImage(p,0,0);const _=`image/${c}`,f=c==="jpeg"?.9:void 0;g.toBlob(m=>{if(m){const w=URL.createObjectURL(m),S=document.createElement("a");S.href=w,S.download=`seo-engine-${e}-${Date.now()}.${c}`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(w)}o(!1)},_,f)},p.src=`data:image/png;base64,${t}`}catch(d){console.error("Download error:",d),o(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"aspect-video bg-gray-100 rounded-xl overflow-hidden shadow-inner",children:u.jsx("img",{src:`data:image/png;base64,${t}`,alt:`Generated ${e} image`,className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Download Format"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:a.map(c=>u.jsxs("button",{onClick:()=>s(c.value),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left ${n===c.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-900",children:c.label}),n===c.value&&u.jsx(Yh,{className:"w-5 h-5 text-blue-500"})]}),u.jsx("p",{className:"text-sm text-gray-600",children:c.description})]},c.value))})]}),u.jsx("button",{onClick:()=>l(n),disabled:i,className:"w-full py-4 px-6 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100 shadow-lg",children:i?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Preparing Download..."]}):u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(yr,{className:"w-5 h-5 mr-2"}),"Download as ",n.toUpperCase()]})})]})},Er=[{text:"Understanding your creative vision...",icon:rf,color:"text-yellow-500",bgColor:"bg-yellow-50"},{text:"Ideating stunning concepts...",icon:Oe,color:"text-purple-500",bgColor:"bg-purple-50"},{text:"Dipping the digital brush...",icon:Qh,color:"text-blue-500",bgColor:"bg-blue-50"},{text:"Opening the creative canvas...",icon:nf,color:"text-green-500",bgColor:"bg-green-50"},{text:"Painting your masterpiece...",icon:xr,color:"text-pink-500",bgColor:"bg-pink-50"},{text:"Adding final touches...",icon:Vi,color:"text-orange-500",bgColor:"bg-orange-50"}],Dm=({isLoading:t,generatedImage:e,formData:r,imageType:n,onGenerateNew:s,isBulkProcessing:i=!1,bulkProgress:o,onOpenBulkModal:a})=>{const[l,c]=ee.useState(0),[d,h]=ee.useState(!1),[y,g]=ee.useState(1);ee.useEffect(()=>{if(!t&&!i)return;const w=setInterval(()=>{c(S=>(S+1)%Er.length)},1e4);return()=>clearInterval(w)},[t,i]),ee.useEffect(()=>{(t||i)&&c(0)},[t,i]);const x=()=>{g(w=>Math.min(w+.25,3))},p=()=>{g(w=>Math.max(w-.25,.25))},_=()=>{g(1)},f=()=>{const w=Er[l],S=w.icon,k=o?o.completed/o.total*100:0;return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[u.jsx("div",{className:`relative mb-8 p-6 rounded-2xl ${w.bgColor} border border-opacity-20 transition-all duration-1000`,children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:`w-20 h-20 rounded-full ${w.color.replace("text-","bg-")} opacity-20 animate-pulse absolute inset-0`}),u.jsx("div",{className:"relative w-20 h-20 rounded-full bg-white shadow-lg flex items-center justify-center",children:u.jsx(En,{className:`w-10 h-10 ${w.color} animate-pulse`})}),u.jsx("div",{className:"absolute inset-0 w-20 h-20 rounded-full border-4 border-transparent border-t-current animate-spin opacity-30",style:{color:w.color.replace("text-","")}})]})}),u.jsxs("div",{className:"space-y-4 max-w-md",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Bulk Processing Active"}),o&&u.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Progress"}),u.jsxs("span",{className:"text-sm text-blue-600",children:[o.completed,"/",o.total," completed"]})]}),u.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${k}%`}})}),u.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[Math.round(k),"% complete"]})]}),u.jsxs("div",{className:`p-4 rounded-xl ${w.bgColor} border border-opacity-20`,children:[u.jsxs("div",{className:"flex items-center justify-center mb-2",children:[u.jsx(S,{className:`w-5 h-5 mr-3 ${w.color} animate-pulse`}),u.jsxs("p",{className:`font-semibold ${w.color}`,children:["Step ",l+1," of ",Er.length]})]}),u.jsx("p",{className:"text-gray-700 font-medium animate-pulse",children:w.text})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${w.color.replace("text-","bg-")}`,style:{width:`${(l+1)/Er.length*100}%`}})}),a&&u.jsx("button",{onClick:a,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-[1.02] shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(Hr,{className:"w-5 h-5 mr-2"}),"View Processing Details"]})}),u.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 space-x-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Oe,{className:"w-4 h-4 mr-2"}),"SEO Engine AI at work"]}),u.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Xh,{className:"w-4 h-4 mr-2"}),"Processing in background"]})]})]})]})},m=()=>{var w;if(i)return f();if(t){const S=Er[l],k=S.icon;return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[u.jsx("div",{className:`relative mb-8 p-6 rounded-2xl ${S.bgColor} border border-opacity-20 transition-all duration-1000`,children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:`w-20 h-20 rounded-full ${S.color.replace("text-","bg-")} opacity-20 animate-pulse absolute inset-0`}),u.jsx("div",{className:"relative w-20 h-20 rounded-full bg-white shadow-lg flex items-center justify-center",children:u.jsx(k,{className:`w-10 h-10 ${S.color} animate-pulse`})}),u.jsx("div",{className:"absolute inset-0 w-20 h-20 rounded-full border-4 border-transparent border-t-current animate-spin opacity-30",style:{color:S.color.replace("text-","")}})]})}),u.jsxs("div",{className:"space-y-4 max-w-md",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Generating Your Image"}),u.jsxs("div",{className:`p-4 rounded-xl ${S.bgColor} border border-opacity-20`,children:[u.jsxs("div",{className:"flex items-center justify-center mb-2",children:[u.jsx(k,{className:`w-5 h-5 mr-3 ${S.color} animate-pulse`}),u.jsxs("p",{className:`font-semibold ${S.color}`,children:["Step ",l+1," of ",Er.length]})]}),u.jsx("p",{className:"text-gray-700 font-medium animate-pulse",children:S.text})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${S.color.replace("text-","bg-")}`,style:{width:`${(l+1)/Er.length*100}%`}})}),u.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 space-x-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Oe,{className:"w-4 h-4 mr-2"}),"SEO Engine AI at work"]}),u.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),u.jsx("div",{children:"Usually takes 30-60 seconds"})]})]})]})}return e?u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:["Your ",e.type==="blog"?"Featured":"Infographic"," Image"]}),u.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Choose format and download your image"})]}),u.jsxs("button",{onClick:()=>{h(!0),g(1)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center",children:[u.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Full Preview"]})]}),u.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[u.jsx(Oe,{className:"w-3 h-3 mr-1"}),"Generated by SEO Engine AI"]})]}),u.jsxs("div",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"aspect-video bg-gray-100 rounded-xl overflow-hidden shadow-inner cursor-pointer",onClick:()=>h(!0),children:u.jsx("img",{src:`data:image/png;base64,${e.base64}`,alt:`Generated ${e.type} image`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),u.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Click to view full size"})]}),u.jsx($m,{imageBase64:e.base64,imageType:e.type}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:s,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-[1.02] shadow-lg",children:"Generate Another Image"})})]})]}):r?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center mb-6",children:u.jsx(xr,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to Generate"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Click the generate button to create your image with SEO Engine AI"}),u.jsx("div",{className:"bg-gray-50 rounded-xl p-4 max-w-sm",children:u.jsx("p",{className:"text-sm text-gray-600",children:n==="blog"?`Title: "${r.title}"`:`Content: "${(w=r.content)==null?void 0:w.substring(0,50)}..."`})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center mb-6",children:u.jsx(xr,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Image Preview"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Fill out the form to see your generated image here"}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Powered by SEO Engine AI"]})]})};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-full flex flex-col",children:u.jsx("div",{className:"flex-1",children:m()})}),d&&e&&u.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-7xl max-h-[95vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-white",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.type==="blog"?"Blog Featured Image":"Infographic Image"}),u.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:u.jsxs("span",{children:["Zoom: ",Math.round(y*100),"%"]})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:p,disabled:y<=.25,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom Out",children:u.jsx(lf,{className:"w-5 h-5"})}),u.jsx("button",{onClick:_,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset Zoom",children:u.jsx(sf,{className:"w-5 h-5"})}),u.jsx("button",{onClick:x,disabled:y>=3,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom In",children:u.jsx(Ka,{className:"w-5 h-5"})}),u.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),u.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(br,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 p-4",children:u.jsx("div",{className:"flex items-center justify-center min-h-full",children:u.jsx("img",{src:`data:image/png;base64,${e.base64}`,alt:`Generated ${e.type} image`,className:"max-w-none rounded-lg shadow-lg transition-transform duration-300 cursor-move",style:{transform:`scale(${y})`,transformOrigin:"center center"},draggable:!1})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Use zoom controls to inspect details  Click and drag to pan when zoomed"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:()=>{(()=>{try{const S=atob(e.base64),k=new Array(S.length);for(let U=0;U<S.length;U++)k[U]=S.charCodeAt(U);const C=new Uint8Array(k),I=new Blob([C],{type:"image/png"}),T=URL.createObjectURL(I),R=document.createElement("a");R.href=T,R.download=`seo-engine-${e.type}-${Date.now()}.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(T)}catch(S){console.error("Download error:",S)}})()},className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-300",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(yr,{className:"w-4 h-4 mr-2"}),"Download PNG"]})}),u.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-300",children:"Close"})]})]})})]})})]})},Um=({currentStep:t,steps:e})=>u.jsx("div",{className:"flex items-center justify-center",children:u.jsx("div",{className:"flex items-center space-x-4",children:e.map((r,n)=>u.jsxs(qc.Fragment,{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all duration-300 ${n<t?"bg-gradient-to-r from-blue-600 to-indigo-600 border-blue-600 text-white shadow-lg":n===t?"border-blue-600 text-blue-600 bg-blue-50":"border-gray-300 text-gray-400 bg-white"}`,children:n<t?u.jsx(Yh,{className:"w-5 h-5"}):u.jsx("span",{className:"text-sm font-semibold",children:n+1})}),u.jsx("span",{className:`ml-3 text-sm font-medium ${n<=t?"text-gray-900":"text-gray-500"}`,children:r})]}),n<e.length-1&&u.jsx("div",{className:`w-12 h-0.5 transition-all duration-300 ${n<t?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gray-300"}`})]},n))})}),Bm=({currentType:t,onTypeSelect:e,isVisible:r,disabled:n=!1})=>r?u.jsx("div",{className:"bg-white/80 backdrop-blur-xl border-b border-gray-200/50",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:u.jsx("div",{className:"flex items-center justify-center space-x-4",children:u.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1",children:[u.jsxs("button",{onClick:()=>!n&&e("blog"),disabled:n,className:`flex items-center px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${t==="blog"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[u.jsx(ef,{className:"w-4 h-4 mr-2"}),"Blog Featured Image",t!=="blog"&&!n&&u.jsx(Hi,{className:"w-3 h-3 ml-2 opacity-50"})]}),u.jsxs("button",{onClick:()=>!n&&e("infographic"),disabled:n,className:`flex items-center px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${t==="infographic"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-purple-600 hover:bg-purple-50"}`,children:[u.jsx(xr,{className:"w-4 h-4 mr-2"}),"Infographic Image",t!=="infographic"&&!n&&u.jsx(Hi,{className:"w-3 h-3 ml-2 opacity-50"})]})]})})})}):null,Fm=({className:t=""})=>{const e=ee.useRef(null),r=ee.useRef(),n=ee.useRef({x:.5,y:.5}),s=ee.useRef(0);return ee.useEffect(()=>{const i=e.current;if(!i)return;const o=i.getContext("webgl")||i.getContext("experimental-webgl");if(!o){console.warn("WebGL not supported, falling back to canvas 2D");return}const a=`
      attribute vec2 a_position;
      void main() {
        gl_Position = vec4(a_position, 0.0, 1.0);
      }
    `,l=`
      precision mediump float;
      uniform float u_time;
      uniform vec2 u_resolution;
      uniform vec2 u_mouse;
      
      // Noise function for organic patterns
      float noise(vec2 st) {
        return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
      }
      
      // Smooth noise
      float smoothNoise(vec2 st) {
        vec2 i = floor(st);
        vec2 f = fract(st);
        
        float a = noise(i);
        float b = noise(i + vec2(1.0, 0.0));
        float c = noise(i + vec2(0.0, 1.0));
        float d = noise(i + vec2(1.0, 1.0));
        
        vec2 u = f * f * (3.0 - 2.0 * f);
        
        return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
      }
      
      // Fractal noise
      float fractalNoise(vec2 st) {
        float value = 0.0;
        float amplitude = 0.5;
        float frequency = 0.0;
        
        for (int i = 0; i < 5; i++) {
          value += amplitude * smoothNoise(st);
          st *= 2.0;
          amplitude *= 0.5;
        }
        return value;
      }
      
      // Enhanced color palette with more vibrant colors
      vec3 palette(float t) {
        // More vibrant color palette for better visibility
        vec3 a = vec3(0.2, 0.5, 0.8);
        vec3 b = vec3(0.8, 0.5, 0.2);
        vec3 c = vec3(2.0, 1.0, 1.0);
        vec3 d = vec3(0.0, 0.33, 0.67);
        
        return a + b * cos(6.28318 * (c * t + d));
      }
      
      void main() {
        vec2 st = gl_FragCoord.xy / u_resolution.xy;
        st.x *= u_resolution.x / u_resolution.y;
        
        // Create flowing, organic patterns
        vec2 pos = st * 2.5;
        
        // Add time-based movement with more dynamic motion
        pos += vec2(sin(u_time * 0.15), cos(u_time * 0.12)) * 0.8;
        
        // Enhanced mouse interaction
        vec2 mousePos = u_mouse;
        mousePos.x *= u_resolution.x / u_resolution.y;
        float mouseDist = distance(st * vec2(u_resolution.x / u_resolution.y, 1.0), mousePos);
        float mouseInfluence = smoothstep(0.4, 0.0, mouseDist);
        
        // Create stronger ripple effect
        float ripple = sin(mouseDist * 25.0 - u_time * 3.0) * mouseInfluence * 0.2;
        pos += ripple;
        
        // Generate base noise pattern with more layers
        float n1 = fractalNoise(pos + u_time * 0.08);
        float n2 = fractalNoise(pos * 1.8 + u_time * 0.05);
        float n3 = fractalNoise(pos * 0.3 + u_time * 0.1);
        
        // Combine noise layers with better contrast
        float finalNoise = n1 * 0.6 + n2 * 0.3 + n3 * 0.1;
        
        // Add stronger mouse interaction to color
        finalNoise += mouseInfluence * 0.5;
        
        // Generate more vibrant colors
        vec3 color1 = palette(finalNoise + u_time * 0.15);
        vec3 color2 = palette(finalNoise + 0.5 + u_time * 0.12);
        
        // Mix colors with more dynamic blending
        float mixFactor = smoothNoise(st * 3.0 + u_time * 0.03);
        vec3 finalColor = mix(color1, color2, mixFactor);
        
        // Enhanced gradient overlay for better depth
        float gradient = 1.0 - length(st - 0.5) * 0.6;
        finalColor *= gradient;
        
        // Stronger color enhancement around mouse cursor
        finalColor = mix(finalColor, finalColor * 2.0, mouseInfluence * 0.7);
        
        // Add some brightness boost for better visibility
        finalColor *= 1.5;
        
        // Subtle vignette effect
        float vignette = smoothstep(0.9, 0.3, length(st - 0.5));
        finalColor *= vignette;
        
        // Higher alpha for much better visibility against black background
        gl_FragColor = vec4(finalColor, 0.8);
      }
    `;function c(C,I,T){const R=C.createShader(T);return R?(C.shaderSource(R,I),C.compileShader(R),C.getShaderParameter(R,C.COMPILE_STATUS)?R:(console.error("Shader compilation error:",C.getShaderInfoLog(R)),C.deleteShader(R),null)):null}const d=c(o,a,o.VERTEX_SHADER),h=c(o,l,o.FRAGMENT_SHADER);if(!d||!h)return;const y=o.createProgram();if(!y)return;if(o.attachShader(y,d),o.attachShader(y,h),o.linkProgram(y),!o.getProgramParameter(y,o.LINK_STATUS)){console.error("Program linking error:",o.getProgramInfoLog(y));return}const g=new Float32Array([-1,-1,1,-1,-1,1,1,1]),x=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,x),o.bufferData(o.ARRAY_BUFFER,g,o.STATIC_DRAW);const p=o.getUniformLocation(y,"u_time"),_=o.getUniformLocation(y,"u_resolution"),f=o.getUniformLocation(y,"u_mouse"),m=o.getAttribLocation(y,"a_position");function w(){const C=i.clientWidth,I=i.clientHeight;(i.width!==C||i.height!==I)&&(i.width=C,i.height=I,o.viewport(0,0,C,I))}function S(C){const I=i.getBoundingClientRect();n.current={x:(C.clientX-I.left)/I.width,y:1-(C.clientY-I.top)/I.height}}function k(){w(),s.current+=.016,o.useProgram(y),o.uniform1f(p,s.current),o.uniform2f(_,i.width,i.height),o.uniform2f(f,n.current.x,n.current.y),o.bindBuffer(o.ARRAY_BUFFER,x),o.enableVertexAttribArray(m),o.vertexAttribPointer(m,2,o.FLOAT,!1,0,0),o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_STRIP,0,4),r.current=requestAnimationFrame(k)}return i.addEventListener("mousemove",S),window.addEventListener("resize",w),w(),k(),()=>{i.removeEventListener("mousemove",S),window.removeEventListener("resize",w),r.current&&cancelAnimationFrame(r.current),o.deleteProgram(y),o.deleteShader(d),o.deleteShader(h),o.deleteBuffer(x)}},[]),u.jsx("canvas",{ref:e,className:`absolute inset-0 w-full h-full pointer-events-none ${t}`,style:{zIndex:1}})},Mm=({isOpen:t,onClose:e,onSignInWithEmail:r,onSignInAnonymously:n,onOpenSignUp:s})=>{const[i,o]=ee.useState(""),[a,l]=ee.useState(""),[c,d]=ee.useState(!1),[h,y]=ee.useState(!1),[g,x]=ee.useState("");if(!t)return null;const p=async m=>{m.preventDefault(),y(!0),x("");const w=await r(i,a);w.success?(e(),o(""),l("")):x(w.error||"Failed to sign in. Please try again."),y(!1)},_=async()=>{y(!0),x(""),await n()?e():x("Failed to sign in anonymously. Please try again."),y(!1)},f=()=>{e(),s()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(br,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 mr-4",children:u.jsx(Oe,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Welcome Back"}),u.jsx("p",{className:"text-blue-100",children:"Sign in to SEO Engine"})]})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[g&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:u.jsx("p",{className:"text-red-600 text-sm",children:g})}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",value:i,onChange:m=>o(m.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your email",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:c?"text":"password",id:"password",value:a,onChange:m=>l(m.target.value),className:"w-full px-4 py-3 pr-12 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your password",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?u.jsx(Ga,{className:"w-5 h-5"}):u.jsx(Hr,{className:"w-5 h-5"})})]})]}),u.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:h?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing In..."]}):u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(km,{className:"w-5 h-5 mr-2"}),"Sign In with Email"]})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-200"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-4 bg-white text-gray-500",children:"or"})})]}),u.jsx("button",{onClick:f,disabled:h,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(Cm,{className:"w-5 h-5 mr-2"}),"Create New Account (100 Free Credits!)"]})}),u.jsx("button",{onClick:_,disabled:h,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-gray-600 to-gray-700 text-white font-semibold hover:from-gray-700 hover:to-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:h?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing In..."]}):u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(Em,{className:"w-5 h-5 mr-2"}),"Continue Anonymously (Limited Features)"]})}),u.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]})]})})},Wm=({isOpen:t,onClose:e,onSignUp:r})=>{const[n,s]=ee.useState({email:"",name:"",username:"",brand_name:"",website_url:"",password:"",confirmPassword:""}),[i,o]=ee.useState(!1),[a,l]=ee.useState(!1),[c,d]=ee.useState(!1),[h,y]=ee.useState("");if(!t)return null;const g=async p=>{if(p.preventDefault(),d(!0),y(""),n.password!==n.confirmPassword){y("Passwords do not match"),d(!1);return}if(n.password.length<6){y("Password must be at least 6 characters long"),d(!1);return}if(n.username.length<3){y("Username must be at least 3 characters long"),d(!1);return}try{await r({email:n.email,name:n.name,username:n.username,brand_name:n.brand_name||void 0,website_url:n.website_url||void 0,password:n.password})&&(e(),s({email:"",name:"",username:"",brand_name:"",website_url:"",password:"",confirmPassword:""}))}catch(_){y(_.message||"Failed to create account")}d(!1)},x=(p,_)=>{s(f=>({...f,[p]:_})),h&&y("")};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(br,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 mr-4",children:u.jsx(Oe,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Create Account"}),u.jsx("p",{className:"text-blue-100",children:"Join SEO Engine and get 100 free credits!"})]})]})]}),u.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[h&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:u.jsx("p",{className:"text-red-600 text-sm",children:h})}),u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address *"}),u.jsx("input",{type:"email",id:"email",value:n.email,onChange:p=>x("email",p.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your email",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Full Name *"}),u.jsxs("div",{className:"relative",children:[u.jsx(of,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",id:"name",value:n.name,onChange:p=>x("name",p.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Username *"}),u.jsxs("div",{className:"relative",children:[u.jsx(wm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",id:"username",value:n.username,onChange:p=>x("username",p.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"unique_username",required:!0})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only lowercase letters, numbers, and underscores allowed"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"brand_name",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Brand Name ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(xm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",id:"brand_name",value:n.brand_name,onChange:p=>x("brand_name",p.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your brand name"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"website_url",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Website URL ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"url",id:"website_url",value:n.website_url,onChange:p=>x("website_url",p.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"https://yourwebsite.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password *"}),u.jsxs("div",{className:"relative",children:[u.jsx(pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:i?"text":"password",id:"password",value:n.password,onChange:p=>x("password",p.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your password",required:!0}),u.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?u.jsx(Ga,{className:"w-5 h-5"}):u.jsx(Hr,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Confirm Password *"}),u.jsxs("div",{className:"relative",children:[u.jsx(pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:a?"text":"password",id:"confirmPassword",value:n.confirmPassword,onChange:p=>x("confirmPassword",p.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Confirm your password",required:!0}),u.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?u.jsx(Ga,{className:"w-5 h-5"}):u.jsx(Hr,{className:"w-5 h-5"})})]})]}),u.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:c?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Creating Account..."]}):"Create Account & Get 100 Credits"})]}),u.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]})})},Hm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nt(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ql extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Vm extends Ql{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gm extends Ql{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qm extends Ql{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Za;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Za||(Za={}));var Km=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Zm{constructor(e,{headers:r={},customFetch:n,region:s=Za.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Hm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Km(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new Vm(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Gm(d);if(!d.ok)throw new qm(d);let y=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield d.json():y==="application/octet-stream"?g=yield d.blob():y==="text/event-stream"?g=d:y==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var rt={},Yl={},co={},Ts={},ho={},fo={},Jm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pn=Jm();const Qm=Pn.fetch,uf=Pn.fetch.bind(Pn),cf=Pn.Headers,Ym=Pn.Request,Xm=Pn.Response,Tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:cf,Request:Ym,Response:Xm,default:uf,fetch:Qm},Symbol.toStringTag,{value:"Module"})),eg=Mf(Tn);var po={};Object.defineProperty(po,"__esModule",{value:!0});let tg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};po.default=tg;var df=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fo,"__esModule",{value:!0});const rg=df(eg),ng=df(po);let sg=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=rg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,y=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=f:d=JSON.parse(f))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");p&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,y=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{c=JSON.parse(p),Array.isArray(c)&&i.status===404&&(d=[],c=null,y=200,g="OK")}catch{i.status===404&&p===""?(y=204,g="No Content"):c={message:p}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,y=200,g="OK"),c&&this.shouldThrowOnError)throw new ng.default(c)}return{error:c,data:d,count:h,status:y,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};fo.default=sg;var ig=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ho,"__esModule",{value:!0});const og=ig(fo);let ag=class extends og.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ho.default=ag;var lg=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ts,"__esModule",{value:!0});const ug=lg(ho);let cg=class extends ug.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ts.default=cg;var dg=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(co,"__esModule",{value:!0});const Vn=dg(Ts);let hg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Vn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Vn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Vn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Vn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};co.default=hg;var mo={},go={};Object.defineProperty(go,"__esModule",{value:!0});go.version=void 0;go.version="0.0.0-automated";Object.defineProperty(mo,"__esModule",{value:!0});mo.DEFAULT_HEADERS=void 0;const fg=go;mo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fg.version}`};var hf=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yl,"__esModule",{value:!0});const pg=hf(co),mg=hf(Ts),gg=mo;let yg=class ff{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},gg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new pg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ff(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new mg.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Yl.default=yg;var Rn=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const pf=Rn(Yl);rt.PostgrestClient=pf.default;const mf=Rn(co);rt.PostgrestQueryBuilder=mf.default;const gf=Rn(Ts);rt.PostgrestFilterBuilder=gf.default;const yf=Rn(ho);rt.PostgrestTransformBuilder=yf.default;const vf=Rn(fo);rt.PostgrestBuilder=vf.default;const wf=Rn(po);rt.PostgrestError=wf.default;var vg=rt.default={PostgrestClient:pf.default,PostgrestQueryBuilder:mf.default,PostgrestFilterBuilder:gf.default,PostgrestTransformBuilder:yf.default,PostgrestBuilder:vf.default,PostgrestError:wf.default};const{PostgrestClient:wg,PostgrestQueryBuilder:Nv,PostgrestFilterBuilder:Ev,PostgrestTransformBuilder:Cv,PostgrestBuilder:Pv,PostgrestError:Iv}=vg;function xg(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const bg=xg(),_g="2.11.15",kg=`realtime-js/${_g}`,Sg="1.0.0",xf=1e4,jg=1e3;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var Ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ve||(Ve={}));var Et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Et||(Et={}));var Ja;(function(t){t.websocket="websocket"})(Ja||(Ja={}));var Tr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Tr||(Tr={}));class Ng{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class bf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(be||(be={}));const yc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Eg(o,t,e,s),i),{})},Eg=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?_f(i,o):Qa(o)},_f=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ag(e,r)}switch(t){case be.bool:return Cg(e);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return Pg(e);case be.json:case be.jsonb:return Ig(e);case be.timestamp:return Og(e);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return Qa(e);default:return Qa(e)}},Qa=t=>t,Cg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Pg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ig=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ag=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>_f(e,a))}return t},Og=t=>typeof t=="string"?t.replace(" ","T"):t,kf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Vo{constructor(e,r,n={},s=xf){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vc||(vc={}));class as{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=as.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=as.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=as.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const y=d.map(_=>_.presence_ref),g=h.map(_=>_.presence_ref),x=d.filter(_=>g.indexOf(_.presence_ref)<0),p=h.filter(_=>y.indexOf(_.presence_ref)<0);x.length>0&&(a[c]=x),p.length>0&&(l[c]=p)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(g=>g.presence_ref),y=d.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...y)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wc||(wc={}));var xc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xc||(xc={}));var Bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class Xl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vo(this,Et.join,this.params,this.timeout),this.rejoinTimer=new bf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new as(this),this.broadcastEndpointURL=kf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Bt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Bt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Bt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,g=(h=y==null?void 0:y.length)!==null&&h!==void 0?h:0,x=[];for(let p=0;p<g;p++){const _=y[p],{filter:{event:f,schema:m,table:w,filter:S}}=_,k=d&&d[p];if(k&&k.event===f&&k.schema===m&&k.table===w&&k.filter===S)x.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),this.state=Ve.errored,e==null||e(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Bt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ve.errored,e==null||e(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Vo(this,Et.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vo(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Et;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,p,_;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(p=g.filter)===null||p===void 0?void 0:p.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(y,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,p,_,f,m,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const S=g.id,k=(x=g.filter)===null||x===void 0?void 0:x.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(m=(f=g==null?void 0:g.filter)===null||f===void 0?void 0:f.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:p,table:_,commit_timestamp:f,type:m,errors:w}=x;y=Object.assign(Object.assign({},{schema:p,table:_,commit_timestamp:f,eventType:m,new:{},old:{},errors:w}),this._getPayloadRecords(x))}g.callback(y,n)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xl.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Et.close,{},e)}_onError(e){this._on(Et.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=yc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=yc(e.columns,e.old_record)),r}}const bc=()=>{},Tg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rg{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bc,this.ref=0,this.logger=bc,this.conn=null,this.sendBuffer=[],this.serializer=new Ng,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>nt(async()=>{const{default:l}=await Promise.resolve().then(()=>Tn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ja.websocket}`,this.httpEndpoint=kf(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=bg),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sg}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return Tr.Connecting;case os.open:return Tr.Open;case os.closing:return Tr.Closing;default:return Tr.Closed}}isConnected(){return this.connectionState()===Tr.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Xl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:kg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Et.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(jg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Et.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Tg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class eu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class zg extends eu{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ya extends eu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Lg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Sf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nt(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},$g=()=>Lg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nt(()=>Promise.resolve().then(()=>Tn),void 0)).Response:Response}),Xa=t=>{if(Array.isArray(t))return t.map(r=>Xa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Xa(n)}),e};var qr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Go=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dg=(t,e,r)=>qr(void 0,void 0,void 0,function*(){const n=yield $g();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new zg(Go(s),t.status||500))}).catch(s=>{e(new Ya(Go(s),s))}):e(new Ya(Go(t),t))}),Ug=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Rs(t,e,r,n,s,i){return qr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Ug(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Dg(l,a,n))})})}function Gi(t,e,r,n){return qr(this,void 0,void 0,function*(){return Rs(t,"GET",e,r,n)})}function rr(t,e,r,n,s){return qr(this,void 0,void 0,function*(){return Rs(t,"POST",e,n,s,r)})}function Bg(t,e,r,n,s){return qr(this,void 0,void 0,function*(){return Rs(t,"PUT",e,n,s,r)})}function Fg(t,e,r,n){return qr(this,void 0,void 0,function*(){return Rs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jf(t,e,r,n,s){return qr(this,void 0,void 0,function*(){return Rs(t,"DELETE",e,n,s,r)})}var Xe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Mg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Sf(s)}uploadOrUpdate(e,r,n,s){return Xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},_c),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),y=yield h.json();return h.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if($e(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:_c.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),y=yield h.json();return h.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if($e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield rr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new eu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield rr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Xe(this,void 0,void 0,function*(){try{const s=yield rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}download(e,r){return Xe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Gi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if($e(a))return{data:null,error:a};throw a}})}info(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Gi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xa(n),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}exists(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Fg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if($e(n)&&n instanceof Ya){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Mg),r),{prefix:e||""});return{data:yield rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Hg="2.7.1",Vg={"X-Client-Info":`storage-js/${Hg}`};var Zr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Gg{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Vg),r),this.fetch=Sf(n)}listBuckets(){return Zr(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if($e(e))return{data:null,error:e};throw e}})}getBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Zr(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Zr(this,void 0,void 0,function*(){try{return{data:yield Bg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}}class qg extends Gg{constructor(e,r={},n){super(e,r,n)}from(e){return new Wg(this.url,this.headers,e,this.fetch)}}const Kg="2.50.2";let Jn="";typeof Deno<"u"?Jn="deno":typeof document<"u"?Jn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jn="react-native":Jn="node";const Zg={"X-Client-Info":`supabase-js-${Jn}/${Kg}`},Jg={headers:Zg},Qg={schema:"public"},Yg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xg={};var ey=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ty=t=>{let e;return t?e=t:typeof fetch>"u"?e=uf:e=fetch,(...r)=>e(...r)},ry=()=>typeof Headers>"u"?cf:Headers,ny=(t,e,r)=>{const n=ty(r),s=ry();return(i,o)=>ey(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var sy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function iy(t){return t.endsWith("/")?t:t+"/"}function oy(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,y={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>sy(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const Nf="2.70.0",en=30*1e3,el=3,qo=el*en,ay="http://localhost:9999",ly="supabase.auth.token",uy={"X-Client-Info":`gotrue-js/${Nf}`},tl="X-Supabase-Api-Version",Ef={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dy=6e5;class tu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function he(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hy extends tu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fy(t){return he(t)&&t.name==="AuthApiError"}class Cf extends tu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class jr extends tu{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Xt extends jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function py(t){return he(t)&&t.name==="AuthSessionMissingError"}class ti extends jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ri extends jr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ni extends jr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function my(t){return he(t)&&t.name==="AuthImplicitGrantRedirectError"}class kc extends jr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rl extends jr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ko(t){return he(t)&&t.name==="AuthRetryableFetchError"}class Sc extends jr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ls extends jr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jc=` 	
\r=`.split(""),gy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jc.length;e+=1)t[jc[e].charCodeAt(0)]=-2;for(let e=0;e<qi.length;e+=1)t[qi[e].charCodeAt(0)]=e;return t})();function Nc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(qi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(qi[n]),e.queuedBits-=6}}function Pf(t,e,r){const n=gy[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ec(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{wy(o,n,r)};for(let o=0;o<t.length;o+=1)Pf(t.charCodeAt(o),s,i);return e.join("")}function yy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vy(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}yy(n,e)}}function wy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function xy(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Pf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function by(t){const e=[];return vy(t,r=>e.push(r)),new Uint8Array(e)}function _y(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Nc(s,r,n)),Nc(null,r,n),e.join("")}function ky(t){return Math.round(Date.now()/1e3)+t}function Sy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},us=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cr.tested)return Cr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable};function jy(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const If=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nt(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ny=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Af=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},si=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ii=async(t,e)=>{await t.removeItem(e)};class yo{constructor(){this.promise=new yo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}yo.promiseConstructor=Promise;function Zo(t){const e=t.split(".");if(e.length!==3)throw new ls("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!cy.test(e[n]))throw new ls("JWT not in base64url format");return{header:JSON.parse(Ec(e[0])),payload:JSON.parse(Ec(e[1])),signature:xy(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ey(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Cy(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Py(t){return("0"+t.toString(16)).substr(-2)}function Iy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Py).join("")}async function Ay(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Oy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Ay(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jr(t,e,r=!1){const n=Iy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Af(t,`${e}-code-verifier`,s);const i=await Oy(n);return[i,n===i?"plain":"s256"]}const Ty=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ry(t){const e=t.headers.get(tl);if(!e||!e.match(Ty))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ly(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $y=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qr(t){if(!$y.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Dy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Or=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uy=[502,503,504];async function Cc(t){var e;if(!Ny(t))throw new rl(Or(t),0);if(Uy.includes(t.status))throw new rl(Or(t),t.status);let r;try{r=await t.json()}catch(i){throw new Cf(Or(i),i)}let n;const s=Ry(t);if(s&&s.getTime()>=Ef["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Sc(Or(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sc(Or(r),t.status,r.weak_password.reasons);throw new hy(Or(r),t.status||500,n)}const By=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function pe(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[tl]||(i[tl]=Ef["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Fy(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Fy(t,e,r,n,s,i){const o=By(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new rl(Or(l),0)}if(a.ok||await Cc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Cc(l)}}function Dt(t){var e;let r=null;Vy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ky(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Pc(t){const e=Dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ir(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function My(t){return{data:t,error:null}}function Wy(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Dy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Hy(t){return t}function Vy(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jo=["global","local","others"];var Gy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class qy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=If(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Jo[0]){if(Jo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jo.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ir})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Gy(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Wy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ir})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Hy});if(d.error)throw d.error;const h=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);c[`${_}Page`]=p}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(he(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Qr(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ir})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qr(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ir})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Qr(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ir})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Qr(e.userId);try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qr(e.userId),Qr(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}const Ky={getItem:t=>us()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{us()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{us()&&globalThis.localStorage.removeItem(t)}};function Ic(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Zy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yr={debug:!!(globalThis&&us()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Of extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Jy extends Of{}async function Qy(t,e,r){Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Jy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Zy();const Yy={url:ay,storageKey:ly,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ac(t,e,r){return await r()}class Es{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Es.nextInstanceID,Es.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Yy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=If(s.fetch),this.lock=s.lock||Ac,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:St()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Qy:this.lock=Ac,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:us()?this.storage=Ky:(this.memoryStorage={},this.storage=Ic(this.memoryStorage)):(this.memoryStorage={},this.storage=Ic(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=jy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),St()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),my(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?{error:r}:{error:new Cf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:y}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Jr(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:d,password:h,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:g,code_challenge_method:x},xform:Dt})}else if("phone"in e){const{phone:d,password:h,options:y}=e;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Dt})}else throw new ri("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pc})}else throw new ri("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ti}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,h,y,g;let x,p;if("message"in e)x=e.message,p=e.signature;else{const{chain:_,wallet:f,statement:m,options:w}=e;let S;if(St())if(typeof f=="object")S=f;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=f}const k=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let I;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")I=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)I=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)x=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),p=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=C}}try{const{data:_,error:f}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:_y(p)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Dt});if(f)throw f;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ti}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:f})}catch(_){if(he(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await si(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Dt});if(await ii(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ti}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(he(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Dt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ti}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Jr(this.storage,this.storageKey));const{error:h}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ri("You must provide either an email or phone number.")}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Jr(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:My})}catch(i){if(he(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Xt;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(he(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ri("You must provide either an email or phone number and a type")}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<qo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ir}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ir})})}catch(r){if(he(r))return py(r)&&(await this._removeSession(),await ii(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Xt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Jr(this.storage,this.storageKey));const{data:c,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ir});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Zo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(he(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Xt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!St())throw new ni("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ni(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ni("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kc("No code detected.");const{data:m,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new ni("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let y=d+h;l&&(y=parseInt(l));const g=y-d;g*1e3<=en&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=y-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,d);const{data:p,error:_}=await this._getUser(i);if(_)throw _;const f={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:y,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(n){if(he(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await si(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(fy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ii(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Sy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Jr(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(he(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:y}=i;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return St()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(he(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Cy(async s=>(s>0&&await Ey(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ko(i)&&Date.now()+o-n<en})}catch(n){if(this._debug(r,"error",n),he(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),St()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await si(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<qo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${qo}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ko(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),he(i)){const o={session:null,error:i};return Ko(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Af(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ii(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),en);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/en);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${en}ms, refresh threshold is ${el} ticks`),s<=el&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Of)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Jr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+dy>Date.now()))return n;const{data:s,error:i}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ls("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new ls("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Zo(n);if(zy(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const c=Ly(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,by(`${a}.${l}`)))throw new ls("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}Es.nextInstanceID=0;const Xy=Es;class ev extends Xy{constructor(e){super(e)}}var tv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class rv{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=iy(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Qg,realtime:Xg,auth:Object.assign(Object.assign({},Yg),{storageKey:c}),global:Jg},h=oy(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=ny(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new wg(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Zm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return tv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ev({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Rg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nv=(t,e,r)=>new rv(t,e,r),sv="https://hdnzkcwkgukbrkqjygbd.supabase.co",Tf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkbnprY3drZ3VrYnJrcWp5Z2JkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyNzc4NTksImV4cCI6MjA2Njg1Mzg1OX0.nQxZF-oXyHJqAMZ262pvADMBCQYy3u-7EFXqaE0O4DI",et=!!Tf,Mt=nv(sv,Tf),Nr=()=>{if(!Mt)throw new Error("Supabase is not configured. Please set up your database connection.");return Mt},iv=async t=>{const e=Nr();try{console.log("Starting sign up process for:",t.email);const{data:r,error:n}=await e.auth.signUp({email:t.email,password:t.password});if(n)throw console.error("Auth sign up error:",n),n.message.includes("already registered")?new Error("Email already registered. Please use a different email or sign in."):n;if(!r.user)throw new Error("Failed to create user account");console.log("Auth user created successfully:",r.user.id);const s={id:r.user.id,email:t.email,name:t.name,brand_name:t.brand_name||null,website_url:t.website_url||null,username:t.username};console.log("Creating user profile:",s);const{data:i,error:o}=await e.from("users").insert(s).select().single();if(o){console.error("Profile creation error:",o);try{await e.auth.signOut()}catch(a){console.error("Cleanup error:",a)}if(o.code==="23505"){if(o.message.includes("username"))throw new Error("Username already taken. Please choose a different username.");if(o.message.includes("email"))throw new Error("Email already registered. Please use a different email or sign in.")}throw new Error(`Failed to create user profile: ${o.message}`)}return console.log("User profile created successfully:",i),{user:i,authUser:r.user}}catch(r){throw console.error("Sign up error:",r),r}},ov=async(t,e)=>{var n;const r=Nr();try{console.log("Attempting sign in for:",t);const{data:s,error:i}=await r.auth.signInWithPassword({email:t,password:e});if(i)throw console.error("Auth sign in error:",i),i.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):i.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link to activate your account before signing in."):i;if(!s.user)throw new Error("Failed to sign in");console.log("Auth sign in successful, fetching profile for:",s.user.id);const{data:o,error:a}=await r.from("users").select("*").eq("id",s.user.id).maybeSingle();if(a)throw console.error("Profile fetch error:",a),new Error("Failed to fetch user profile");if(!o){console.error("No profile found for user:",s.user.id),console.log("Creating missing profile for existing user");try{const l={id:s.user.id,email:s.user.email,name:((n=s.user.user_metadata)==null?void 0:n.name)||s.user.email.split("@")[0],username:s.user.email.split("@")[0].replace(/[^a-z0-9_]/g,"")+"_"+Date.now().toString().slice(-4)},{data:c,error:d}=await r.from("users").insert(l).select().single();if(d)throw console.error("Failed to create missing profile:",d),await r.auth.signOut(),new Error("User profile not found and could not be created. Please contact support.");return console.log("Created missing profile:",c),{user:c,authUser:s.user}}catch(l){throw console.error("Error creating missing profile:",l),await r.auth.signOut(),new Error("User profile not found. Please contact support or try creating a new account.")}}return console.log("Sign in successful with profile:",o.email),{user:o,authUser:s.user}}catch(s){throw console.error("Sign in error:",s),s}},av=async()=>{const t=Nr();try{const{error:e}=await t.auth.signOut();if(e)throw e}catch(e){throw console.error("Sign out error:",e),e}},lv=async()=>{var t;if(!Mt)return console.info("Supabase not configured, no user session available"),null;try{const{data:{user:e},error:r}=await Mt.auth.getUser();if(r)return r.message==="Auth session missing!"?(console.info("No active Supabase session found"),null):(console.error("Auth error:",r),null);if(!e)return console.info("No authenticated user found"),null;console.log("Found authenticated user, fetching profile:",e.id);const{data:n,error:s}=await Mt.from("users").select("*").eq("id",e.id).maybeSingle();if(s)return console.error("Profile fetch error:",s),null;if(!n){console.warn("No profile found for authenticated user:",e.id);try{console.log("Attempting to create missing profile for existing auth user");const i={id:e.id,email:e.email,name:((t=e.user_metadata)==null?void 0:t.name)||e.email.split("@")[0],username:e.email.split("@")[0].replace(/[^a-z0-9_]/g,"")+"_"+Date.now().toString().slice(-4)},{data:o,error:a}=await Mt.from("users").insert(i).select().single();return a?(console.error("Failed to create missing profile:",a),await Mt.auth.signOut(),null):(console.log("Successfully created missing profile:",o),{user:o,authUser:e})}catch(i){return console.error("Error creating missing profile:",i),await Mt.auth.signOut(),null}}return console.log("Successfully retrieved user profile:",n.email),{user:n,authUser:e}}catch(e){return console.error("Get current user error:",e),null}},uv=async(t,e)=>{const r=Nr();try{const{data:n,error:s}=await r.from("users").select("credits").eq("id",t).single();if(s)throw s;const i=n.credits-e,{data:o,error:a}=await r.from("users").update({credits:i}).eq("id",t).select("credits").single();if(a)throw a;return o.credits}catch(n){throw console.error("Deduct credits error:",n),n}},cv=async t=>{const e=Nr();try{const{data:r,error:n}=await e.from("image_generations").insert(t).select().single();if(n)throw n;return r}catch(r){throw console.error("Save image generation error:",r),r}},Rf=async()=>{const t=Nr();try{const{data:e,error:r}=await t.from("users").select("*").order("created_at",{ascending:!1});if(r)throw r;return e}catch(e){throw console.error("Get all users error:",e),e}},zf=async(t,e)=>{const r=Nr();try{const{data:n,error:s}=await r.from("users").update({credits:e}).eq("id",t).select().single();if(s)throw s;return n}catch(n){throw console.error("Update user credits error:",n),n}},Lf=async()=>{const t=Nr();try{const{data:e,error:r}=await t.from("image_generations").select(`
        *,
        users (
          name,
          email,
          username
        )
      `).order("created_at",{ascending:!1});if(r)throw r;return e}catch(e){throw console.error("Get all image generations error:",e),e}},Wt=Object.freeze(Object.defineProperty({__proto__:null,deductCredits:uv,getAllImageGenerations:Lf,getAllUsers:Rf,getCurrentUser:lv,isSupabaseConfigured:et,saveImageGeneration:cv,signIn:ov,signOut:av,signUp:iv,supabase:Mt,updateUserCredits:zf},Symbol.toStringTag,{value:"Module"})),dv=({isOpen:t,onClose:e,currentUser:r})=>{const[n,s]=ee.useState([]),[i,o]=ee.useState([]),[a,l]=ee.useState("users"),[c,d]=ee.useState(""),[h,y]=ee.useState(!1),[g,x]=ee.useState(null),[p,_]=ee.useState("");ee.useEffect(()=>{t&&f()},[t]);const f=async()=>{y(!0);try{const[k,C]=await Promise.all([Rf(),Lf()]);s(k),o(C)}catch(k){console.error("Error loading admin data:",k)}y(!1)},m=async(k,C)=>{try{await zf(k,C),s(I=>I.map(T=>T.id===k?{...T,credits:C}:T)),x(null),_("")}catch(I){console.error("Error updating credits:",I)}},w=n.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.email.toLowerCase().includes(c.toLowerCase())||k.user_id.toLowerCase().includes(c.toLowerCase())),S=i.filter(k=>{var C,I,T,R;return((C=k.users)==null?void 0:C.name.toLowerCase().includes(c.toLowerCase()))||((I=k.users)==null?void 0:I.email.toLowerCase().includes(c.toLowerCase()))||((T=k.title)==null?void 0:T.toLowerCase().includes(c.toLowerCase()))||((R=k.content)==null?void 0:R.toLowerCase().includes(c.toLowerCase()))});return t?u.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white relative flex-shrink-0",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(br,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 mr-4",children:u.jsx(gc,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Admin Panel"}),u.jsx("p",{className:"text-purple-100",children:"Manage users and monitor system activity"})]})]})]}),u.jsx("div",{className:"bg-gray-50 border-b border-gray-200 flex-shrink-0",children:u.jsxs("div",{className:"flex",children:[u.jsxs("button",{onClick:()=>l("users"),className:`px-6 py-4 font-medium text-sm transition-colors ${a==="users"?"text-purple-600 border-b-2 border-purple-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(gc,{className:"w-4 h-4 mr-2 inline"}),"Users (",n.length,")"]}),u.jsxs("button",{onClick:()=>l("images"),className:`px-6 py-4 font-medium text-sm transition-colors ${a==="images"?"text-purple-600 border-b-2 border-purple-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(xr,{className:"w-4 h-4 mr-2 inline"}),"Image Generations (",i.length,")"]})]})}),u.jsx("div",{className:"p-4 border-b border-gray-200 flex-shrink-0",children:u.jsxs("div",{className:"relative",children:[u.jsx(Sm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",value:c,onChange:k=>d(k.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:a==="users"?"Search users...":"Search image generations..."})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):a==="users"?u.jsx("div",{className:"space-y-4",children:w.map(k=>u.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:k.name}),k.is_admin&&u.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Admin"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[u.jsxs("div",{children:["Email: ",k.email]}),u.jsxs("div",{children:["User ID: ",k.user_id]}),k.brand_name&&u.jsxs("div",{children:["Brand: ",k.brand_name]}),k.website_url&&u.jsxs("div",{children:["Website: ",k.website_url]}),u.jsxs("div",{children:["Joined: ",new Date(k.created_at).toLocaleDateString()]})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:k.credits}),u.jsx("div",{className:"text-xs text-gray-500",children:"Credits"})]}),u.jsxs("button",{onClick:()=>x(k),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[u.jsx(Va,{className:"w-4 h-4 mr-2 inline"}),"Manage Credits"]})]})]})},k.id))}):u.jsx("div",{className:"space-y-4",children:S.map(k=>{var C,I;return u.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx("img",{src:`data:image/png;base64,${k.image_data}`,alt:k.title||"Generated image",className:"w-20 h-20 object-cover rounded-lg border border-gray-200"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:k.title||`${k.image_type} Image`}),u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.image_type==="blog"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:k.image_type})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-2",children:[u.jsxs("div",{children:["User: ",(C=k.users)==null?void 0:C.name," (",(I=k.users)==null?void 0:I.email,")"]}),u.jsxs("div",{children:["Credits Used: ",k.credits_used]}),u.jsxs("div",{children:["Created: ",new Date(k.created_at).toLocaleDateString()]}),k.style&&u.jsxs("div",{children:["Style: ",k.style]}),k.colour&&u.jsxs("div",{children:["Colour: ",k.colour]})]}),k.content&&u.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:k.content})]}),u.jsx("button",{onClick:()=>{const T=document.createElement("a");T.href=`data:image/png;base64,${k.image_data}`,T.download=`${k.title||"image"}-${k.id}.png`,T.click()},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:u.jsx(yr,{className:"w-4 h-4"})})]})},k.id)})})})]}),g&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-60 flex items-center justify-center p-4",children:u.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Manage Credits for ",g.name]}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"text-3xl font-bold text-purple-600",children:g.credits}),u.jsx("div",{className:"text-sm text-gray-500",children:"Current Credits"})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set New Credit Amount"}),u.jsx("input",{type:"number",value:p,onChange:k=>_(k.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter new credit amount"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>{const k=parseInt(p);!isNaN(k)&&k>=0&&m(g.id,k)},disabled:!p||isNaN(parseInt(p)),className:"flex-1 py-2 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Update Credits"}),u.jsx("button",{onClick:()=>{x(null),_("")},className:"flex-1 py-2 px-4 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})})})]}):null},oi="seo_engine_image_history",hv=50,$f=()=>{const[t,e]=ee.useState([]);ee.useEffect(()=>{r()},[]);const r=ee.useCallback(()=>{try{const l=localStorage.getItem(oi);if(console.log("Loading history from localStorage:",l),l){const c=JSON.parse(l);if(console.log("Parsed history:",c),Array.isArray(c)){const d=c.filter(h=>h&&typeof h=="object"&&h.id&&h.base64&&h.type&&h.timestamp);console.log("Valid history items:",d.length),e(d)}else console.log("Invalid history format, resetting"),e([])}}catch(l){console.error("Error loading image history:",l),e([]),localStorage.removeItem(oi)}},[]),n=ee.useCallback(l=>{try{console.log("Saving history to localStorage:",l.length,"items"),localStorage.setItem(oi,JSON.stringify(l))}catch(c){console.error("Error saving image history:",c)}},[]),s=ee.useCallback(l=>(console.log("Adding to history:",{id:l.id,type:l.type,title:l.title,hasBase64:!!l.base64,timestamp:l.timestamp}),!l.id||!l.base64||!l.type||!l.timestamp?(console.error("Invalid image object:",l),l):(e(c=>{if(c.some(g=>g.id===l.id))return console.log("Image already exists in history"),c;const y=[l,...c].slice(0,hv);return console.log("Updated history length:",y.length),n(y),y}),l)),[n]),i=ee.useCallback(l=>{console.log("Removing image from history:",l),e(c=>{const d=c.filter(h=>h.id!==l);return console.log("History after removal:",d.length,"items"),n(d),d})},[n]),o=ee.useCallback(()=>{console.log("Clearing all history"),e([]),localStorage.removeItem(oi)},[]),a=ee.useCallback(l=>t.find(c=>c.id===l),[t]);return console.log("Current history state:",{length:t.length,items:t.map(l=>({id:l.id,type:l.type,title:l.title}))}),{history:t,addToHistory:s,removeImage:i,clearHistory:o,getImageById:a,forceRefresh:r}},fv=({isOpen:t,onClose:e})=>{const{history:r,clearHistory:n,removeImage:s,forceRefresh:i}=$f();ee.useEffect(()=>{t&&(console.log("History sidebar opened, forcing refresh"),i())},[t,i]);const o=l=>{var c;try{const d=atob(l.base64),h=new Array(d.length);for(let m=0;m<d.length;m++)h[m]=d.charCodeAt(m);const y=new Uint8Array(h),g=new Blob([y],{type:"image/png"}),x=URL.createObjectURL(g),p=document.createElement("a");p.href=x;const f=(l.title||((c=l.content)==null?void 0:c.substring(0,30))||"image").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/\s+/g,"-").toLowerCase();p.download=`seo-engine-${l.type}-${f}-${Date.now()}.png`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(x)}catch(d){console.error("Download error:",d)}},a=l=>{try{return new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}};return u.jsxs(u.Fragment,{children:[t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:e}),u.jsx("div",{className:`fixed inset-y-0 right-0 w-96 bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out
          ${t?"translate-x-0":"translate-x-full"}`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-50 to-indigo-50",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 mr-3",children:u.jsx(tf,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Image History"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[r.length," images generated"]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:i,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",title:"Refresh History",children:u.jsx(Hr,{className:"w-4 h-4"})}),u.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(br,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r.length===0?u.jsxs("div",{className:"text-center text-gray-500 py-12",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center mx-auto mb-4",children:u.jsx(xr,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Images Yet"}),u.jsx("p",{className:"text-sm",children:"Start creating to see your history here!"})]}):r.map(l=>{var c;return u.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("img",{src:`data:image/png;base64,${l.base64}`,alt:l.title||l.content,className:"w-16 h-16 object-cover rounded-lg border border-gray-200 shadow-sm"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate mb-1",children:l.title||((c=l.content)==null?void 0:c.substring(0,40))+"..."}),u.jsx("div",{className:"flex items-center space-x-2 mb-1",children:u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${l.type==="blog"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:l.type==="blog"?"Blog Image":"Infographic"})}),u.jsx("p",{className:"text-xs text-gray-500",children:a(l.timestamp)}),(l.style||l.colour)&&u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.style&&u.jsx("span",{className:"text-xs text-gray-400 bg-gray-200 px-2 py-1 rounded",children:l.style}),l.colour&&u.jsx("span",{className:"text-xs text-gray-400 bg-gray-200 px-2 py-1 rounded",children:l.colour})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>o(l),className:"flex items-center px-3 py-2 text-sm font-medium text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download Image",children:[u.jsx(yr,{className:"w-4 h-4 mr-1"}),"Download"]}),u.jsxs("button",{onClick:()=>s(l.id),className:"flex items-center px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove from History",children:[u.jsx(qa,{className:"w-4 h-4 mr-1"}),"Remove"]})]})]},l.id)})}),r.length>0&&u.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:u.jsxs("button",{onClick:()=>{confirm("Are you sure you want to clear all history? This action cannot be undone.")&&n()},className:"w-full py-3 px-4 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors flex items-center justify-center font-medium",children:[u.jsx(qa,{className:"w-4 h-4 mr-2"}),"Clear All History"]})})]})})]})};function ai(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Df={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,s,i){function o(c,d){if(!s[c]){if(!n[c]){var h=typeof ai=="function"&&ai;if(!d&&h)return h(c,!0);if(a)return a(c,!0);var y=new Error("Cannot find module '"+c+"'");throw y.code="MODULE_NOT_FOUND",y}var g=s[c]={exports:{}};n[c][0].call(g.exports,function(x){var p=n[c][1][x];return o(p||x)},g,g.exports,r,n,s,i)}return s[c].exports}for(var a=typeof ai=="function"&&ai,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(r,n,s){var i=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var c,d,h,y,g,x,p,_=[],f=0,m=l.length,w=m,S=i.getTypeOf(l)!=="string";f<l.length;)w=m-f,h=S?(c=l[f++],d=f<m?l[f++]:0,f<m?l[f++]:0):(c=l.charCodeAt(f++),d=f<m?l.charCodeAt(f++):0,f<m?l.charCodeAt(f++):0),y=c>>2,g=(3&c)<<4|d>>4,x=1<w?(15&d)<<2|h>>6:64,p=2<w?63&h:64,_.push(a.charAt(y)+a.charAt(g)+a.charAt(x)+a.charAt(p));return _.join("")},s.decode=function(l){var c,d,h,y,g,x,p=0,_=0,f="data:";if(l.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var m,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=o.uint8array?new Uint8Array(0|w):new Array(0|w);p<l.length;)c=a.indexOf(l.charAt(p++))<<2|(y=a.indexOf(l.charAt(p++)))>>4,d=(15&y)<<4|(g=a.indexOf(l.charAt(p++)))>>2,h=(3&g)<<6|(x=a.indexOf(l.charAt(p++))),m[_++]=c,g!==64&&(m[_++]=d),x!==64&&(m[_++]=h);return m}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(d,h,y,g,x){this.compressedSize=d,this.uncompressedSize=h,this.crc32=y,this.compression=g,this.compressedContent=x}c.prototype={getContentWorker:function(){var d=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,y){return d.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(y)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(c,d,h,y){var g=o,x=y+h;c^=-1;for(var p=y;p<x;p++)c=c>>>8^g[255&(c^d[p])];return-1^c}(0|l,a,a.length,0):function(c,d,h,y){var g=o,x=y+h;c^=-1;for(var p=y;p<x;p++)c=c>>>8^g[255&(c^d.charCodeAt(p))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),c=i?"uint8array":"array";function d(h,y){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=y,this.meta={}}s.magic="\b\0",a.inherits(d,l),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(y){h.push({data:y,meta:h.meta})}},s.compressWorker=function(h){return new d("Deflate",h)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(g,x){var p,_="";for(p=0;p<x;p++)_+=String.fromCharCode(255&g),g>>>=8;return _}function o(g,x,p,_,f,m){var w,S,k=g.file,C=g.compression,I=m!==c.utf8encode,T=a.transformTo("string",m(k.name)),R=a.transformTo("string",c.utf8encode(k.name)),U=k.comment,re=a.transformTo("string",m(U)),A=a.transformTo("string",c.utf8encode(U)),B=R.length!==k.name.length,b=A.length!==U.length,W="",se="",M="",V=k.dir,L=k.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};x&&!p||(Q.crc32=g.crc32,Q.compressedSize=g.compressedSize,Q.uncompressedSize=g.uncompressedSize);var j=0;x&&(j|=8),I||!B&&!b||(j|=2048);var O=0,F=0;V&&(O|=16),f==="UNIX"?(F=798,O|=function(Z,ie){var le=Z;return Z||(le=ie?16893:33204),(65535&le)<<16}(k.unixPermissions,V)):(F=20,O|=function(Z){return 63&(Z||0)}(k.dosPermissions)),w=L.getUTCHours(),w<<=6,w|=L.getUTCMinutes(),w<<=5,w|=L.getUTCSeconds()/2,S=L.getUTCFullYear()-1980,S<<=4,S|=L.getUTCMonth()+1,S<<=5,S|=L.getUTCDate(),B&&(se=i(1,1)+i(d(T),4)+R,W+="up"+i(se.length,2)+se),b&&(M=i(1,1)+i(d(re),4)+A,W+="uc"+i(M.length,2)+M);var G="";return G+=`
\0`,G+=i(j,2),G+=C.magic,G+=i(w,2),G+=i(S,2),G+=i(Q.crc32,4),G+=i(Q.compressedSize,4),G+=i(Q.uncompressedSize,4),G+=i(T.length,2),G+=i(W.length,2),{fileRecord:h.LOCAL_FILE_HEADER+G+T+W,dirRecord:h.CENTRAL_FILE_HEADER+i(F,2)+G+i(re.length,2)+"\0\0\0\0"+i(O,4)+i(_,4)+T+W+re}}var a=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),d=r("../crc32"),h=r("../signature");function y(g,x,p,_){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=p,this.encodeFileName=_,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(y,l),y.prototype.push=function(g){var x=g.meta.percent||0,p=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,l.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:p?(x+100*(p-_-1))/p:100}}))},y.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var x=this.streamFiles&&!g.file.dir;if(x){var p=o(g,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(g){this.accumulate=!1;var x=this.streamFiles&&!g.file.dir,p=o(g,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),x)this.push({data:function(_){return h.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var g=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var p=this.bytesWritten-g,_=function(f,m,w,S,k){var C=a.transformTo("string",k(S));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(f,2)+i(f,2)+i(m,4)+i(w,4)+i(C.length,2)+C}(this.dirRecords.length,p,g,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(g){this._sources.push(g);var x=this;return g.on("data",function(p){x.processChunk(p)}),g.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),g.on("error",function(p){x.error(p)}),this},y.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(g){var x=this._sources;if(!l.prototype.error.call(this,g))return!1;for(var p=0;p<x.length;p++)try{x[p].error(g)}catch{}return!0},y.prototype.lock=function(){l.prototype.lock.call(this);for(var g=this._sources,x=0;x<g.length;x++)g[x].lock()},n.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),o=r("./ZipFileWorker");s.generateWorker=function(a,l,c){var d=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(y,g){h++;var x=function(m,w){var S=m||w,k=i[S];if(!k)throw new Error(S+" is not a valid compression method !");return k}(g.options.compression,l.compression),p=g.options.compressionOptions||l.compressionOptions||{},_=g.dir,f=g.date;g._compressWorker(x,p).withStreamInfo("file",{name:y,dir:_,date:f,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(y){d.error(y)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function h(y){return new o.Promise(function(g,x){var p=y.decompressed.getContentWorker().pipe(new c);p.on("error",function(_){x(_)}).on("end",function(){p.streamInfo.crc32!==y.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}n.exports=function(y,g){var x=this;return g=i.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(y)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",y,!0,g.optimizedBinaryString,g.base64).then(function(p){var _=new l(g);return _.load(p),_}).then(function(p){var _=[o.Promise.resolve(p)],f=p.files;if(g.checkCRC32)for(var m=0;m<f.length;m++)_.push(h(f[m]));return o.Promise.all(_)}).then(function(p){for(var _=p.shift(),f=_.files,m=0;m<f.length;m++){var w=f[m],S=w.fileNameStr,k=i.resolve(w.fileNameStr);x.file(k,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:g.createFolders}),w.dir||(x.file(k).unsafeOriginalName=S)}return _.zipComment.length&&(x.comment=_.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),o=r("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function o(a,l,c){i.call(this,l),this._helper=a;var d=this;a.on("data",function(h,y){d.push(h)||d._helper.pause(),c&&c(y)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(k,C,I){var T,R=a.getTypeOf(C),U=a.extend(I||{},d);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(k=f(k)),U.createFolders&&(T=_(k))&&m.call(this,T,!0);var re=R==="string"&&U.binary===!1&&U.base64===!1;I&&I.binary!==void 0||(U.binary=!re),(C instanceof h&&C.uncompressedSize===0||U.dir||!C||C.length===0)&&(U.base64=!1,U.binary=!0,C="",U.compression="STORE",R="string");var A=null;A=C instanceof h||C instanceof l?C:x.isNode&&x.isStream(C)?new p(k,C):a.prepareContent(k,C,U.binary,U.optimizedBinaryString,U.base64);var B=new y(k,A,U);this.files[k]=B}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),d=r("./defaults"),h=r("./compressedObject"),y=r("./zipObject"),g=r("./generate"),x=r("./nodejsUtils"),p=r("./nodejs/NodejsStreamInputAdapter"),_=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var C=k.lastIndexOf("/");return 0<C?k.substring(0,C):""},f=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},m=function(k,C){return C=C!==void 0?C:d.createFolders,k=f(k),this.files[k]||i.call(this,k,null,{dir:!0,createFolders:C}),this.files[k]};function w(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var C,I,T;for(C in this.files)T=this.files[C],(I=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&k(I,T)},filter:function(k){var C=[];return this.forEach(function(I,T){k(I,T)&&C.push(T)}),C},file:function(k,C,I){if(arguments.length!==1)return k=this.root+k,i.call(this,k,C,I),this;if(w(k)){var T=k;return this.filter(function(U,re){return!re.dir&&T.test(U)})}var R=this.files[this.root+k];return R&&!R.dir?R:null},folder:function(k){if(!k)return this;if(w(k))return this.filter(function(R,U){return U.dir&&k.test(R)});var C=this.root+k,I=m.call(this,C),T=this.clone();return T.root=I.name,T},remove:function(k){k=this.root+k;var C=this.files[k];if(C||(k.slice(-1)!=="/"&&(k+="/"),C=this.files[k]),C&&!C.dir)delete this.files[k];else for(var I=this.filter(function(R,U){return U.name.slice(0,k.length)===k}),T=0;T<I.length;T++)delete this.files[I[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var C,I={};try{if((I=a.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");a.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var T=I.comment||this.comment||"";C=g.generateWorker(this,I,T)}catch(R){(C=new l("error")).error(R)}return new c(C,I.type||"string",I.mimeType)},generateAsync:function(k,C){return this.generateInternalStream(k).accumulate(C)},generateNodeStream:function(k,C){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(C)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===l&&this.data[y+1]===c&&this.data[y+2]===d&&this.data[y+3]===h)return y-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),y=this.readData(4);return l===y[0]&&c===y[1]&&d===y[2]&&h===y[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(h){var y=i.getTypeOf(h);return i.checkSupport(y),y!=="string"||o.uint8array?y==="nodebuffer"?new c(h):o.uint8array?new d(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),o=r("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),o=r("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=i.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),c=r("../support"),d=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(x,p){return new d.Promise(function(_,f){var m=[],w=x._internalType,S=x._outputType,k=x._mimeType;x.on("data",function(C,I){m.push(C),p&&p(I)}).on("error",function(C){m=[],f(C)}).on("end",function(){try{var C=function(I,T,R){switch(I){case"blob":return i.newBlob(i.transformTo("arraybuffer",T),R);case"base64":return l.encode(T);default:return i.transformTo(I,T)}}(S,function(I,T){var R,U=0,re=null,A=0;for(R=0;R<T.length;R++)A+=T[R].length;switch(I){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(re=new Uint8Array(A),R=0;R<T.length;R++)re.set(T[R],U),U+=T[R].length;return re;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+I+"'")}}(w,m),k);_(C)}catch(I){f(I)}m=[]}).resume()})}function g(x,p,_){var f=p;switch(p){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=p,this._mimeType=_,i.checkSupport(f),this._worker=x.pipe(new o(f)),x.lock()}catch(m){this._worker=new a("error"),this._worker.error(m)}}g.prototype={accumulate:function(x){return y(this,x)},on:function(x,p){var _=this;return x==="data"?this._worker.on(x,function(f){p.call(_,f.data,f.meta)}):this._worker.on(x,function(){i.delay(p,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},x)}},n.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function y(){l.call(this,"utf-8 encode")}s.utf8encode=function(g){return o.nodebuffer?a.newBufferFrom(g,"utf-8"):function(x){var p,_,f,m,w,S=x.length,k=0;for(m=0;m<S;m++)(64512&(_=x.charCodeAt(m)))==55296&&m+1<S&&(64512&(f=x.charCodeAt(m+1)))==56320&&(_=65536+(_-55296<<10)+(f-56320),m++),k+=_<128?1:_<2048?2:_<65536?3:4;for(p=o.uint8array?new Uint8Array(k):new Array(k),m=w=0;w<k;m++)(64512&(_=x.charCodeAt(m)))==55296&&m+1<S&&(64512&(f=x.charCodeAt(m+1)))==56320&&(_=65536+(_-55296<<10)+(f-56320),m++),_<128?p[w++]=_:(_<2048?p[w++]=192|_>>>6:(_<65536?p[w++]=224|_>>>12:(p[w++]=240|_>>>18,p[w++]=128|_>>>12&63),p[w++]=128|_>>>6&63),p[w++]=128|63&_);return p}(g)},s.utf8decode=function(g){return o.nodebuffer?i.transformTo("nodebuffer",g).toString("utf-8"):function(x){var p,_,f,m,w=x.length,S=new Array(2*w);for(p=_=0;p<w;)if((f=x[p++])<128)S[_++]=f;else if(4<(m=c[f]))S[_++]=65533,p+=m-1;else{for(f&=m===2?31:m===3?15:7;1<m&&p<w;)f=f<<6|63&x[p++],m--;1<m?S[_++]=65533:f<65536?S[_++]=f:(f-=65536,S[_++]=55296|f>>10&1023,S[_++]=56320|1023&f)}return S.length!==_&&(S.subarray?S=S.subarray(0,_):S.length=_),i.applyFromCharCode(S)}(g=i.transformTo(o.uint8array?"uint8array":"array",g))},i.inherits(h,l),h.prototype.processChunk=function(g){var x=i.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=x;(x=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),x.set(p,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var _=function(m,w){var S;for((w=w||m.length)>m.length&&(w=m.length),S=w-1;0<=S&&(192&m[S])==128;)S--;return S<0||S===0?w:S+c[m[S]]>w?S:w}(x),f=x;_!==x.length&&(o.uint8array?(f=x.subarray(0,_),this.leftOver=x.subarray(_,x.length)):(f=x.slice(0,_),this.leftOver=x.slice(_,x.length))),this.push({data:s.utf8decode(f),meta:g.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(y,l),y.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function c(p){return p}function d(p,_){for(var f=0;f<p.length;++f)_[f]=255&p.charCodeAt(f);return _}r("setimmediate"),s.newBlob=function(p,_){s.checkSupport("blob");try{return new Blob([p],{type:_})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(p),f.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(p,_,f){var m=[],w=0,S=p.length;if(S<=f)return String.fromCharCode.apply(null,p);for(;w<S;)_==="array"||_==="nodebuffer"?m.push(String.fromCharCode.apply(null,p.slice(w,Math.min(w+f,S)))):m.push(String.fromCharCode.apply(null,p.subarray(w,Math.min(w+f,S)))),w+=f;return m.join("")},stringifyByChar:function(p){for(var _="",f=0;f<p.length;f++)_+=String.fromCharCode(p[f]);return _},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function y(p){var _=65536,f=s.getTypeOf(p),m=!0;if(f==="uint8array"?m=h.applyCanBeUsed.uint8array:f==="nodebuffer"&&(m=h.applyCanBeUsed.nodebuffer),m)for(;1<_;)try{return h.stringifyByChunk(p,f,_)}catch{_=Math.floor(_/2)}return h.stringifyByChar(p)}function g(p,_){for(var f=0;f<p.length;f++)_[f]=p[f];return _}s.applyFromCharCode=y;var x={};x.string={string:c,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return x.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,a.allocBuffer(p.length))}},x.array={string:y,array:c,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},x.arraybuffer={string:function(p){return y(new Uint8Array(p))},array:function(p){return g(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:c,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},x.uint8array={string:y,array:function(p){return g(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:c,nodebuffer:function(p){return a.newBufferFrom(p)}},x.nodebuffer={string:y,array:function(p){return g(p,new Array(p.length))},arraybuffer:function(p){return x.nodebuffer.uint8array(p).buffer},uint8array:function(p){return g(p,new Uint8Array(p.length))},nodebuffer:c},s.transformTo=function(p,_){if(_=_||"",!p)return _;s.checkSupport(p);var f=s.getTypeOf(_);return x[f][p](_)},s.resolve=function(p){for(var _=p.split("/"),f=[],m=0;m<_.length;m++){var w=_[m];w==="."||w===""&&m!==0&&m!==_.length-1||(w===".."?f.pop():f.push(w))}return f.join("/")},s.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(p)?"nodebuffer":i.uint8array&&p instanceof Uint8Array?"uint8array":i.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(p){if(!i[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(p){var _,f,m="";for(f=0;f<(p||"").length;f++)m+="\\x"+((_=p.charCodeAt(f))<16?"0":"")+_.toString(16).toUpperCase();return m},s.delay=function(p,_,f){setImmediate(function(){p.apply(f||null,_||[])})},s.inherits=function(p,_){function f(){}f.prototype=_.prototype,p.prototype=new f},s.extend=function(){var p,_,f={};for(p=0;p<arguments.length;p++)for(_ in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],_)&&f[_]===void 0&&(f[_]=arguments[p][_]);return f},s.prepareContent=function(p,_,f,m,w){return l.Promise.resolve(_).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(k,C){var I=new FileReader;I.onload=function(T){k(T.target.result)},I.onerror=function(T){C(T.target.error)},I.readAsArrayBuffer(S)}):S}).then(function(S){var k=s.getTypeOf(S);return k?(k==="arraybuffer"?S=s.transformTo("uint8array",S):k==="string"&&(w?S=o.decode(S):f&&m!==!0&&(S=function(C){return d(C,i.uint8array?new Uint8Array(C.length):new Array(C.length))}(S))),S):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),c=r("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(y)+", expected "+o.pretty(h)+")")}},isSignature:function(h,y){var g=this.reader.index;this.reader.setIndex(h);var x=this.reader.readString(4)===y;return this.reader.setIndex(g),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),y=c.uint8array?"uint8array":"array",g=o.transformTo(y,h);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,y,g,x=this.zip64EndOfCentralSize-44;0<x;)h=this.reader.readInt(2),y=this.reader.readInt(4),g=this.reader.readData(y),this.zip64ExtensibleData[h]={id:h,length:y,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,y;for(h=0;h<this.files.length;h++)y=this.files[h],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var y=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var x=y-g;if(0<x)this.isSignature(y,a.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),d=r("./compressions"),h=r("./support");function y(g,x){this.options=g,this.loadOptions=x}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var x,p;if(g.skip(22),this.fileNameLength=g.readInt(2),p=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(_){for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)&&d[f].magic===_)return d[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,x,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var x=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(x),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var x,p,_,f=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<f;)x=g.readInt(2),p=g.readInt(2),_=g.readData(p),this.extraFields[x]={id:x,length:p,value:_};g.setIndex(f)},handleUTF8:function(){var g=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var p=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var f=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var x=i(g.value);return x.readInt(1)!==1||l(this.fileName)!==x.readInt(4)?null:c.utf8decode(x.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var x=i(g.value);return x.readInt(1)!==1||l(this.fileComment)!==x.readInt(4)?null:c.utf8decode(x.readData(g.length-5))}return null}},n.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(x,p,_){this.name=x,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=p,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),d=r("./stream/GenericWorker");i.prototype={internalStream:function(x){var p=null,_="string";try{if(!x)throw new Error("No output type specified.");var f=(_=x.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),p=this._decompressWorker();var m=!this._dataBinary;m&&!f&&(p=p.pipe(new l.Utf8EncodeWorker)),!m&&f&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(w){(p=new d("error")).error(w)}return new o(p,_,"")},async:function(x,p){return this.internalStream(x).accumulate(p)},nodeStream:function(x,p){return this.internalStream(x||"nodebuffer").toNodejsStream(p)},_compressWorker:function(x,p){if(this._data instanceof c&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(_,x,p)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<h.length;g++)i.prototype[h[g]]=y;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,d=new l(x),h=i.document.createTextNode("");d.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var p=i.document.createElement("script");p.onreadystatechange=function(){x(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},i.document.documentElement.appendChild(p)}:function(){setTimeout(x,0)};else{var y=new i.MessageChannel;y.port1.onmessage=x,o=function(){y.port2.postMessage(0)}}var g=[];function x(){var p,_;a=!0;for(var f=g.length;f;){for(_=g,g=[],p=-1;++p<f;)_[p]();f=g.length}a=!1}n.exports=function(p){g.push(p)!==1||a||o()}}).call(this,typeof qe<"u"?qe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,f!==o&&p(this,f)}function y(f,m,w){this.promise=f,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function g(f,m,w){i(function(){var S;try{S=m(w)}catch(k){return a.reject(f,k)}S===f?a.reject(f,new TypeError("Cannot resolve promise with itself")):a.resolve(f,S)})}function x(f){var m=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof m=="function")return function(){m.apply(f,arguments)}}function p(f,m){var w=!1;function S(I){w||(w=!0,a.reject(f,I))}function k(I){w||(w=!0,a.resolve(f,I))}var C=_(function(){m(k,S)});C.status==="error"&&S(C.value)}function _(f,m){var w={};try{w.value=f(m),w.status="success"}catch(S){w.status="error",w.value=S}return w}(n.exports=h).prototype.finally=function(f){if(typeof f!="function")return this;var m=this.constructor;return this.then(function(w){return m.resolve(f()).then(function(){return w})},function(w){return m.resolve(f()).then(function(){throw w})})},h.prototype.catch=function(f){return this.then(null,f)},h.prototype.then=function(f,m){if(typeof f!="function"&&this.state===c||typeof m!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==d?g(w,this.state===c?f:m,this.outcome):this.queue.push(new y(w,f,m)),w},y.prototype.callFulfilled=function(f){a.resolve(this.promise,f)},y.prototype.otherCallFulfilled=function(f){g(this.promise,this.onFulfilled,f)},y.prototype.callRejected=function(f){a.reject(this.promise,f)},y.prototype.otherCallRejected=function(f){g(this.promise,this.onRejected,f)},a.resolve=function(f,m){var w=_(x,m);if(w.status==="error")return a.reject(f,w.value);var S=w.value;if(S)p(f,S);else{f.state=c,f.outcome=m;for(var k=-1,C=f.queue.length;++k<C;)f.queue[k].callFulfilled(m)}return f},a.reject=function(f,m){f.state=l,f.outcome=m;for(var w=-1,S=f.queue.length;++w<S;)f.queue[w].callRejected(m);return f},h.resolve=function(f){return f instanceof this?f:a.resolve(new this(o),f)},h.reject=function(f){var m=new this(o);return a.reject(m,f)},h.all=function(f){var m=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,S=!1;if(!w)return this.resolve([]);for(var k=new Array(w),C=0,I=-1,T=new this(o);++I<w;)R(f[I],I);return T;function R(U,re){m.resolve(U).then(function(A){k[re]=A,++C!==w||S||(S=!0,a.resolve(T,k))},function(A){S||(S=!0,a.reject(T,A))})}},h.race=function(f){var m=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,S=!1;if(!w)return this.resolve([]);for(var k=-1,C=new this(o);++k<w;)I=f[k],m.resolve(I).then(function(T){S||(S=!0,a.resolve(C,T))},function(T){S||(S=!0,a.reject(C,T))});var I;return C}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),d=Object.prototype.toString,h=0,y=-1,g=0,x=8;function p(f){if(!(this instanceof p))return new p(f);this.options=o.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},f||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(w!==h)throw new Error(l[w]);if(m.header&&i.deflateSetHeader(this.strm,m.header),m.dictionary){var S;if(S=typeof m.dictionary=="string"?a.string2buf(m.dictionary):d.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(w=i.deflateSetDictionary(this.strm,S))!==h)throw new Error(l[w]);this._dict_set=!0}}function _(f,m){var w=new p(m);if(w.push(f,!0),w.err)throw w.msg||l[w.err];return w.result}p.prototype.push=function(f,m){var w,S,k=this.strm,C=this.options.chunkSize;if(this.ended)return!1;S=m===~~m?m:m===!0?4:0,typeof f=="string"?k.input=a.string2buf(f):d.call(f)==="[object ArrayBuffer]"?k.input=new Uint8Array(f):k.input=f,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(C),k.next_out=0,k.avail_out=C),(w=i.deflate(k,S))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(k.output,k.next_out))):this.onData(o.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&w!==1);return S===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):S!==2||(this.onEnd(h),!(k.avail_out=0))},p.prototype.onData=function(f){this.chunks.push(f)},p.prototype.onEnd=function(f){f===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},s.Deflate=p,s.deflate=_,s.deflateRaw=function(f,m){return(m=m||{}).raw=!0,_(f,m)},s.gzip=function(f,m){return(m=m||{}).gzip=!0,_(f,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),d=r("./zlib/zstream"),h=r("./zlib/gzheader"),y=Object.prototype.toString;function g(p){if(!(this instanceof g))return new g(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||p&&p.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var f=i.inflateInit2(this.strm,_.windowBits);if(f!==l.Z_OK)throw new Error(c[f]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function x(p,_){var f=new g(_);if(f.push(p,!0),f.err)throw f.msg||c[f.err];return f.result}g.prototype.push=function(p,_){var f,m,w,S,k,C,I=this.strm,T=this.options.chunkSize,R=this.options.dictionary,U=!1;if(this.ended)return!1;m=_===~~_?_:_===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?I.input=a.binstring2buf(p):y.call(p)==="[object ArrayBuffer]"?I.input=new Uint8Array(p):I.input=p,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new o.Buf8(T),I.next_out=0,I.avail_out=T),(f=i.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(C=typeof R=="string"?a.string2buf(R):y.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,f=i.inflateSetDictionary(this.strm,C)),f===l.Z_BUF_ERROR&&U===!0&&(f=l.Z_OK,U=!1),f!==l.Z_STREAM_END&&f!==l.Z_OK)return this.onEnd(f),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&f!==l.Z_STREAM_END&&(I.avail_in!==0||m!==l.Z_FINISH&&m!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(I.output,I.next_out),S=I.next_out-w,k=a.buf2string(I.output,w),I.next_out=S,I.avail_out=T-S,S&&o.arraySet(I.output,I.output,w,S,0),this.onData(k)):this.onData(o.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(U=!0)}while((0<I.avail_in||I.avail_out===0)&&f!==l.Z_STREAM_END);return f===l.Z_STREAM_END&&(m=l.Z_FINISH),m===l.Z_FINISH?(f=i.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===l.Z_OK):m!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},g.prototype.onData=function(p){this.chunks.push(p)},g.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},s.Inflate=g,s.inflate=x,s.inflateRaw=function(p,_){return(_=_||{}).raw=!0,x(p,_)},s.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(l[h]=d[h])}}return l},s.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,d,h,y){if(c.subarray&&l.subarray)l.set(c.subarray(d,d+h),y);else for(var g=0;g<h;g++)l[y+g]=c[d+g]},flattenChunks:function(l){var c,d,h,y,g,x;for(c=h=0,d=l.length;c<d;c++)h+=l[c].length;for(x=new Uint8Array(h),c=y=0,d=l.length;c<d;c++)g=l[c],x.set(g,y),y+=g.length;return x}},a={arraySet:function(l,c,d,h,y){for(var g=0;g<h;g++)l[y+g]=c[d+g]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,y){if(y<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(h,y));for(var g="",x=0;x<y;x++)g+=String.fromCharCode(h[x]);return g}l[254]=l[254]=1,s.string2buf=function(h){var y,g,x,p,_,f=h.length,m=0;for(p=0;p<f;p++)(64512&(g=h.charCodeAt(p)))==55296&&p+1<f&&(64512&(x=h.charCodeAt(p+1)))==56320&&(g=65536+(g-55296<<10)+(x-56320),p++),m+=g<128?1:g<2048?2:g<65536?3:4;for(y=new i.Buf8(m),p=_=0;_<m;p++)(64512&(g=h.charCodeAt(p)))==55296&&p+1<f&&(64512&(x=h.charCodeAt(p+1)))==56320&&(g=65536+(g-55296<<10)+(x-56320),p++),g<128?y[_++]=g:(g<2048?y[_++]=192|g>>>6:(g<65536?y[_++]=224|g>>>12:(y[_++]=240|g>>>18,y[_++]=128|g>>>12&63),y[_++]=128|g>>>6&63),y[_++]=128|63&g);return y},s.buf2binstring=function(h){return d(h,h.length)},s.binstring2buf=function(h){for(var y=new i.Buf8(h.length),g=0,x=y.length;g<x;g++)y[g]=h.charCodeAt(g);return y},s.buf2string=function(h,y){var g,x,p,_,f=y||h.length,m=new Array(2*f);for(g=x=0;g<f;)if((p=h[g++])<128)m[x++]=p;else if(4<(_=l[p]))m[x++]=65533,g+=_-1;else{for(p&=_===2?31:_===3?15:7;1<_&&g<f;)p=p<<6|63&h[g++],_--;1<_?m[x++]=65533:p<65536?m[x++]=p:(p-=65536,m[x++]=55296|p>>10&1023,m[x++]=56320|1023&p)}return d(m,x)},s.utf8border=function(h,y){var g;for((y=y||h.length)>h.length&&(y=h.length),g=y-1;0<=g&&(192&h[g])==128;)g--;return g<0||g===0?y:g+l[h[g]]>y?g:y}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,o,a,l){for(var c=65535&i|0,d=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;d=d+(c=c+o[l++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,c){var d=i,h=c+l;o^=-1;for(var y=c;y<h;y++)o=o>>>8^d[255&(o^a[y])];return-1^o}},{}],46:[function(r,n,s){var i,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),c=r("./crc32"),d=r("./messages"),h=0,y=4,g=0,x=-2,p=-1,_=4,f=2,m=8,w=9,S=286,k=30,C=19,I=2*S+1,T=15,R=3,U=258,re=U+R+1,A=42,B=113,b=1,W=2,se=3,M=4;function V(v,D){return v.msg=d[D],D}function L(v){return(v<<1)-(4<v?9:0)}function Q(v){for(var D=v.length;0<=--D;)v[D]=0}function j(v){var D=v.state,$=D.pending;$>v.avail_out&&($=v.avail_out),$!==0&&(o.arraySet(v.output,D.pending_buf,D.pending_out,$,v.next_out),v.next_out+=$,D.pending_out+=$,v.total_out+=$,v.avail_out-=$,D.pending-=$,D.pending===0&&(D.pending_out=0))}function O(v,D){a._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,D),v.block_start=v.strstart,j(v.strm)}function F(v,D){v.pending_buf[v.pending++]=D}function G(v,D){v.pending_buf[v.pending++]=D>>>8&255,v.pending_buf[v.pending++]=255&D}function Z(v,D){var $,E,N=v.max_chain_length,P=v.strstart,H=v.prev_length,q=v.nice_match,z=v.strstart>v.w_size-re?v.strstart-(v.w_size-re):0,J=v.window,Y=v.w_mask,K=v.prev,ae=v.strstart+U,ge=J[P+H-1],ue=J[P+H];v.prev_length>=v.good_match&&(N>>=2),q>v.lookahead&&(q=v.lookahead);do if(J[($=D)+H]===ue&&J[$+H-1]===ge&&J[$]===J[P]&&J[++$]===J[P+1]){P+=2,$++;do;while(J[++P]===J[++$]&&J[++P]===J[++$]&&J[++P]===J[++$]&&J[++P]===J[++$]&&J[++P]===J[++$]&&J[++P]===J[++$]&&J[++P]===J[++$]&&J[++P]===J[++$]&&P<ae);if(E=U-(ae-P),P=ae-U,H<E){if(v.match_start=D,q<=(H=E))break;ge=J[P+H-1],ue=J[P+H]}}while((D=K[D&Y])>z&&--N!=0);return H<=v.lookahead?H:v.lookahead}function ie(v){var D,$,E,N,P,H,q,z,J,Y,K=v.w_size;do{if(N=v.window_size-v.lookahead-v.strstart,v.strstart>=K+(K-re)){for(o.arraySet(v.window,v.window,K,K,0),v.match_start-=K,v.strstart-=K,v.block_start-=K,D=$=v.hash_size;E=v.head[--D],v.head[D]=K<=E?E-K:0,--$;);for(D=$=K;E=v.prev[--D],v.prev[D]=K<=E?E-K:0,--$;);N+=K}if(v.strm.avail_in===0)break;if(H=v.strm,q=v.window,z=v.strstart+v.lookahead,J=N,Y=void 0,Y=H.avail_in,J<Y&&(Y=J),$=Y===0?0:(H.avail_in-=Y,o.arraySet(q,H.input,H.next_in,Y,z),H.state.wrap===1?H.adler=l(H.adler,q,Y,z):H.state.wrap===2&&(H.adler=c(H.adler,q,Y,z)),H.next_in+=Y,H.total_in+=Y,Y),v.lookahead+=$,v.lookahead+v.insert>=R)for(P=v.strstart-v.insert,v.ins_h=v.window[P],v.ins_h=(v.ins_h<<v.hash_shift^v.window[P+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[P+R-1])&v.hash_mask,v.prev[P&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=P,P++,v.insert--,!(v.lookahead+v.insert<R)););}while(v.lookahead<re&&v.strm.avail_in!==0)}function le(v,D){for(var $,E;;){if(v.lookahead<re){if(ie(v),v.lookahead<re&&D===h)return b;if(v.lookahead===0)break}if($=0,v.lookahead>=R&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+R-1])&v.hash_mask,$=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),$!==0&&v.strstart-$<=v.w_size-re&&(v.match_length=Z(v,$)),v.match_length>=R)if(E=a._tr_tally(v,v.strstart-v.match_start,v.match_length-R),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=R){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+R-1])&v.hash_mask,$=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else E=a._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(E&&(O(v,!1),v.strm.avail_out===0))return b}return v.insert=v.strstart<R-1?v.strstart:R-1,D===y?(O(v,!0),v.strm.avail_out===0?se:M):v.last_lit&&(O(v,!1),v.strm.avail_out===0)?b:W}function ne(v,D){for(var $,E,N;;){if(v.lookahead<re){if(ie(v),v.lookahead<re&&D===h)return b;if(v.lookahead===0)break}if($=0,v.lookahead>=R&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+R-1])&v.hash_mask,$=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=R-1,$!==0&&v.prev_length<v.max_lazy_match&&v.strstart-$<=v.w_size-re&&(v.match_length=Z(v,$),v.match_length<=5&&(v.strategy===1||v.match_length===R&&4096<v.strstart-v.match_start)&&(v.match_length=R-1)),v.prev_length>=R&&v.match_length<=v.prev_length){for(N=v.strstart+v.lookahead-R,E=a._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-R),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=N&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+R-1])&v.hash_mask,$=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=R-1,v.strstart++,E&&(O(v,!1),v.strm.avail_out===0))return b}else if(v.match_available){if((E=a._tr_tally(v,0,v.window[v.strstart-1]))&&O(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return b}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(E=a._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<R-1?v.strstart:R-1,D===y?(O(v,!0),v.strm.avail_out===0?se:M):v.last_lit&&(O(v,!1),v.strm.avail_out===0)?b:W}function oe(v,D,$,E,N){this.good_length=v,this.max_lazy=D,this.nice_length=$,this.max_chain=E,this.func=N}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*I),this.dyn_dtree=new o.Buf16(2*(2*k+1)),this.bl_tree=new o.Buf16(2*(2*C+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(T+1),this.heap=new o.Buf16(2*S+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(v){var D;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=f,(D=v.state).pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?A:B,v.adler=D.wrap===2?0:1,D.last_flush=h,a._tr_init(D),g):V(v,x)}function Re(v){var D=de(v);return D===g&&function($){$.window_size=2*$.w_size,Q($.head),$.max_lazy_match=i[$.level].max_lazy,$.good_match=i[$.level].good_length,$.nice_match=i[$.level].nice_length,$.max_chain_length=i[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=R-1,$.match_available=0,$.ins_h=0}(v.state),D}function ve(v,D,$,E,N,P){if(!v)return x;var H=1;if(D===p&&(D=6),E<0?(H=0,E=-E):15<E&&(H=2,E-=16),N<1||w<N||$!==m||E<8||15<E||D<0||9<D||P<0||_<P)return V(v,x);E===8&&(E=9);var q=new ce;return(v.state=q).strm=v,q.wrap=H,q.gzhead=null,q.w_bits=E,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=N+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+R-1)/R),q.window=new o.Buf8(2*q.w_size),q.head=new o.Buf16(q.hash_size),q.prev=new o.Buf16(q.w_size),q.lit_bufsize=1<<N+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new o.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=D,q.strategy=P,q.method=$,Re(v)}i=[new oe(0,0,0,0,function(v,D){var $=65535;for($>v.pending_buf_size-5&&($=v.pending_buf_size-5);;){if(v.lookahead<=1){if(ie(v),v.lookahead===0&&D===h)return b;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var E=v.block_start+$;if((v.strstart===0||v.strstart>=E)&&(v.lookahead=v.strstart-E,v.strstart=E,O(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-re&&(O(v,!1),v.strm.avail_out===0))return b}return v.insert=0,D===y?(O(v,!0),v.strm.avail_out===0?se:M):(v.strstart>v.block_start&&(O(v,!1),v.strm.avail_out),b)}),new oe(4,4,8,4,le),new oe(4,5,16,8,le),new oe(4,6,32,32,le),new oe(4,4,16,16,ne),new oe(8,16,32,32,ne),new oe(8,16,128,128,ne),new oe(8,32,128,256,ne),new oe(32,128,258,1024,ne),new oe(32,258,258,4096,ne)],s.deflateInit=function(v,D){return ve(v,D,m,15,8,0)},s.deflateInit2=ve,s.deflateReset=Re,s.deflateResetKeep=de,s.deflateSetHeader=function(v,D){return v&&v.state?v.state.wrap!==2?x:(v.state.gzhead=D,g):x},s.deflate=function(v,D){var $,E,N,P;if(!v||!v.state||5<D||D<0)return v?V(v,x):x;if(E=v.state,!v.output||!v.input&&v.avail_in!==0||E.status===666&&D!==y)return V(v,v.avail_out===0?-5:x);if(E.strm=v,$=E.last_flush,E.last_flush=D,E.status===A)if(E.wrap===2)v.adler=0,F(E,31),F(E,139),F(E,8),E.gzhead?(F(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),F(E,255&E.gzhead.time),F(E,E.gzhead.time>>8&255),F(E,E.gzhead.time>>16&255),F(E,E.gzhead.time>>24&255),F(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),F(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(F(E,255&E.gzhead.extra.length),F(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(v.adler=c(v.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(F(E,0),F(E,0),F(E,0),F(E,0),F(E,0),F(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),F(E,3),E.status=B);else{var H=m+(E.w_bits-8<<4)<<8;H|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(H|=32),H+=31-H%31,E.status=B,G(E,H),E.strstart!==0&&(G(E,v.adler>>>16),G(E,65535&v.adler)),v.adler=1}if(E.status===69)if(E.gzhead.extra){for(N=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>N&&(v.adler=c(v.adler,E.pending_buf,E.pending-N,N)),j(v),N=E.pending,E.pending!==E.pending_buf_size));)F(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>N&&(v.adler=c(v.adler,E.pending_buf,E.pending-N,N)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){N=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>N&&(v.adler=c(v.adler,E.pending_buf,E.pending-N,N)),j(v),N=E.pending,E.pending===E.pending_buf_size)){P=1;break}P=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,F(E,P)}while(P!==0);E.gzhead.hcrc&&E.pending>N&&(v.adler=c(v.adler,E.pending_buf,E.pending-N,N)),P===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){N=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>N&&(v.adler=c(v.adler,E.pending_buf,E.pending-N,N)),j(v),N=E.pending,E.pending===E.pending_buf_size)){P=1;break}P=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,F(E,P)}while(P!==0);E.gzhead.hcrc&&E.pending>N&&(v.adler=c(v.adler,E.pending_buf,E.pending-N,N)),P===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&j(v),E.pending+2<=E.pending_buf_size&&(F(E,255&v.adler),F(E,v.adler>>8&255),v.adler=0,E.status=B)):E.status=B),E.pending!==0){if(j(v),v.avail_out===0)return E.last_flush=-1,g}else if(v.avail_in===0&&L(D)<=L($)&&D!==y)return V(v,-5);if(E.status===666&&v.avail_in!==0)return V(v,-5);if(v.avail_in!==0||E.lookahead!==0||D!==h&&E.status!==666){var q=E.strategy===2?function(z,J){for(var Y;;){if(z.lookahead===0&&(ie(z),z.lookahead===0)){if(J===h)return b;break}if(z.match_length=0,Y=a._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,Y&&(O(z,!1),z.strm.avail_out===0))return b}return z.insert=0,J===y?(O(z,!0),z.strm.avail_out===0?se:M):z.last_lit&&(O(z,!1),z.strm.avail_out===0)?b:W}(E,D):E.strategy===3?function(z,J){for(var Y,K,ae,ge,ue=z.window;;){if(z.lookahead<=U){if(ie(z),z.lookahead<=U&&J===h)return b;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=R&&0<z.strstart&&(K=ue[ae=z.strstart-1])===ue[++ae]&&K===ue[++ae]&&K===ue[++ae]){ge=z.strstart+U;do;while(K===ue[++ae]&&K===ue[++ae]&&K===ue[++ae]&&K===ue[++ae]&&K===ue[++ae]&&K===ue[++ae]&&K===ue[++ae]&&K===ue[++ae]&&ae<ge);z.match_length=U-(ge-ae),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=R?(Y=a._tr_tally(z,1,z.match_length-R),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(Y=a._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),Y&&(O(z,!1),z.strm.avail_out===0))return b}return z.insert=0,J===y?(O(z,!0),z.strm.avail_out===0?se:M):z.last_lit&&(O(z,!1),z.strm.avail_out===0)?b:W}(E,D):i[E.level].func(E,D);if(q!==se&&q!==M||(E.status=666),q===b||q===se)return v.avail_out===0&&(E.last_flush=-1),g;if(q===W&&(D===1?a._tr_align(E):D!==5&&(a._tr_stored_block(E,0,0,!1),D===3&&(Q(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),j(v),v.avail_out===0))return E.last_flush=-1,g}return D!==y?g:E.wrap<=0?1:(E.wrap===2?(F(E,255&v.adler),F(E,v.adler>>8&255),F(E,v.adler>>16&255),F(E,v.adler>>24&255),F(E,255&v.total_in),F(E,v.total_in>>8&255),F(E,v.total_in>>16&255),F(E,v.total_in>>24&255)):(G(E,v.adler>>>16),G(E,65535&v.adler)),j(v),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?g:1)},s.deflateEnd=function(v){var D;return v&&v.state?(D=v.state.status)!==A&&D!==69&&D!==73&&D!==91&&D!==103&&D!==B&&D!==666?V(v,x):(v.state=null,D===B?V(v,-3):g):x},s.deflateSetDictionary=function(v,D){var $,E,N,P,H,q,z,J,Y=D.length;if(!v||!v.state||(P=($=v.state).wrap)===2||P===1&&$.status!==A||$.lookahead)return x;for(P===1&&(v.adler=l(v.adler,D,Y,0)),$.wrap=0,Y>=$.w_size&&(P===0&&(Q($.head),$.strstart=0,$.block_start=0,$.insert=0),J=new o.Buf8($.w_size),o.arraySet(J,D,Y-$.w_size,$.w_size,0),D=J,Y=$.w_size),H=v.avail_in,q=v.next_in,z=v.input,v.avail_in=Y,v.next_in=0,v.input=D,ie($);$.lookahead>=R;){for(E=$.strstart,N=$.lookahead-(R-1);$.ins_h=($.ins_h<<$.hash_shift^$.window[E+R-1])&$.hash_mask,$.prev[E&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=E,E++,--N;);$.strstart=E,$.lookahead=R-1,ie($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=R-1,$.match_available=0,v.next_in=q,v.input=z,v.avail_in=H,$.wrap=P,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,o){var a,l,c,d,h,y,g,x,p,_,f,m,w,S,k,C,I,T,R,U,re,A,B,b,W;a=i.state,l=i.next_in,b=i.input,c=l+(i.avail_in-5),d=i.next_out,W=i.output,h=d-(o-i.avail_out),y=d+(i.avail_out-257),g=a.dmax,x=a.wsize,p=a.whave,_=a.wnext,f=a.window,m=a.hold,w=a.bits,S=a.lencode,k=a.distcode,C=(1<<a.lenbits)-1,I=(1<<a.distbits)-1;e:do{w<15&&(m+=b[l++]<<w,w+=8,m+=b[l++]<<w,w+=8),T=S[m&C];t:for(;;){if(m>>>=R=T>>>24,w-=R,(R=T>>>16&255)===0)W[d++]=65535&T;else{if(!(16&R)){if(!(64&R)){T=S[(65535&T)+(m&(1<<R)-1)];continue t}if(32&R){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}U=65535&T,(R&=15)&&(w<R&&(m+=b[l++]<<w,w+=8),U+=m&(1<<R)-1,m>>>=R,w-=R),w<15&&(m+=b[l++]<<w,w+=8,m+=b[l++]<<w,w+=8),T=k[m&I];r:for(;;){if(m>>>=R=T>>>24,w-=R,!(16&(R=T>>>16&255))){if(!(64&R)){T=k[(65535&T)+(m&(1<<R)-1)];continue r}i.msg="invalid distance code",a.mode=30;break e}if(re=65535&T,w<(R&=15)&&(m+=b[l++]<<w,(w+=8)<R&&(m+=b[l++]<<w,w+=8)),g<(re+=m&(1<<R)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(m>>>=R,w-=R,(R=d-h)<re){if(p<(R=re-R)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(B=f,(A=0)===_){if(A+=x-R,R<U){for(U-=R;W[d++]=f[A++],--R;);A=d-re,B=W}}else if(_<R){if(A+=x+_-R,(R-=_)<U){for(U-=R;W[d++]=f[A++],--R;);if(A=0,_<U){for(U-=R=_;W[d++]=f[A++],--R;);A=d-re,B=W}}}else if(A+=_-R,R<U){for(U-=R;W[d++]=f[A++],--R;);A=d-re,B=W}for(;2<U;)W[d++]=B[A++],W[d++]=B[A++],W[d++]=B[A++],U-=3;U&&(W[d++]=B[A++],1<U&&(W[d++]=B[A++]))}else{for(A=d-re;W[d++]=W[A++],W[d++]=W[A++],W[d++]=W[A++],2<(U-=3););U&&(W[d++]=W[A++],1<U&&(W[d++]=W[A++]))}break}}break}}while(l<c&&d<y);l-=U=w>>3,m&=(1<<(w-=U<<3))-1,i.next_in=l,i.next_out=d,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=d<y?y-d+257:257-(d-y),a.hold=m,a.bits=w}},{}],49:[function(r,n,s){var i=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),d=1,h=2,y=0,g=-2,x=1,p=852,_=592;function f(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(A){var B;return A&&A.state?(B=A.state,A.total_in=A.total_out=B.total=0,A.msg="",B.wrap&&(A.adler=1&B.wrap),B.mode=x,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new i.Buf32(p),B.distcode=B.distdyn=new i.Buf32(_),B.sane=1,B.back=-1,y):g}function S(A){var B;return A&&A.state?((B=A.state).wsize=0,B.whave=0,B.wnext=0,w(A)):g}function k(A,B){var b,W;return A&&A.state?(W=A.state,B<0?(b=0,B=-B):(b=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?g:(W.window!==null&&W.wbits!==B&&(W.window=null),W.wrap=b,W.wbits=B,S(A))):g}function C(A,B){var b,W;return A?(W=new m,(A.state=W).window=null,(b=k(A,B))!==y&&(A.state=null),b):g}var I,T,R=!0;function U(A){if(R){var B;for(I=new i.Buf32(512),T=new i.Buf32(32),B=0;B<144;)A.lens[B++]=8;for(;B<256;)A.lens[B++]=9;for(;B<280;)A.lens[B++]=7;for(;B<288;)A.lens[B++]=8;for(c(d,A.lens,0,288,I,0,A.work,{bits:9}),B=0;B<32;)A.lens[B++]=5;c(h,A.lens,0,32,T,0,A.work,{bits:5}),R=!1}A.lencode=I,A.lenbits=9,A.distcode=T,A.distbits=5}function re(A,B,b,W){var se,M=A.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new i.Buf8(M.wsize)),W>=M.wsize?(i.arraySet(M.window,B,b-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(W<(se=M.wsize-M.wnext)&&(se=W),i.arraySet(M.window,B,b-W,se,M.wnext),(W-=se)?(i.arraySet(M.window,B,b-W,W,0),M.wnext=W,M.whave=M.wsize):(M.wnext+=se,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=se))),0}s.inflateReset=S,s.inflateReset2=k,s.inflateResetKeep=w,s.inflateInit=function(A){return C(A,15)},s.inflateInit2=C,s.inflate=function(A,B){var b,W,se,M,V,L,Q,j,O,F,G,Z,ie,le,ne,oe,ce,de,Re,ve,v,D,$,E,N=0,P=new i.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return g;(b=A.state).mode===12&&(b.mode=13),V=A.next_out,se=A.output,Q=A.avail_out,M=A.next_in,W=A.input,L=A.avail_in,j=b.hold,O=b.bits,F=L,G=Q,D=y;e:for(;;)switch(b.mode){case x:if(b.wrap===0){b.mode=13;break}for(;O<16;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(2&b.wrap&&j===35615){P[b.check=0]=255&j,P[1]=j>>>8&255,b.check=a(b.check,P,2,0),O=j=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&j)<<8)+(j>>8))%31){A.msg="incorrect header check",b.mode=30;break}if((15&j)!=8){A.msg="unknown compression method",b.mode=30;break}if(O-=4,v=8+(15&(j>>>=4)),b.wbits===0)b.wbits=v;else if(v>b.wbits){A.msg="invalid window size",b.mode=30;break}b.dmax=1<<v,A.adler=b.check=1,b.mode=512&j?10:12,O=j=0;break;case 2:for(;O<16;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(b.flags=j,(255&b.flags)!=8){A.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){A.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=j>>8&1),512&b.flags&&(P[0]=255&j,P[1]=j>>>8&255,b.check=a(b.check,P,2,0)),O=j=0,b.mode=3;case 3:for(;O<32;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}b.head&&(b.head.time=j),512&b.flags&&(P[0]=255&j,P[1]=j>>>8&255,P[2]=j>>>16&255,P[3]=j>>>24&255,b.check=a(b.check,P,4,0)),O=j=0,b.mode=4;case 4:for(;O<16;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}b.head&&(b.head.xflags=255&j,b.head.os=j>>8),512&b.flags&&(P[0]=255&j,P[1]=j>>>8&255,b.check=a(b.check,P,2,0)),O=j=0,b.mode=5;case 5:if(1024&b.flags){for(;O<16;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}b.length=j,b.head&&(b.head.extra_len=j),512&b.flags&&(P[0]=255&j,P[1]=j>>>8&255,b.check=a(b.check,P,2,0)),O=j=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(L<(Z=b.length)&&(Z=L),Z&&(b.head&&(v=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),i.arraySet(b.head.extra,W,M,Z,v)),512&b.flags&&(b.check=a(b.check,W,Z,M)),L-=Z,M+=Z,b.length-=Z),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(L===0)break e;for(Z=0;v=W[M+Z++],b.head&&v&&b.length<65536&&(b.head.name+=String.fromCharCode(v)),v&&Z<L;);if(512&b.flags&&(b.check=a(b.check,W,Z,M)),L-=Z,M+=Z,v)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(L===0)break e;for(Z=0;v=W[M+Z++],b.head&&v&&b.length<65536&&(b.head.comment+=String.fromCharCode(v)),v&&Z<L;);if(512&b.flags&&(b.check=a(b.check,W,Z,M)),L-=Z,M+=Z,v)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;O<16;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(j!==(65535&b.check)){A.msg="header crc mismatch",b.mode=30;break}O=j=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),A.adler=b.check=0,b.mode=12;break;case 10:for(;O<32;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}A.adler=b.check=f(j),O=j=0,b.mode=11;case 11:if(b.havedict===0)return A.next_out=V,A.avail_out=Q,A.next_in=M,A.avail_in=L,b.hold=j,b.bits=O,2;A.adler=b.check=1,b.mode=12;case 12:if(B===5||B===6)break e;case 13:if(b.last){j>>>=7&O,O-=7&O,b.mode=27;break}for(;O<3;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}switch(b.last=1&j,O-=1,3&(j>>>=1)){case 0:b.mode=14;break;case 1:if(U(b),b.mode=20,B!==6)break;j>>>=2,O-=2;break e;case 2:b.mode=17;break;case 3:A.msg="invalid block type",b.mode=30}j>>>=2,O-=2;break;case 14:for(j>>>=7&O,O-=7&O;O<32;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if((65535&j)!=(j>>>16^65535)){A.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&j,O=j=0,b.mode=15,B===6)break e;case 15:b.mode=16;case 16:if(Z=b.length){if(L<Z&&(Z=L),Q<Z&&(Z=Q),Z===0)break e;i.arraySet(se,W,M,Z,V),L-=Z,M+=Z,Q-=Z,V+=Z,b.length-=Z;break}b.mode=12;break;case 17:for(;O<14;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(b.nlen=257+(31&j),j>>>=5,O-=5,b.ndist=1+(31&j),j>>>=5,O-=5,b.ncode=4+(15&j),j>>>=4,O-=4,286<b.nlen||30<b.ndist){A.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;O<3;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}b.lens[H[b.have++]]=7&j,j>>>=3,O-=3}for(;b.have<19;)b.lens[H[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,$={bits:b.lenbits},D=c(0,b.lens,0,19,b.lencode,0,b.work,$),b.lenbits=$.bits,D){A.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;oe=(N=b.lencode[j&(1<<b.lenbits)-1])>>>16&255,ce=65535&N,!((ne=N>>>24)<=O);){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(ce<16)j>>>=ne,O-=ne,b.lens[b.have++]=ce;else{if(ce===16){for(E=ne+2;O<E;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(j>>>=ne,O-=ne,b.have===0){A.msg="invalid bit length repeat",b.mode=30;break}v=b.lens[b.have-1],Z=3+(3&j),j>>>=2,O-=2}else if(ce===17){for(E=ne+3;O<E;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}O-=ne,v=0,Z=3+(7&(j>>>=ne)),j>>>=3,O-=3}else{for(E=ne+7;O<E;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}O-=ne,v=0,Z=11+(127&(j>>>=ne)),j>>>=7,O-=7}if(b.have+Z>b.nlen+b.ndist){A.msg="invalid bit length repeat",b.mode=30;break}for(;Z--;)b.lens[b.have++]=v}}if(b.mode===30)break;if(b.lens[256]===0){A.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,$={bits:b.lenbits},D=c(d,b.lens,0,b.nlen,b.lencode,0,b.work,$),b.lenbits=$.bits,D){A.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,$={bits:b.distbits},D=c(h,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,$),b.distbits=$.bits,D){A.msg="invalid distances set",b.mode=30;break}if(b.mode=20,B===6)break e;case 20:b.mode=21;case 21:if(6<=L&&258<=Q){A.next_out=V,A.avail_out=Q,A.next_in=M,A.avail_in=L,b.hold=j,b.bits=O,l(A,G),V=A.next_out,se=A.output,Q=A.avail_out,M=A.next_in,W=A.input,L=A.avail_in,j=b.hold,O=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;oe=(N=b.lencode[j&(1<<b.lenbits)-1])>>>16&255,ce=65535&N,!((ne=N>>>24)<=O);){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(oe&&!(240&oe)){for(de=ne,Re=oe,ve=ce;oe=(N=b.lencode[ve+((j&(1<<de+Re)-1)>>de)])>>>16&255,ce=65535&N,!(de+(ne=N>>>24)<=O);){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}j>>>=de,O-=de,b.back+=de}if(j>>>=ne,O-=ne,b.back+=ne,b.length=ce,oe===0){b.mode=26;break}if(32&oe){b.back=-1,b.mode=12;break}if(64&oe){A.msg="invalid literal/length code",b.mode=30;break}b.extra=15&oe,b.mode=22;case 22:if(b.extra){for(E=b.extra;O<E;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}b.length+=j&(1<<b.extra)-1,j>>>=b.extra,O-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;oe=(N=b.distcode[j&(1<<b.distbits)-1])>>>16&255,ce=65535&N,!((ne=N>>>24)<=O);){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(!(240&oe)){for(de=ne,Re=oe,ve=ce;oe=(N=b.distcode[ve+((j&(1<<de+Re)-1)>>de)])>>>16&255,ce=65535&N,!(de+(ne=N>>>24)<=O);){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}j>>>=de,O-=de,b.back+=de}if(j>>>=ne,O-=ne,b.back+=ne,64&oe){A.msg="invalid distance code",b.mode=30;break}b.offset=ce,b.extra=15&oe,b.mode=24;case 24:if(b.extra){for(E=b.extra;O<E;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}b.offset+=j&(1<<b.extra)-1,j>>>=b.extra,O-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){A.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(Q===0)break e;if(Z=G-Q,b.offset>Z){if((Z=b.offset-Z)>b.whave&&b.sane){A.msg="invalid distance too far back",b.mode=30;break}ie=Z>b.wnext?(Z-=b.wnext,b.wsize-Z):b.wnext-Z,Z>b.length&&(Z=b.length),le=b.window}else le=se,ie=V-b.offset,Z=b.length;for(Q<Z&&(Z=Q),Q-=Z,b.length-=Z;se[V++]=le[ie++],--Z;);b.length===0&&(b.mode=21);break;case 26:if(Q===0)break e;se[V++]=b.length,Q--,b.mode=21;break;case 27:if(b.wrap){for(;O<32;){if(L===0)break e;L--,j|=W[M++]<<O,O+=8}if(G-=Q,A.total_out+=G,b.total+=G,G&&(A.adler=b.check=b.flags?a(b.check,se,G,V-G):o(b.check,se,G,V-G)),G=Q,(b.flags?j:f(j))!==b.check){A.msg="incorrect data check",b.mode=30;break}O=j=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;O<32;){if(L===0)break e;L--,j+=W[M++]<<O,O+=8}if(j!==(4294967295&b.total)){A.msg="incorrect length check",b.mode=30;break}O=j=0}b.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;case 32:default:return g}return A.next_out=V,A.avail_out=Q,A.next_in=M,A.avail_in=L,b.hold=j,b.bits=O,(b.wsize||G!==A.avail_out&&b.mode<30&&(b.mode<27||B!==4))&&re(A,A.output,A.next_out,G-A.avail_out)?(b.mode=31,-4):(F-=A.avail_in,G-=A.avail_out,A.total_in+=F,A.total_out+=G,b.total+=G,b.wrap&&G&&(A.adler=b.check=b.flags?a(b.check,se,G,A.next_out-G):o(b.check,se,G,A.next_out-G)),A.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(F==0&&G===0||B===4)&&D===y&&(D=-5),D)},s.inflateEnd=function(A){if(!A||!A.state)return g;var B=A.state;return B.window&&(B.window=null),A.state=null,y},s.inflateGetHeader=function(A,B){var b;return A&&A.state&&2&(b=A.state).wrap?((b.head=B).done=!1,y):g},s.inflateSetDictionary=function(A,B){var b,W=B.length;return A&&A.state?(b=A.state).wrap!==0&&b.mode!==11?g:b.mode===11&&o(1,B,W,0)!==b.check?-3:re(A,B,W,W)?(b.mode=31,-4):(b.havedict=1,y):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,y,g,x,p,_,f){var m,w,S,k,C,I,T,R,U,re=f.bits,A=0,B=0,b=0,W=0,se=0,M=0,V=0,L=0,Q=0,j=0,O=null,F=0,G=new i.Buf16(16),Z=new i.Buf16(16),ie=null,le=0;for(A=0;A<=15;A++)G[A]=0;for(B=0;B<g;B++)G[h[y+B]]++;for(se=re,W=15;1<=W&&G[W]===0;W--);if(W<se&&(se=W),W===0)return x[p++]=20971520,x[p++]=20971520,f.bits=1,0;for(b=1;b<W&&G[b]===0;b++);for(se<b&&(se=b),A=L=1;A<=15;A++)if(L<<=1,(L-=G[A])<0)return-1;if(0<L&&(d===0||W!==1))return-1;for(Z[1]=0,A=1;A<15;A++)Z[A+1]=Z[A]+G[A];for(B=0;B<g;B++)h[y+B]!==0&&(_[Z[h[y+B]]++]=B);if(I=d===0?(O=ie=_,19):d===1?(O=o,F-=257,ie=a,le-=257,256):(O=l,ie=c,-1),A=b,C=p,V=B=j=0,S=-1,k=(Q=1<<(M=se))-1,d===1&&852<Q||d===2&&592<Q)return 1;for(;;){for(T=A-V,U=_[B]<I?(R=0,_[B]):_[B]>I?(R=ie[le+_[B]],O[F+_[B]]):(R=96,0),m=1<<A-V,b=w=1<<M;x[C+(j>>V)+(w-=m)]=T<<24|R<<16|U|0,w!==0;);for(m=1<<A-1;j&m;)m>>=1;if(m!==0?(j&=m-1,j+=m):j=0,B++,--G[A]==0){if(A===W)break;A=h[y+_[B]]}if(se<A&&(j&k)!==S){for(V===0&&(V=se),C+=b,L=1<<(M=A-V);M+V<W&&!((L-=G[M+V])<=0);)M++,L<<=1;if(Q+=1<<M,d===1&&852<Q||d===2&&592<Q)return 1;x[S=j&k]=se<<24|M<<16|C-p|0}}return j!==0&&(x[C+j]=A-V<<24|64<<16|0),f.bits=se,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),o=0,a=1;function l(N){for(var P=N.length;0<=--P;)N[P]=0}var c=0,d=29,h=256,y=h+1+d,g=30,x=19,p=2*y+1,_=15,f=16,m=7,w=256,S=16,k=17,C=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(y+2));l(re);var A=new Array(2*g);l(A);var B=new Array(512);l(B);var b=new Array(256);l(b);var W=new Array(d);l(W);var se,M,V,L=new Array(g);function Q(N,P,H,q,z){this.static_tree=N,this.extra_bits=P,this.extra_base=H,this.elems=q,this.max_length=z,this.has_stree=N&&N.length}function j(N,P){this.dyn_tree=N,this.max_code=0,this.stat_desc=P}function O(N){return N<256?B[N]:B[256+(N>>>7)]}function F(N,P){N.pending_buf[N.pending++]=255&P,N.pending_buf[N.pending++]=P>>>8&255}function G(N,P,H){N.bi_valid>f-H?(N.bi_buf|=P<<N.bi_valid&65535,F(N,N.bi_buf),N.bi_buf=P>>f-N.bi_valid,N.bi_valid+=H-f):(N.bi_buf|=P<<N.bi_valid&65535,N.bi_valid+=H)}function Z(N,P,H){G(N,H[2*P],H[2*P+1])}function ie(N,P){for(var H=0;H|=1&N,N>>>=1,H<<=1,0<--P;);return H>>>1}function le(N,P,H){var q,z,J=new Array(_+1),Y=0;for(q=1;q<=_;q++)J[q]=Y=Y+H[q-1]<<1;for(z=0;z<=P;z++){var K=N[2*z+1];K!==0&&(N[2*z]=ie(J[K]++,K))}}function ne(N){var P;for(P=0;P<y;P++)N.dyn_ltree[2*P]=0;for(P=0;P<g;P++)N.dyn_dtree[2*P]=0;for(P=0;P<x;P++)N.bl_tree[2*P]=0;N.dyn_ltree[2*w]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function oe(N){8<N.bi_valid?F(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function ce(N,P,H,q){var z=2*P,J=2*H;return N[z]<N[J]||N[z]===N[J]&&q[P]<=q[H]}function de(N,P,H){for(var q=N.heap[H],z=H<<1;z<=N.heap_len&&(z<N.heap_len&&ce(P,N.heap[z+1],N.heap[z],N.depth)&&z++,!ce(P,q,N.heap[z],N.depth));)N.heap[H]=N.heap[z],H=z,z<<=1;N.heap[H]=q}function Re(N,P,H){var q,z,J,Y,K=0;if(N.last_lit!==0)for(;q=N.pending_buf[N.d_buf+2*K]<<8|N.pending_buf[N.d_buf+2*K+1],z=N.pending_buf[N.l_buf+K],K++,q===0?Z(N,z,P):(Z(N,(J=b[z])+h+1,P),(Y=I[J])!==0&&G(N,z-=W[J],Y),Z(N,J=O(--q),H),(Y=T[J])!==0&&G(N,q-=L[J],Y)),K<N.last_lit;);Z(N,w,P)}function ve(N,P){var H,q,z,J=P.dyn_tree,Y=P.stat_desc.static_tree,K=P.stat_desc.has_stree,ae=P.stat_desc.elems,ge=-1;for(N.heap_len=0,N.heap_max=p,H=0;H<ae;H++)J[2*H]!==0?(N.heap[++N.heap_len]=ge=H,N.depth[H]=0):J[2*H+1]=0;for(;N.heap_len<2;)J[2*(z=N.heap[++N.heap_len]=ge<2?++ge:0)]=1,N.depth[z]=0,N.opt_len--,K&&(N.static_len-=Y[2*z+1]);for(P.max_code=ge,H=N.heap_len>>1;1<=H;H--)de(N,J,H);for(z=ae;H=N.heap[1],N.heap[1]=N.heap[N.heap_len--],de(N,J,1),q=N.heap[1],N.heap[--N.heap_max]=H,N.heap[--N.heap_max]=q,J[2*z]=J[2*H]+J[2*q],N.depth[z]=(N.depth[H]>=N.depth[q]?N.depth[H]:N.depth[q])+1,J[2*H+1]=J[2*q+1]=z,N.heap[1]=z++,de(N,J,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(ue,we){var mt,_t,zn,Ie,zs,vo,$t=we.dyn_tree,ru=we.max_code,Uf=we.stat_desc.static_tree,Bf=we.stat_desc.has_stree,Ff=we.stat_desc.extra_bits,nu=we.stat_desc.extra_base,Ln=we.stat_desc.max_length,Ls=0;for(Ie=0;Ie<=_;Ie++)ue.bl_count[Ie]=0;for($t[2*ue.heap[ue.heap_max]+1]=0,mt=ue.heap_max+1;mt<p;mt++)Ln<(Ie=$t[2*$t[2*(_t=ue.heap[mt])+1]+1]+1)&&(Ie=Ln,Ls++),$t[2*_t+1]=Ie,ru<_t||(ue.bl_count[Ie]++,zs=0,nu<=_t&&(zs=Ff[_t-nu]),vo=$t[2*_t],ue.opt_len+=vo*(Ie+zs),Bf&&(ue.static_len+=vo*(Uf[2*_t+1]+zs)));if(Ls!==0){do{for(Ie=Ln-1;ue.bl_count[Ie]===0;)Ie--;ue.bl_count[Ie]--,ue.bl_count[Ie+1]+=2,ue.bl_count[Ln]--,Ls-=2}while(0<Ls);for(Ie=Ln;Ie!==0;Ie--)for(_t=ue.bl_count[Ie];_t!==0;)ru<(zn=ue.heap[--mt])||($t[2*zn+1]!==Ie&&(ue.opt_len+=(Ie-$t[2*zn+1])*$t[2*zn],$t[2*zn+1]=Ie),_t--)}}(N,P),le(J,ge,N.bl_count)}function v(N,P,H){var q,z,J=-1,Y=P[1],K=0,ae=7,ge=4;for(Y===0&&(ae=138,ge=3),P[2*(H+1)+1]=65535,q=0;q<=H;q++)z=Y,Y=P[2*(q+1)+1],++K<ae&&z===Y||(K<ge?N.bl_tree[2*z]+=K:z!==0?(z!==J&&N.bl_tree[2*z]++,N.bl_tree[2*S]++):K<=10?N.bl_tree[2*k]++:N.bl_tree[2*C]++,J=z,ge=(K=0)===Y?(ae=138,3):z===Y?(ae=6,3):(ae=7,4))}function D(N,P,H){var q,z,J=-1,Y=P[1],K=0,ae=7,ge=4;for(Y===0&&(ae=138,ge=3),q=0;q<=H;q++)if(z=Y,Y=P[2*(q+1)+1],!(++K<ae&&z===Y)){if(K<ge)for(;Z(N,z,N.bl_tree),--K!=0;);else z!==0?(z!==J&&(Z(N,z,N.bl_tree),K--),Z(N,S,N.bl_tree),G(N,K-3,2)):K<=10?(Z(N,k,N.bl_tree),G(N,K-3,3)):(Z(N,C,N.bl_tree),G(N,K-11,7));J=z,ge=(K=0)===Y?(ae=138,3):z===Y?(ae=6,3):(ae=7,4)}}l(L);var $=!1;function E(N,P,H,q){G(N,(c<<1)+(q?1:0),3),function(z,J,Y,K){oe(z),F(z,Y),F(z,~Y),i.arraySet(z.pending_buf,z.window,J,Y,z.pending),z.pending+=Y}(N,P,H)}s._tr_init=function(N){$||(function(){var P,H,q,z,J,Y=new Array(_+1);for(z=q=0;z<d-1;z++)for(W[z]=q,P=0;P<1<<I[z];P++)b[q++]=z;for(b[q-1]=z,z=J=0;z<16;z++)for(L[z]=J,P=0;P<1<<T[z];P++)B[J++]=z;for(J>>=7;z<g;z++)for(L[z]=J<<7,P=0;P<1<<T[z]-7;P++)B[256+J++]=z;for(H=0;H<=_;H++)Y[H]=0;for(P=0;P<=143;)re[2*P+1]=8,P++,Y[8]++;for(;P<=255;)re[2*P+1]=9,P++,Y[9]++;for(;P<=279;)re[2*P+1]=7,P++,Y[7]++;for(;P<=287;)re[2*P+1]=8,P++,Y[8]++;for(le(re,y+1,Y),P=0;P<g;P++)A[2*P+1]=5,A[2*P]=ie(P,5);se=new Q(re,I,h+1,y,_),M=new Q(A,T,0,g,_),V=new Q(new Array(0),R,0,x,m)}(),$=!0),N.l_desc=new j(N.dyn_ltree,se),N.d_desc=new j(N.dyn_dtree,M),N.bl_desc=new j(N.bl_tree,V),N.bi_buf=0,N.bi_valid=0,ne(N)},s._tr_stored_block=E,s._tr_flush_block=function(N,P,H,q){var z,J,Y=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(K){var ae,ge=4093624447;for(ae=0;ae<=31;ae++,ge>>>=1)if(1&ge&&K.dyn_ltree[2*ae]!==0)return o;if(K.dyn_ltree[18]!==0||K.dyn_ltree[20]!==0||K.dyn_ltree[26]!==0)return a;for(ae=32;ae<h;ae++)if(K.dyn_ltree[2*ae]!==0)return a;return o}(N)),ve(N,N.l_desc),ve(N,N.d_desc),Y=function(K){var ae;for(v(K,K.dyn_ltree,K.l_desc.max_code),v(K,K.dyn_dtree,K.d_desc.max_code),ve(K,K.bl_desc),ae=x-1;3<=ae&&K.bl_tree[2*U[ae]+1]===0;ae--);return K.opt_len+=3*(ae+1)+5+5+4,ae}(N),z=N.opt_len+3+7>>>3,(J=N.static_len+3+7>>>3)<=z&&(z=J)):z=J=H+5,H+4<=z&&P!==-1?E(N,P,H,q):N.strategy===4||J===z?(G(N,2+(q?1:0),3),Re(N,re,A)):(G(N,4+(q?1:0),3),function(K,ae,ge,ue){var we;for(G(K,ae-257,5),G(K,ge-1,5),G(K,ue-4,4),we=0;we<ue;we++)G(K,K.bl_tree[2*U[we]+1],3);D(K,K.dyn_ltree,ae-1),D(K,K.dyn_dtree,ge-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,Y+1),Re(N,N.dyn_ltree,N.dyn_dtree)),ne(N),q&&oe(N)},s._tr_tally=function(N,P,H){return N.pending_buf[N.d_buf+2*N.last_lit]=P>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&P,N.pending_buf[N.l_buf+N.last_lit]=255&H,N.last_lit++,P===0?N.dyn_ltree[2*H]++:(N.matches++,P--,N.dyn_ltree[2*(b[H]+h+1)]++,N.dyn_dtree[2*O(P)]++),N.last_lit===N.lit_bufsize-1},s._tr_align=function(N){G(N,2,3),Z(N,w,re),function(P){P.bi_valid===16?(F(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0):8<=P.bi_valid&&(P.pending_buf[P.pending++]=255&P.bi_buf,P.bi_buf>>=8,P.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(o,a){if(!o.setImmediate){var l,c,d,h,y=1,g={},x=!1,p=o.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(o);_=_&&_.setTimeout?_:o,l={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){m(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,k=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=k,S}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(S){o.postMessage(h+S,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(S){m(S.data)},function(S){d.port2.postMessage(S)}):p&&"onreadystatechange"in p.createElement("script")?(c=p.documentElement,function(S){var k=p.createElement("script");k.onreadystatechange=function(){m(S),k.onreadystatechange=null,c.removeChild(k),k=null},c.appendChild(k)}):function(S){setTimeout(m,0,S)},_.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var k=new Array(arguments.length-1),C=0;C<k.length;C++)k[C]=arguments[C+1];var I={callback:S,args:k};return g[y]=I,l(y),y++},_.clearImmediate=f}function f(S){delete g[S]}function m(S){if(x)setTimeout(m,0,S);else{var k=g[S];if(k){x=!0;try{(function(C){var I=C.callback,T=C.args;switch(T.length){case 0:I();break;case 1:I(T[0]);break;case 2:I(T[0],T[1]);break;case 3:I(T[0],T[1],T[2]);break;default:I.apply(a,T)}})(k)}finally{f(S),x=!1}}}}function w(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(h)===0&&m(+S.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof qe<"u"?qe:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Df);var pv=Df.exports;const mv=Lc(pv),gv="https://n8n.seoengine.agency/webhook/6e9e3b30-cb55-4d74-aa9d-68691983455f",Pr={blog:5,infographic:10},lt=[{text:"Understanding your request...",icon:rf,color:"text-yellow-500",bgColor:"bg-yellow-50"},{text:"Ideating creative concepts...",icon:Oe,color:"text-purple-500",bgColor:"bg-purple-50"},{text:"Dipping the digital brush...",icon:Qh,color:"text-blue-500",bgColor:"bg-blue-50"},{text:"Opening the creative canvas...",icon:nf,color:"text-green-500",bgColor:"bg-green-50"},{text:"Painting your masterpiece...",icon:xr,color:"text-pink-500",bgColor:"bg-pink-50"},{text:"Adding final touches...",icon:Vi,color:"text-orange-500",bgColor:"bg-orange-50"}],Oc=[{value:"",label:"Default"},{value:"very simple",label:"Very Simple"},{value:"minimalist",label:"Minimalist"},{value:"modern",label:"Modern"},{value:"professional",label:"Professional"},{value:"creative",label:"Creative"},{value:"elegant",label:"Elegant"},{value:"bold",label:"Bold"},{value:"vintage",label:"Vintage"},{value:"custom",label:"Custom (specify below)"}],Tc=[{value:"",label:"Default"},{value:"red",label:"Red"},{value:"blue",label:"Blue"},{value:"green",label:"Green"},{value:"purple",label:"Purple"},{value:"orange",label:"Orange"},{value:"yellow",label:"Yellow"},{value:"pink",label:"Pink"},{value:"teal",label:"Teal"},{value:"black",label:"Black"},{value:"white",label:"White"},{value:"gray",label:"Gray"},{value:"multicolor",label:"Multicolor"},{value:"custom",label:"Custom (specify below)"}],yv=({isOpen:t,onClose:e,imageType:r,onProcessingStateChange:n,onProgressUpdate:s,onImageGenerated:i,onBulkCompleted:o,user:a,onRefreshUser:l})=>{const[c,d]=ee.useState([]),[h,y]=ee.useState(!1),[g,x]=ee.useState(null),[p,_]=ee.useState(null),[f,m]=ee.useState(1);ee.useEffect(()=>{n==null||n(h)},[h,n]),ee.useEffect(()=>{const j=c.filter(F=>{var G,Z,ie;return F.type==="blog"?((G=F.data.title)==null?void 0:G.trim())&&((Z=F.data.intro)==null?void 0:Z.trim()):(ie=F.data.content)==null?void 0:ie.trim()}),O=j.filter(F=>F.status==="completed");j.length>0&&(s==null||s({completed:O.length,total:j.length}))},[c,s]);const w=()=>{const j={id:`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:r,data:r==="blog"?{title:"",intro:"",style:"",customStyle:"",colour:"",customColour:""}:{content:"",style:"",customStyle:"",colour:"",customColour:""},status:"pending"};d([...c,j])},S=j=>{d(c.filter(O=>O.id!==j))},k=(j,O)=>{d(c.map(F=>F.id===j?{...F,data:Cn(O),status:"pending"}:F))},C=(j,O="png")=>{if(j.result)try{const F=atob(j.result),G=new Array(F.length);for(let oe=0;oe<F.length;oe++)G[oe]=F.charCodeAt(oe);const Z=new Uint8Array(G),ie=document.createElement("canvas"),le=ie.getContext("2d"),ne=new Image;ne.onload=()=>{ie.width=ne.width,ie.height=ne.height,le==null||le.drawImage(ne,0,0);const oe=`image/${O}`,ce=O==="jpeg"?.9:void 0;ie.toBlob(de=>{if(de){const Re=URL.createObjectURL(de),ve=document.createElement("a");ve.href=Re;const v=j.type==="blog"?ei(j.data.title):ei(j.data.content);ve.download=`${v||`${j.type}-${Date.now()}`}.${O}`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(Re)}},oe,ce)},ne.src=`data:image/png;base64,${j.result}`}catch(F){console.error("Download error:",F)}},I=async j=>{var O,F;try{console.log("=== PROCESSING BULK ITEM ==="),console.log("Item ID:",j.id),console.log("Item type:",j.type),console.log("Item data:",j.data);for(let v=0;v<lt.length;v++)d(D=>D.map($=>$.id===j.id?{...$,processingStep:v}:$)),v<lt.length-1&&await new Promise(D=>setTimeout(D,1200));const G=j.data.style==="custom"?(O=j.data.customStyle)==null?void 0:O.trim():j.data.style,Z=j.data.colour==="custom"?(F=j.data.customColour)==null?void 0:F.trim():j.data.colour;let ie="";j.type==="blog"?ie=`Blog post title: '${j.data.title}', Content: ${j.data.intro}`:ie=j.data.content,G&&(ie+=`, Style: ${G}`),Z&&(ie+=`, Colour: ${Z}`);const le={image_type:j.type==="blog"?"Featured Image":"Infographic",image_detail:ie};console.log("Sending bulk item to webhook:",le);const ne=await fetch(gv,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)});if(!ne.ok)throw new Error(`HTTP error! status: ${ne.status}`);const oe=await ne.text();if(console.log("Bulk item response text length:",oe.length),!oe||oe.trim()==="")throw new Error("Empty response received from server");let ce;try{ce=JSON.parse(oe)}catch{const D=/^[A-Za-z0-9+/]*={0,2}$/;if(oe.length>100&&D.test(oe.trim()))ce={image:oe.trim()};else throw new Error("Invalid response format for bulk item")}let de=null;if(ce&&typeof ce=="object"){const v=["image","data","base64","imageData","image_data","output","result","response"];for(const D of v){if(ce[D]){de=ce[D];break}if(ce[D]&&typeof ce[D]=="object"&&ce[D].image){de=ce[D].image;break}}if(!de){for(const[D,$]of Object.entries(ce))if(typeof $=="string"&&$.length>100&&/^[A-Za-z0-9+/]*={0,2}$/.test($)){de=$;break}}}else typeof ce=="string"&&ce.length>100&&(de=ce);if(!de)throw new Error("No image data found in bulk response");if(de.startsWith("data:image/")&&(de=de.split(",")[1]),de.length<100)throw new Error("Received image data is too short to be valid");try{atob(de.substring(0,100))}catch{throw new Error("Received data is not valid base64 format")}if(a&&et)try{console.log("Deducting credits for bulk item:",Pr[j.type]);const{deductCredits:v}=await nt(async()=>{const{deductCredits:D}=await Promise.resolve().then(()=>Wt);return{deductCredits:D}},void 0);await v(a.id,Pr[j.type]),l==null||l()}catch(v){console.error("Error deducting credits for bulk item:",v)}if(a&&et)try{console.log("Saving bulk image generation to database");const{saveImageGeneration:v}=await nt(async()=>{const{saveImageGeneration:D}=await Promise.resolve().then(()=>Wt);return{saveImageGeneration:D}},void 0);await v({user_id:a.id,image_type:j.type,title:j.type==="blog"?j.data.title:void 0,content:j.type==="blog"?j.data.intro:j.data.content,style:G,colour:Z,credits_used:Pr[j.type],image_data:de})}catch(v){console.error("Error saving bulk item to database:",v)}const Re={...j,status:"completed",result:de,processingStep:void 0},ve={id:`img-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:j.type,base64:de,title:j.type==="blog"?j.data.title:"Infographic",content:j.type==="blog"?j.data.intro:j.data.content,timestamp:Date.now(),style:G,colour:Z};return console.log("Adding bulk image to history:",ve.id),i==null||i(ve),Re}catch(G){return console.error("Bulk item processing error:",G),{...j,status:"error",error:G instanceof Error?G.message:"Unknown error occurred",processingStep:void 0}}},T=async()=>{var G,Z,ie;const j=c.filter(le=>{var ne,oe,ce;return le.type==="blog"?((ne=le.data.title)==null?void 0:ne.trim())&&((oe=le.data.intro)==null?void 0:oe.trim()):(ce=le.data.content)==null?void 0:ce.trim()});if(j.length===0){alert("Please fill out at least one complete form before processing.");return}if(a&&et){const le=j.length*Pr[r];if(a.credits<le){alert(`Insufficient credits. You need ${le} credits to process ${j.length} ${r} images. You currently have ${a.credits} credits.`);return}}y(!0);const O=[...c];let F=0;for(let le=0;le<O.length;le++){const ne=O[le];if(ne.type==="blog"&&(!((G=ne.data.title)!=null&&G.trim())||!((Z=ne.data.intro)!=null&&Z.trim()))||ne.type==="infographic"&&!((ie=ne.data.content)!=null&&ie.trim())||ne.status!=="pending")continue;x(ne.id),O[le]={...O[le],status:"processing"},d([...O]),le>0&&await new Promise(ce=>setTimeout(ce,2e3));const oe=await I(O[le]);O[le]=oe,d([...O]),oe.status==="completed"&&F++}x(null),y(!1),console.log("Bulk processing completed:",F,"out of",j.length),o==null||o(F,j.length)},R=async()=>{const j=c.filter(ie=>ie.status==="completed"&&ie.result);if(j.length===0){alert("No completed images to download");return}const O=new mv;j.forEach((ie,le)=>{if(!ie.result)return;const ne=atob(ie.result),oe=new Array(ne.length);for(let ve=0;ve<ne.length;ve++)oe[ve]=ne.charCodeAt(ve);const ce=new Uint8Array(oe),Re=`${(ie.type==="blog"?ei(ie.data.title):ei(ie.data.content))||`${ie.type}-${le+1}`}.png`;O.file(Re,ce)});const F=await O.generateAsync({type:"blob"}),G=URL.createObjectURL(F),Z=document.createElement("a");Z.href=G,Z.download=`seo-engine-${r}-images-${Date.now()}.zip`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(G)},U=(j,O)=>{switch(j){case"pending":return u.jsx(Xh,{className:"w-4 h-4 text-gray-400"});case"processing":if(O!==void 0&&O<lt.length){const F=lt[O].icon;return u.jsx(F,{className:`w-4 h-4 animate-pulse ${lt[O].color}`})}return u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"});case"completed":return u.jsx(Ha,{className:"w-4 h-4 text-green-500"});case"error":return u.jsx(Wa,{className:"w-4 h-4 text-red-500"})}},re=()=>{m(j=>Math.min(j+.25,3))},A=()=>{m(j=>Math.max(j-.25,.25))},B=()=>{m(1)},b=(j,O)=>{if(!j.result)return;const F=j.type==="blog"?j.data.title||`Blog Post ${O+1}`:`Infographic ${O+1}`;_({base64:j.result,title:F,item:j}),m(1)},W=()=>{e()},se=c.filter(j=>j.status==="completed").length,M=c.filter(j=>j.status==="error").length,V=c.filter(j=>{var O,F,G;return j.type==="blog"?((O=j.data.title)==null?void 0:O.trim())&&((F=j.data.intro)==null?void 0:F.trim()):(G=j.data.content)==null?void 0:G.trim()}).length,L=V*Pr[r],Q=!a||!et||a.credits>=L;return t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white relative flex-shrink-0",children:[u.jsx("button",{onClick:W,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(br,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 mr-4",children:u.jsx(En,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Bulk Processing"}),u.jsxs("p",{className:"text-blue-100",children:["Generate multiple ",r," images at once"]})]})]}),a&&et&&u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-blue-100",children:"Available Credits"}),u.jsx("div",{className:"text-2xl font-bold",children:a.credits}),V>0&&u.jsxs("div",{className:"text-sm text-blue-200",children:["Need: ",L," (",Pr[r],"  ",V,")"]})]})]})]}),h&&u.jsx("div",{className:"bg-blue-50 border-b border-blue-200 p-4 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center text-blue-700",children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3"}),u.jsx("span",{className:"text-sm font-medium",children:"Bulk processing is currently running. Please wait for completion before starting another process."})]})}),a&&et&&!Q&&V>0&&u.jsx("div",{className:"bg-red-50 border-b border-red-200 p-4 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center text-red-700",children:[u.jsx(Wa,{className:"w-4 h-4 mr-3"}),u.jsxs("span",{className:"text-sm font-medium",children:["Insufficient credits. You need ",L," credits but only have ",a.credits,"."]})]})}),c.length>0&&u.jsxs("div",{className:"bg-gray-50 p-4 border-b border-gray-200 flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:"Processing Status"}),u.jsxs("div",{className:"text-sm text-gray-600",children:[se,"/",V," completed"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${h?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"}`,style:{width:V>0?`${se/V*100}%`:"0%"}})}),M>0&&u.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[M," items failed"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsxs("div",{className:"space-y-6",children:[c.length>0&&u.jsx("div",{className:"space-y-4",children:c.map((j,O)=>u.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all duration-300 ${g===j.id?"border-blue-300 bg-blue-50":j.status==="completed"?"border-green-200 bg-green-50":j.status==="error"?"border-red-200 bg-red-50":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[U(j.status,j.processingStep),u.jsxs("div",{className:"ml-3",children:[u.jsxs("span",{className:"font-semibold text-gray-900",children:[r==="blog"?"Blog Post":"Infographic"," #",O+1]}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Cost: ",Pr[r]," credits"]}),j.status==="processing"&&j.processingStep!==void 0&&u.jsxs("div",{className:`mt-2 p-3 rounded-lg ${lt[j.processingStep].bgColor} border border-opacity-20`,children:[u.jsxs("div",{className:"flex items-center",children:[qc.createElement(lt[j.processingStep].icon,{className:`w-5 h-5 mr-3 animate-pulse ${lt[j.processingStep].color}`}),u.jsxs("div",{children:[u.jsxs("p",{className:`text-sm font-medium ${lt[j.processingStep].color}`,children:["Step ",j.processingStep+1," of ",lt.length]}),u.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:lt[j.processingStep].text})]})]}),u.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1",children:u.jsx("div",{className:`h-1 rounded-full transition-all duration-1000 ${lt[j.processingStep].color.replace("text-","bg-")}`,style:{width:`${(j.processingStep+1)/lt.length*100}%`}})})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[j.status==="completed"&&j.result&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>b(j,O),className:"p-2 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview Image",children:u.jsx(Hr,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>C(j),className:"p-2 text-green-500 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",title:"Download Image",children:u.jsx(yr,{className:"w-4 h-4"})})]}),u.jsx("button",{onClick:()=>S(j.id),disabled:h,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(qa,{className:"w-4 h-4"})})]})]}),r==="blog"?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Title *"}),u.jsx("input",{type:"text",value:j.data.title||"",onChange:F=>k(j.id,{...j.data,title:F.target.value}),disabled:h,className:"w-full px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50",placeholder:"Enter blog title..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Content / Keywords *"}),u.jsx("textarea",{value:j.data.intro||"",onChange:F=>k(j.id,{...j.data,intro:F.target.value}),disabled:h,className:"w-full px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 resize-none h-24 disabled:opacity-50",placeholder:"Enter blog content, summary, or keywords..."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Style ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:j.data.style||"",onChange:F=>k(j.id,{...j.data,style:F.target.value}),disabled:h,className:"w-full px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50",children:Oc.map(F=>u.jsx("option",{value:F.value,children:F.label},F.value))}),u.jsx(lr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),j.data.style==="custom"&&u.jsx("input",{type:"text",value:j.data.customStyle||"",onChange:F=>k(j.id,{...j.data,customStyle:F.target.value}),disabled:h,className:"w-full mt-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50",placeholder:"Specify custom style..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Colour ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:j.data.colour||"",onChange:F=>k(j.id,{...j.data,colour:F.target.value}),disabled:h,className:"w-full px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50",children:Tc.map(F=>u.jsx("option",{value:F.value,children:F.label},F.value))}),u.jsx(lr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),j.data.colour==="custom"&&u.jsx("input",{type:"text",value:j.data.customColour||"",onChange:F=>k(j.id,{...j.data,customColour:F.target.value}),disabled:h,className:"w-full mt-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50",placeholder:"Specify custom colour..."})]})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content to Visualize *"}),u.jsx("textarea",{value:j.data.content||"",onChange:F=>k(j.id,{...j.data,content:F.target.value}),disabled:h,className:"w-full px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 resize-none h-32 disabled:opacity-50",placeholder:"Enter content, data points, or statistics to visualize..."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Style ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:j.data.style||"",onChange:F=>k(j.id,{...j.data,style:F.target.value}),disabled:h,className:"w-full px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50",children:Oc.map(F=>u.jsx("option",{value:F.value,children:F.label},F.value))}),u.jsx(lr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),j.data.style==="custom"&&u.jsx("input",{type:"text",value:j.data.customStyle||"",onChange:F=>k(j.id,{...j.data,customStyle:F.target.value}),disabled:h,className:"w-full mt-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 disabled:opacity-50",placeholder:"Specify custom style..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Colour ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:j.data.colour||"",onChange:F=>k(j.id,{...j.data,colour:F.target.value}),disabled:h,className:"w-full px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50",children:Tc.map(F=>u.jsx("option",{value:F.value,children:F.label},F.value))}),u.jsx(lr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),j.data.colour==="custom"&&u.jsx("input",{type:"text",value:j.data.customColour||"",onChange:F=>k(j.id,{...j.data,customColour:F.target.value}),disabled:h,className:"w-full mt-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 disabled:opacity-50",placeholder:"Specify custom colour..."})]})]})]}),j.error&&u.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-600",children:j.error})}),j.status==="completed"&&j.result&&u.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ha,{className:"w-5 h-5 text-green-500 mr-2"}),u.jsx("span",{className:"text-sm font-medium text-green-700",children:"Image generated successfully!"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>b(j,O),className:"text-xs px-3 py-1 bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",children:"Preview"}),u.jsx("button",{onClick:()=>C(j),className:"text-xs px-3 py-1 bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors",children:"Download"})]})]})})]},j.id))}),u.jsx("button",{onClick:w,disabled:h,className:"w-full py-4 px-6 rounded-xl border-2 border-dashed border-gray-300 text-gray-600 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(mc,{className:"w-5 h-5 mr-2"}),"Add ",r==="blog"?"Blog Post":"Infographic"," Item"]})}),c.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center mx-auto mb-4",children:u.jsx(En,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Get Started"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["Add your first ",r," item to begin bulk processing"]}),u.jsx("button",{onClick:w,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-300",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(mc,{className:"w-5 h-5 mr-2"}),"Add First Item"]})})]})]})}),c.length>0&&u.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200 flex-shrink-0",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("button",{onClick:T,disabled:h||V===0||!Q,className:"flex-1 py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:h?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Processing... (",se,"/",V,")"]}):u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(Nm,{className:"w-5 h-5 mr-2"}),"Process All Items (",V,")",` - ${L} Credits`]})}),u.jsx("button",{onClick:R,disabled:se===0,className:"flex-1 py-3 px-6 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(yr,{className:"w-5 h-5 mr-2"}),"Download ZIP (",se,")"]})}),u.jsx("button",{onClick:()=>d([]),disabled:h,className:"py-3 px-6 rounded-xl bg-gray-600 text-white font-semibold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:"Clear All"})]})})]})}),p&&u.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-7xl max-h-[95vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-white",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.title}),u.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:u.jsxs("span",{children:["Zoom: ",Math.round(f*100),"%"]})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:A,disabled:f<=.25,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom Out",children:u.jsx(lf,{className:"w-5 h-5"})}),u.jsx("button",{onClick:B,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset Zoom",children:u.jsx(sf,{className:"w-5 h-5"})}),u.jsx("button",{onClick:re,disabled:f>=3,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom In",children:u.jsx(Ka,{className:"w-5 h-5"})}),u.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),u.jsx("button",{onClick:()=>_(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(br,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 p-4",children:u.jsx("div",{className:"flex items-center justify-center min-h-full",children:u.jsx("img",{src:`data:image/png;base64,${p.base64}`,alt:p.title,className:"max-w-none rounded-lg shadow-lg transition-transform duration-300 cursor-move",style:{transform:`scale(${f})`,transformOrigin:"center center"},draggable:!1})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Use zoom controls to inspect details  Click and drag to pan when zoomed"}),u.jsx("button",{onClick:()=>C(p.item),className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-300",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(yr,{className:"w-4 h-4 mr-2"}),"Download"]})})]})})]})})]}):null},Rc=({isVisible:t,onClose:e,imageType:r,onDownload:n,onPreview:s,autoHide:i=!0,duration:o=5e3,isBulkCompletion:a=!1,completedCount:l=0,totalCount:c=0})=>{const[d,h]=ee.useState(!1),[y,g]=ee.useState(100);ee.useEffect(()=>{if(t&&(h(!0),g(100),i)){const _=setInterval(()=>{g(m=>{const w=m-100/(o/100);return Math.max(0,w)})},100),f=setTimeout(()=>{x()},o);return()=>{clearTimeout(f),clearInterval(_)}}},[t,i,o]);const x=()=>{h(!1),setTimeout(()=>{e()},300)};if(!t)return null;const p=l>0&&c>0;return u.jsx("div",{className:"fixed top-4 right-4 z-50",children:u.jsxs("div",{className:`bg-white rounded-xl shadow-2xl border border-gray-200 p-4 max-w-sm transform transition-all duration-300 ${d?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:[u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${p?"bg-purple-100":"bg-green-100"}`,children:p?u.jsx(En,{className:"w-6 h-6 text-purple-600"}):u.jsx(Ha,{className:"w-6 h-6 text-green-600"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:p?"Bulk Processing Complete!":"Image Generated Successfully!"}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p?`Successfully generated ${l} out of ${c} images. Check your history to view all generated images.`:`Your ${r==="blog"?"blog featured image":"infographic"} has been created and added to your history.`}),u.jsxs("div",{className:"flex items-center space-x-2",children:[s&&u.jsxs("button",{onClick:s,className:"flex items-center px-3 py-1.5 text-xs font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[u.jsx(Hr,{className:"w-3 h-3 mr-1"}),p?"View History":"Preview"]}),n&&!p&&u.jsxs("button",{onClick:n,className:"flex items-center px-3 py-1.5 text-xs font-medium text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:[u.jsx(yr,{className:"w-3 h-3 mr-1"}),"Download"]})]})]}),u.jsx("button",{onClick:x,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:u.jsx(br,{className:"w-4 h-4"})})]}),i&&u.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-1",children:u.jsx("div",{className:`h-1 rounded-full transition-all duration-100 ease-linear ${p?"bg-purple-500":"bg-green-500"}`,style:{width:`${y}%`}})})]})})},vv=()=>{const[t,e]=ee.useState({user:null,isLoading:!0,isAuthenticated:!1});return ee.useEffect(()=>{console.log("Initializing Supabase auth hook...");const l=(async()=>{try{console.log("Supabase is configured, initializing auth...");const{getCurrentUser:c,supabase:d}=await nt(async()=>{const{getCurrentUser:g,supabase:x}=await Promise.resolve().then(()=>Wt);return{getCurrentUser:g,supabase:x}},void 0);if(!d)throw new Error("Supabase client not available");const h=await c();h?(console.log("Found existing user session:",h.user.email),e({user:h.user,isLoading:!1,isAuthenticated:!0})):(console.log("No existing user session found"),e({user:null,isLoading:!1,isAuthenticated:!1}));const{data:{subscription:y}}=d.auth.onAuthStateChange(async(g,x)=>{var p;console.log("Auth state change:",g,((p=x==null?void 0:x.user)==null?void 0:p.email)||"no user");try{if(g==="SIGNED_IN"&&x){const _=await c();_&&e({user:_.user,isLoading:!1,isAuthenticated:!0})}else g==="SIGNED_OUT"&&e({user:null,isLoading:!1,isAuthenticated:!1})}catch(_){console.error("Auth state change error:",_),e(f=>({...f,isLoading:!1,error:"Authentication error occurred."}))}});return()=>{console.log("Cleaning up auth subscription"),y.unsubscribe()}}catch(c){return console.error("Auth initialization error:",c),e({user:null,isLoading:!1,isAuthenticated:!1,error:"Failed to initialize authentication. Please check your database connection."}),()=>{}}})();return()=>{l.then(c=>{c&&c()})}},[]),{...t,signUp:async a=>{try{console.log("Attempting sign up for:",a.email);const{signUp:l}=await nt(async()=>{const{signUp:d}=await Promise.resolve().then(()=>Wt);return{signUp:d}},void 0),c=await l(a);return console.log("Sign up successful:",c.user.email),e({user:c.user,isLoading:!1,isAuthenticated:!0}),!0}catch(l){console.error("Sign up error:",l);const c=l instanceof Error?l.message:"Failed to create account";throw e(d=>({...d,error:c})),l}},signIn:async(a,l)=>{try{console.log("Attempting sign in for:",a);const{signIn:c}=await nt(async()=>{const{signIn:h}=await Promise.resolve().then(()=>Wt);return{signIn:h}},void 0),d=await c(a,l);return console.log("Sign in successful:",d.user.email),e({user:d.user,isLoading:!1,isAuthenticated:!0}),{success:!0}}catch(c){console.error("Sign in error:",c);let d="Failed to sign in";return c instanceof Error&&(c.message.includes("Email not confirmed")?d="Please check your email and click the confirmation link to activate your account before signing in.":c.message.includes("Invalid login credentials")?d="Invalid email or password. Please check your credentials and try again.":d=c.message),e(h=>({...h,error:d})),{success:!1,error:d}}},signOut:async()=>{try{console.log("Signing out...");const{signOut:a}=await nt(async()=>{const{signOut:l}=await Promise.resolve().then(()=>Wt);return{signOut:l}},void 0);await a(),e({user:null,isLoading:!1,isAuthenticated:!1})}catch(a){console.error("Sign out error:",a),e({user:null,isLoading:!1,isAuthenticated:!1})}},refreshUser:async()=>{try{const{getCurrentUser:a}=await nt(async()=>{const{getCurrentUser:c}=await Promise.resolve().then(()=>Wt);return{getCurrentUser:c}},void 0),l=await a();l&&e(c=>({...c,user:l.user}))}catch(a){console.error("Refresh user error:",a)}},clearError:()=>{e(a=>({...a,error:void 0}))}}},wv=()=>{const[t,e]=ee.useState(!1),[r,n]=ee.useState(!1),[s,i]=ee.useState(null),o=ee.useCallback(()=>{e(!1),n(!1),i(null)},[]);return{isProcessing:t,isBulkProcessing:r,bulkProgress:s,setIsProcessing:e,setIsBulkProcessing:n,setBulkProgress:i,resetProcessingState:o}},zc="https://n8n.seoengine.agency/webhook/6e9e3b30-cb55-4d74-aa9d-68691983455f",Xr={blog:5,infographic:10};function xv(){const{user:t,isAuthenticated:e,isLoading:r,error:n,signUp:s,signIn:i,signOut:o,refreshUser:a,clearError:l}=vv(),{addToHistory:c,history:d}=$f(),{isProcessing:h,isBulkProcessing:y,bulkProgress:g,setIsProcessing:x,setIsBulkProcessing:p,setBulkProgress:_}=wv(),[f,m]=ee.useState(!1),[w,S]=ee.useState(!1),[k,C]=ee.useState(!1),[I,T]=ee.useState(!1),[R,U]=ee.useState(!1),[re,A]=ee.useState(!1),[B,b]=ee.useState({show:!1,completed:0,total:0}),[W,se]=ee.useState("select"),[M,V]=ee.useState(null),[L,Q]=ee.useState(null),[j,O]=ee.useState(null),[F,G]=ee.useState(null),Z=["Select Type","Provide Content","Generate Image"],ie=()=>{switch(W){case"select":return 0;case"form":return 1;case"result":return 2;default:return 0}};ee.useEffect(()=>{(f||w)&&(l(),G(null))},[f,w,l]);const le=N=>{V(N),se("form"),Q(null),O(null),G(null)},ne=N=>{W!=="select"?(V(N),se("form"),Q(null),O(null),G(null)):le(N)},oe=N=>{if(!t||!e||!et)return!0;const P=Xr[N];return t.credits<P?(G(`Insufficient credits. You need ${P} credits to generate a ${N} image. You currently have ${t.credits} credits.`),!1):!0},ce=async N=>{if(M&&oe(M)){x(!0),O(N),G(null);try{console.log("=== STARTING IMAGE GENERATION ==="),console.log("Selected type:",M),console.log("Raw form data:",N);const P=Cn(N);console.log("Sanitized data:",P);let H="";M==="blog"?H=`Blog post title: '${P.title}', Content: ${P.intro}`:H=P.content,P.style&&(H+=`, Style: ${P.style}`),P.colour&&(H+=`, Colour: ${P.colour}`);const q={image_type:M==="blog"?"Featured Image":"Infographic",image_detail:H};console.log("=== SENDING TO WEBHOOK ==="),console.log("Webhook URL:",zc),console.log("Payload:",JSON.stringify(q,null,2));const z=await fetch(zc,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(console.log("=== WEBHOOK RESPONSE ==="),console.log("Response status:",z.status),console.log("Response ok:",z.ok),console.log("Response status text:",z.statusText),console.log("Response headers:",Object.fromEntries(z.headers.entries())),!z.ok)throw new Error(`HTTP error! status: ${z.status} - ${z.statusText}`);const J=await z.text();if(console.log("=== RAW RESPONSE ==="),console.log("Response text length:",J.length),console.log("First 500 chars:",J.substring(0,500)),console.log("Last 100 chars:",J.substring(Math.max(0,J.length-100))),!J||J.trim()==="")throw new Error("Empty response received from server");let Y;try{Y=JSON.parse(J),console.log("=== PARSED JSON ==="),console.log("Result type:",typeof Y),console.log("Result keys:",Y&&typeof Y=="object"?Object.keys(Y):"Not an object"),console.log("Full result:",Y)}catch(ue){console.error("JSON parse error:",ue),console.log("Response was not valid JSON. Checking if it might be base64...");const we=/^[A-Za-z0-9+/]*={0,2}$/;if(J.length>100&&we.test(J.trim()))console.log("Response appears to be base64 string"),Y={image:J.trim()};else throw new Error(`Invalid response format. Expected JSON but got: ${J.substring(0,200)}...`)}console.log("=== EXTRACTING IMAGE DATA ===");let K=null;if(Y&&typeof Y=="object"){const ue=["image","data","base64","imageData","image_data","output","result","response"];for(const we of ue){if(Y[we]){console.log(`Found image data in property: ${we}`),K=Y[we];break}if(Y[we]&&typeof Y[we]=="object"&&Y[we].image){console.log(`Found image data in nested property: ${we}.image`),K=Y[we].image;break}}if(!K){console.log("Searching all properties for base64-like strings...");for(const[we,mt]of Object.entries(Y))if(typeof mt=="string"&&mt.length>100&&/^[A-Za-z0-9+/]*={0,2}$/.test(mt)){console.log(`Found potential base64 in property: ${we}`),K=mt;break}}}else typeof Y=="string"&&Y.length>100&&(console.log("Treating entire result as base64 string"),K=Y);if(console.log("=== IMAGE DATA VALIDATION ==="),console.log("Image base64 found:",!!K),console.log("Image base64 length:",K?K.length:0),!K)throw console.error("=== NO IMAGE DATA FOUND ==="),console.error("Full response structure:",JSON.stringify(Y,null,2)),new Error("No image data found in response. Please check the webhook response format.");if(K.startsWith("data:image/")&&(console.log("Removing data URL prefix"),K=K.split(",")[1]),K.length<100)throw new Error("Received image data is too short to be valid");try{atob(K.substring(0,100)),console.log("Base64 validation passed")}catch(ue){throw console.error("Base64 validation failed:",ue),new Error("Received data is not valid base64 format")}if(console.log("=== PROCESSING CREDITS AND DATABASE ==="),t&&e&&et)try{console.log("Deducting credits for user:",t.id,"Amount:",Xr[M]);const{deductCredits:ue}=await nt(async()=>{const{deductCredits:mt}=await Promise.resolve().then(()=>Wt);return{deductCredits:mt}},void 0),we=await ue(t.id,Xr[M]);console.log("Credits deducted successfully. New balance:",we),await a()}catch(ue){console.error("Error deducting credits:",ue)}if(t&&e&&et)try{console.log("Saving image generation to database");const{saveImageGeneration:ue}=await nt(async()=>{const{saveImageGeneration:we}=await Promise.resolve().then(()=>Wt);return{saveImageGeneration:we}},void 0);await ue({user_id:t.id,image_type:M,title:M==="blog"?P.title:void 0,content:M==="blog"?P.intro:P.content,style:P.style,colour:P.colour,credits_used:Xr[M],image_data:K}),console.log("Image generation saved to database successfully")}catch(ue){console.error("Error saving to database:",ue)}console.log("=== FINALIZING IMAGE GENERATION ===");const ae={base64:K,type:M};console.log("Setting generated image"),Q(ae),se("result");const ge={id:`img-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:M,base64:K,title:M==="blog"?P.title:"Infographic",content:M==="blog"?P.intro:P.content,timestamp:Date.now(),style:P.style||void 0,colour:P.colour||void 0};console.log("Adding image to history:",ge.id),c(ge),A(!0),console.log("=== IMAGE GENERATION COMPLETED SUCCESSFULLY ===")}catch(P){console.error("=== IMAGE GENERATION ERROR ==="),console.error("Error details:",P),console.error("Error stack:",P instanceof Error?P.stack:"No stack trace");let H="Failed to generate image. Please try again.";P instanceof Error&&(P.message.includes("JSON")?H="Invalid response format from server. Please contact support.":P.message.includes("HTTP error")?H=`Server error: ${P.message}`:P.message.includes("Empty response")?H="No response received from server. Please try again.":P.message.includes("base64")?H="Invalid image data received. Please try again.":H=P.message),G(H)}finally{x(!1),console.log("=== PROCESSING COMPLETED ===")}}},de=()=>{se("form"),Q(null),G(null)},Re=()=>{W==="form"?(se("select"),V(null),O(null),Q(null),G(null)):W==="result"&&(se("form"),Q(null),G(null))},ve=()=>{M&&oe(M)&&U(!0)},v=(N,P)=>{console.log("Bulk processing completed notification:",N,P),b({show:!0,completed:N,total:P}),t&&e&&et&&a()},D=()=>{var N;if(L)try{const P=atob(L.base64),H=new Array(P.length);for(let ge=0;ge<P.length;ge++)H[ge]=P.charCodeAt(ge);const q=new Uint8Array(H),z=new Blob([q],{type:"image/png"}),J=URL.createObjectURL(z),Y=document.createElement("a");Y.href=J;const ae=((j==null?void 0:j.title)||((N=j==null?void 0:j.content)==null?void 0:N.substring(0,30))||"image").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/\s+/g,"-").toLowerCase();Y.download=`seo-engine-${L.type}-${ae}-${Date.now()}.png`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(J)}catch(P){console.error("Download error:",P)}},$=W==="form"||W==="result",E=W!=="select";return r?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 mx-auto mb-4",children:u.jsx(Oe,{className:"w-8 h-8 text-white animate-pulse"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"SEO Engine"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-red-100 mx-auto mb-4",children:u.jsx(Wa,{className:"w-8 h-8 text-red-600"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connection Error"}),u.jsx("p",{className:"text-gray-600 mb-4",children:n}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"To fix this:"}),' Please click the "Connect to Supabase" button in the top right corner to set up your database connection.']})}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:"Retry Connection"})]})}):e?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[u.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-gray-200/50 sticky top-0 z-50",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 mr-3",children:u.jsx(Oe,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI Image Generator"}),u.jsx("p",{className:"text-sm text-gray-600 hidden sm:block",children:"Create stunning visuals with AI"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"hidden sm:flex items-center text-sm text-gray-500",children:[u.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Powered by ",u.jsx("span",{className:"font-semibold text-blue-600 ml-1",children:"SEO Engine"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[t&&et&&u.jsxs("div",{className:"flex items-center px-3 py-2 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:[u.jsx(Va,{className:"w-4 h-4 mr-2 text-green-600"}),u.jsxs("span",{className:"text-sm font-semibold text-green-700",children:[t.credits," Credits"]})]}),u.jsxs("button",{onClick:()=>T(!0),disabled:h||y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed relative",title:"View History",children:[u.jsx(tf,{className:"w-4 h-4"}),d.length>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:d.length>9?"9+":d.length})]}),t&&t.is_admin&&et&&u.jsx("button",{onClick:()=>C(!0),disabled:h||y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Admin Panel",children:u.jsx(jm,{className:"w-4 h-4"})}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(of,{className:"w-4 h-4 mr-2"}),(t==null?void 0:t.name)||(t==null?void 0:t.email)||"User"]}),u.jsx("button",{onClick:o,disabled:h||y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Sign Out",children:u.jsx(_m,{className:"w-4 h-4"})})]})]})]})})}),(h||y)&&u.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:u.jsx("div",{className:"flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center text-blue-700",children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3"}),u.jsx("span",{className:"text-sm font-medium",children:y?`Bulk processing is currently active. Please wait for completion before starting another process.${g?` (${g.completed}/${g.total} completed)`:""}`:"Single image generation is currently active. Please wait..."})]})})})}),u.jsx(Bm,{currentType:M,onTypeSelect:ne,isVisible:E,disabled:h||y}),u.jsx("div",{className:"bg-white/50 backdrop-blur-sm border-b border-gray-200/50",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:u.jsx(Um,{currentStep:ie(),steps:Z})})}),F&&u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:u.jsx("p",{className:"text-red-600 text-sm",children:F})})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:$?u.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 min-h-[calc(100vh-300px)]",children:[u.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200/50 overflow-hidden",children:u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"p-4 sm:p-8 border-b border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:M==="blog"?"Blog Featured Image":"Infographic Image"}),u.jsx("button",{onClick:Re,disabled:h||y,className:"px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:" Back"})]}),u.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:M==="blog"?`Provide your blog details to generate a stunning featured image${` (${Xr.blog} credits)`}`:`Provide your content to create a visual infographic${` (${Xr.infographic} credits)`}`})]}),u.jsxs("div",{className:"flex-1 p-4 sm:p-8 overflow-y-auto",children:[M==="blog"&&u.jsx(Tm,{onSubmit:ce,isLoading:h,disabled:h||y,onOpenBulkModal:ve}),M==="infographic"&&u.jsx(Lm,{onSubmit:ce,isLoading:h,disabled:h||y,onOpenBulkModal:ve})]})]})}),u.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200/50 overflow-hidden","data-preview":!0,children:u.jsx(Dm,{isLoading:h,generatedImage:L,formData:j,imageType:M,onGenerateNew:de,isBulkProcessing:y,bulkProgress:g,onOpenBulkModal:ve})})]}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx(Pm,{selectedType:M,onTypeSelect:le,disabled:h||y})})}),u.jsx("footer",{className:"bg-white/80 backdrop-blur-xl border-t border-gray-200/50 mt-16",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 mr-3",children:u.jsx(Oe,{className:"w-4 h-4 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"SEO Engine"})]}),u.jsx("p",{className:"text-gray-600 mb-2",children:"Empowering content creators with AI-driven visual solutions"}),u.jsx("p",{className:"text-sm text-gray-500",children:" 2025 SEO Engine. All rights reserved. | Transforming ideas into stunning visuals."})]})})}),u.jsx(fv,{isOpen:I,onClose:()=>T(!1)}),u.jsx(yv,{isOpen:R,onClose:()=>U(!1),imageType:M||"blog",onProcessingStateChange:p,onProgressUpdate:_,onImageGenerated:c,onBulkCompleted:v,user:t,onRefreshUser:a}),t&&t.is_admin&&et&&u.jsx(dv,{isOpen:k,onClose:()=>C(!1),currentUser:t}),u.jsx(Rc,{isVisible:re,onClose:()=>A(!1),imageType:(L==null?void 0:L.type)||"blog",onDownload:D,onPreview:()=>{const N=document.querySelector("[data-preview]");N&&N.scrollIntoView({behavior:"smooth"})}}),u.jsx(Rc,{isVisible:B.show,onClose:()=>b({show:!1,completed:0,total:0}),imageType:"blog",autoHide:!0,duration:8e3,isBulkCompletion:!0,completedCount:B.completed,totalCount:B.total,onPreview:()=>{T(!0),b({show:!1,completed:0,total:0})}})]}):u.jsxs("div",{className:"h-screen bg-black relative overflow-hidden flex flex-col",children:[u.jsx(Fm,{}),u.jsx("header",{className:"bg-black/20 backdrop-blur-xl border-b border-white/10 relative z-10 flex-shrink-0",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 mr-3 shadow-lg",children:u.jsx(Oe,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-white",children:"AI Image Generator"}),u.jsx("p",{className:"text-sm text-blue-200 hidden sm:block",children:"Create stunning visuals with AI"})]})]}),u.jsx("button",{onClick:()=>m(!0),className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Sign In"})]})})}),u.jsx("main",{className:"flex-1 flex items-center justify-center relative z-10 px-4 sm:px-6",children:u.jsxs("div",{className:"text-center max-w-5xl mx-auto",children:[u.jsx("div",{className:"flex items-center justify-center w-24 h-24 rounded-3xl bg-gradient-to-r from-blue-500 via-purple-600 to-pink-600 mx-auto mb-8 shadow-2xl animate-pulse",children:u.jsx(Oe,{className:"w-12 h-12 text-white"})}),u.jsx("h1",{className:"text-5xl sm:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent leading-tight",children:"AI Image Generator"}),u.jsx("p",{className:"text-xl sm:text-2xl text-white/90 mb-8 max-w-4xl mx-auto leading-relaxed",children:"Create stunning blog featured images and infographics with the power of AI"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[u.jsxs("div",{className:"flex items-center px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 text-white",children:[u.jsx(Vi,{className:"w-5 h-5 mr-2 text-blue-400"}),"Powered by SEO Engine"]}),u.jsx("div",{className:"hidden sm:block w-2 h-2 bg-white/30 rounded-full"}),u.jsxs("div",{className:"flex items-center px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 text-white",children:[u.jsx(Oe,{className:"w-5 h-5 mr-2 text-purple-400"}),"Professional Quality"]}),u.jsx("div",{className:"hidden sm:block w-2 h-2 bg-white/30 rounded-full"}),u.jsxs("div",{className:"flex items-center px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 text-white",children:[u.jsx(Va,{className:"w-5 h-5 mr-2 text-green-400"}),"100 Free Credits"]})]}),u.jsx("button",{onClick:()=>m(!0),className:"px-10 py-4 rounded-xl bg-gradient-to-r from-blue-500 via-purple-600 to-pink-600 text-white font-bold hover:from-blue-600 hover:via-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105 shadow-2xl text-lg border border-white/20",children:"Get Started Free"})]})}),u.jsx(Mm,{isOpen:f,onClose:()=>m(!1),onSignInWithEmail:i,onSignInAnonymously:async()=>(G("Please create an account to use the service and get 100 free credits!"),!1),onOpenSignUp:()=>S(!0)}),u.jsx(Wm,{isOpen:w,onClose:()=>S(!1),onSignUp:s})]})}Jh(document.getElementById("root")).render(u.jsx(ee.StrictMode,{children:u.jsx(xv,{})}));
